import{b as cl}from"static/js/chunk-2GWZWJVH.min.js";import{a as Xn}from"static/js/chunk-YLYOFEAY.min.js";import{a as il}from"static/js/chunk-MGXHCZSG.min.js";import{$a as vs,$b as Qs,$c as ml,$d as ql,A as Va,Aa as ts,Ab as Vs,Ad as qe,Ae as nc,B as za,Bb as zs,Bc as qn,Bd as Nl,Cb as Bs,Cd as wi,D as En,Db as Hs,Dd as vt,Ed as tr,Fa as hi,Fc as Or,Fd as Qn,Gc as At,Gd as Vl,Ge as pe,Hb as js,He as oc,I as Kt,Ib as zn,Ic as ol,Id as zl,J as Ba,Ja as rs,Jb as Bn,Jc as tn,Jd as Bl,Je as ic,K as Ha,Ka as Dt,Kb as Hn,Kc as al,Ke as ac,L as Tt,Lc as rn,Ld as rr,Le as sc,M as Fe,Mb as Fs,Mc as sl,Md as nn,Me as Ci,Nb as Cr,Nc as ll,Nd as kr,Ne as an,O as gr,Oa as ns,Od as Hl,Oe as lc,Pa as os,Pc as ul,Qa as is,Qc as xr,Qd as Pt,R as ja,Rb as Us,Rc as Ir,Rd as Er,S as Fa,Sa as ss,Sc as dl,T as Wa,Ta as Dn,Tb as Gs,Tc as _e,Td as jl,U as Ua,Ua as ls,Ub as Xs,Uc as Si,Ud as De,Va as cs,Vb as Ys,Vc as $n,Vd as Fl,Wa as us,Wb as jn,Wc as pl,Wd as Jn,Xa as se,Xb as Rr,Xc as Kn,Xd as Wl,Y as gt,Ya as ds,Yc as Yn,Za as yi,Zc as N,Zd as Ul,_ as hr,_a as ms,_c as fl,_d as Gl,a as _t,aa as pi,ab as bs,ad as gl,ae as Xl,ba as Ga,bc as Zs,bd as hl,be as $l,c as Ea,ca as qa,cb as A,cc as Fn,ce as Kl,d as Yr,da as Xa,dc as el,dd as yl,de as Zn,e as _a,ea as fi,ec as en,ed as vl,ee as _r,f as Da,fa as mi,fd as bl,fe as Vt,g as La,ga as $a,gb as Zt,gd as Sl,ha as Ka,ia as Ya,ic as Be,id as wl,j as Ma,ja as Qa,jd as Tl,je as Yl,ka as Ja,kb as Is,kc as Mt,ke as Xe,la as gi,lb as ks,ld as Cl,ma as Za,mc as Wn,md as Rl,na as es,nc as Un,nd as Pl,ob as yt,oc as tl,od as Ol,p as Aa,pb as Es,pd as xl,qb as _s,qd as Il,qe as Ql,rb as Vn,rc as Pr,rd as kl,re as Jl,sb as Ds,sc as Gn,sd as El,se as Ti,t as kn,tb as Ls,tc as rl,td as _l,ub as Zr,uc as af,ud as Dl,ue as on,v as Na,vb as Ms,vc as bi,vd as Ll,ve as Zl,wb as Tr,wd as Ml,we as ec,xb as As,xc as nl,xd as te,xe as tc,yb as Lt,yd as Nt,ye as rc,zb as Ns,zd as Al,ze as eo}from"static/js/chunk-NSGK4PAE.min.js";import{f as er,g as Ws}from"static/js/chunk-4A5U2GP4.min.js";import{a as fr}from"static/js/chunk-2BY25Q75.min.js";import{A as Nn,C as Os,D as of,I as xs,J as wr,K as qs,M as $s,O as Ks,R as Z,S as Js,b as We,g as ys,h as Mn,i as nf,l as Ss,o as oe,p as ws,q as Ts,r as Ct,s as Jr,t as Cs,u as ht,v as Ee,w as Ge,y as An}from"static/js/chunk-HRGWFZSS.min.js";import{b as _n,c as as,g as Qr,h as ke,i as yr,n as Jt,p as gs,q as hs,r as br,s as C,t as Sr,v as Se,w as vi,x as G,y as L}from"static/js/chunk-FYAAXITJ.min.js";import{a as Rs,d as Rt,e as Ue,g as R,h as Ps}from"static/js/chunk-GDZRQYSV.min.js";import{F as Ia,G as F,I as $t,N as mt,O as ka,Q as ui,S as di,T as j,U as Yt,V as b,W as d,X as f,Y as ps,_ as fs,ba as Qt,ca as Ln,da as vr,n as ve,q as T,r as xa,s as ef,w as m,y as Et,z as tf}from"static/js/chunk-4SZKWRVS.min.js";import{a as Zp}from"static/js/chunk-ICYT6H5B.min.js";import{a as mr,b as Pe,c as rf}from"static/js/chunk-6Z77QNA7.min.js";import{a as g,b as x,e as pr,g as ft,i as w,j as ci,l as s}from"static/js/chunk-57DNK6NM.min.js";var jc=ft(un=>{"use strict";s();Zp();var Wf=T(),Bc=60103;un.Fragment=60107;typeof Symbol=="function"&&Symbol.for&&(Mi=Symbol.for,Bc=Mi("react.element"),un.Fragment=Mi("react.fragment"));var Mi,Uf=Wf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Gf=Object.prototype.hasOwnProperty,qf={key:!0,ref:!0,__self:!0,__source:!0};function Hc(t,r,e){var n,o={},i=null,a=null;e!==void 0&&(i=""+e),r.key!==void 0&&(i=""+r.key),r.ref!==void 0&&(a=r.ref);for(n in r)Gf.call(r,n)&&!qf.hasOwnProperty(n)&&(o[n]=r[n]);if(t&&t.defaultProps)for(n in r=t.defaultProps,r)o[n]===void 0&&(o[n]=r[n]);return{$$typeof:Bc,type:t,key:i,ref:a,props:o,_owner:Uf.current}}un.jsx=Hc;un.jsxs=Hc});var Wc=ft((yS,Fc)=>{"use strict";s();Fc.exports=jc()});var Pd=ft(ea=>{"use strict";s();Object.defineProperty(ea,"__esModule",{value:!0});var Mg={justifyContent:"center",alignItems:"center",overflow:"hidden",backgroundColor:"transparent"};ea.default={container:Mg}});var Od=ft(No=>{"use strict";s();Object.defineProperty(No,"__esModule",{value:!0});var Ag=function(){function t(){this.cropWidth=100,this.cropHeight=100,this.imageWidth=100,this.imageHeight=100,this.panToMove=!0,this.pinchToZoom=!0,this.enableDoubleClickZoom=!0,this.clickDistance=10,this.maxOverflow=100,this.longPressTime=800,this.doubleClickInterval=175,this.style={},this.swipeDownThreshold=230,this.enableSwipeDown=!1,this.enableCenterFocus=!0,this.minScale=.6,this.maxScale=10,this.onClick=function(){},this.onDoubleClick=function(){},this.onLongPress=function(){},this.horizontalOuterRangeOffset=function(){},this.onDragLeft=function(){},this.responderRelease=function(){},this.onMove=function(){},this.layoutChange=function(){},this.onSwipeDown=function(){}}return t}();No.Props=Ag;var Ng=function(){function t(){this.centerX=.5,this.centerY=.5}return t}();No.State=Ng});var Id=ft(ar=>{"use strict";s();var Vg=ar&&ar.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,e){r.__proto__=e}||function(r,e){for(var n in e)e.hasOwnProperty(n)&&(r[n]=e[n])};return function(r,e){t(r,e);function n(){this.constructor=r}r.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),zg=ar&&ar.__assign||Object.assign||function(t){for(var r,e=1,n=arguments.length;e<n;e++){r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t};Object.defineProperty(ar,"__esModule",{value:!0});var Vo=T(),le=(j(),ci(di)),Bg=Pd(),xd=Od(),Hg=function(t){Vg(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;return e.state=new xd.State,e.lastPositionX=null,e.positionX=0,e.animatedPositionX=new le.Animated.Value(0),e.lastPositionY=null,e.positionY=0,e.animatedPositionY=new le.Animated.Value(0),e.scale=1,e.animatedScale=new le.Animated.Value(1),e.zoomLastDistance=null,e.zoomCurrentDistance=0,e.imagePanResponder=null,e.lastTouchStartTime=0,e.horizontalWholeOuterCounter=0,e.swipeDownOffset=0,e.horizontalWholeCounter=0,e.verticalWholeCounter=0,e.centerDiffX=0,e.centerDiffY=0,e.lastClickTime=0,e.doubleClickX=0,e.doubleClickY=0,e.isDoubleClick=!1,e.isLongPress=!1,e.isHorizontalWrap=!1,e.resetScale=function(){e.positionX=0,e.positionY=0,e.scale=1,e.animatedScale.setValue(1)},e.panResponderReleaseResolve=function(){if(e.props.enableSwipeDown&&e.props.swipeDownThreshold&&e.swipeDownOffset>e.props.swipeDownThreshold){e.props.onSwipeDown&&e.props.onSwipeDown();return}if(e.props.enableCenterFocus&&e.scale<1&&(e.scale=1,le.Animated.timing(e.animatedScale,{toValue:e.scale,duration:100}).start()),e.props.imageWidth*e.scale<=e.props.cropWidth&&(e.positionX=0,le.Animated.timing(e.animatedPositionX,{toValue:e.positionX,duration:100}).start()),e.props.imageHeight*e.scale<=e.props.cropHeight&&(e.positionY=0,le.Animated.timing(e.animatedPositionY,{toValue:e.positionY,duration:100}).start()),e.props.imageHeight*e.scale>e.props.cropHeight){var n=(e.props.imageHeight*e.scale-e.props.cropHeight)/2/e.scale;e.positionY<-n?e.positionY=-n:e.positionY>n&&(e.positionY=n),le.Animated.timing(e.animatedPositionY,{toValue:e.positionY,duration:100}).start()}if(e.props.imageWidth*e.scale>e.props.cropWidth){var o=(e.props.imageWidth*e.scale-e.props.cropWidth)/2/e.scale;e.positionX<-o?e.positionX=-o:e.positionX>o&&(e.positionX=o),le.Animated.timing(e.animatedPositionX,{toValue:e.positionX,duration:100}).start()}e.props.enableCenterFocus&&e.scale===1&&(e.positionX=0,e.positionY=0,le.Animated.timing(e.animatedPositionX,{toValue:e.positionX,duration:100}).start(),le.Animated.timing(e.animatedPositionY,{toValue:e.positionY,duration:100}).start()),e.horizontalWholeOuterCounter=0,e.swipeDownOffset=0,e.imageDidMove("onPanResponderRelease")},e}return r.prototype.componentWillMount=function(){var e=this;this.imagePanResponder=le.PanResponder.create({onStartShouldSetPanResponder:function(){return!0},onPanResponderTerminationRequest:function(){return!1},onPanResponderGrant:function(n){if(e.lastPositionX=null,e.lastPositionY=null,e.zoomLastDistance=null,e.horizontalWholeCounter=0,e.verticalWholeCounter=0,e.lastTouchStartTime=new Date().getTime(),e.isDoubleClick=!1,e.isLongPress=!1,e.isHorizontalWrap=!1,e.singleClickTimeout&&clearTimeout(e.singleClickTimeout),n.nativeEvent.changedTouches.length>1){var o=(n.nativeEvent.changedTouches[0].pageX+n.nativeEvent.changedTouches[1].pageX)/2;e.centerDiffX=o-e.props.cropWidth/2;var i=(n.nativeEvent.changedTouches[0].pageY+n.nativeEvent.changedTouches[1].pageY)/2;e.centerDiffY=i-e.props.cropHeight/2}if(e.longPressTimeout&&clearTimeout(e.longPressTimeout),e.longPressTimeout=setTimeout(function(){e.isLongPress=!0,e.props.onLongPress&&e.props.onLongPress()},e.props.longPressTime),n.nativeEvent.changedTouches.length<=1)if(new Date().getTime()-e.lastClickTime<(e.props.doubleClickInterval||0)){if(e.lastClickTime=0,e.props.onDoubleClick&&e.props.onDoubleClick(),clearTimeout(e.longPressTimeout),e.doubleClickX=n.nativeEvent.changedTouches[0].pageX,e.doubleClickY=n.nativeEvent.changedTouches[0].pageY,e.isDoubleClick=!0,e.props.enableDoubleClickZoom){if(e.scale>1||e.scale<1)e.scale=1,e.positionX=0,e.positionY=0;else{var a=e.scale;e.scale=2;var l=e.scale-a;e.positionX=(e.props.cropWidth/2-e.doubleClickX)*l/e.scale,e.positionY=(e.props.cropHeight/2-e.doubleClickY)*l/e.scale}e.imageDidMove("centerOn"),le.Animated.parallel([le.Animated.timing(e.animatedScale,{toValue:e.scale,duration:100}),le.Animated.timing(e.animatedPositionX,{toValue:e.positionX,duration:100}),le.Animated.timing(e.animatedPositionY,{toValue:e.positionY,duration:100})]).start()}}else e.lastClickTime=new Date().getTime()},onPanResponderMove:function(n,o){if(!e.isDoubleClick){if(n.nativeEvent.changedTouches.length<=1){var i=o.dx-(e.lastPositionX||0);e.lastPositionX===null&&(i=0);var a=o.dy-(e.lastPositionY||0);if(e.lastPositionY===null&&(a=0),e.lastPositionX=o.dx,e.lastPositionY=o.dy,e.horizontalWholeCounter+=i,e.verticalWholeCounter+=a,(Math.abs(e.horizontalWholeCounter)>5||Math.abs(e.verticalWholeCounter)>5)&&clearTimeout(e.longPressTimeout),e.props.panToMove){if(e.swipeDownOffset===0){if(Math.abs(i)>Math.abs(a)&&(e.isHorizontalWrap=!0),e.props.imageWidth*e.scale>e.props.cropWidth){e.horizontalWholeOuterCounter>0?i<0?e.horizontalWholeOuterCounter>Math.abs(i)?(e.horizontalWholeOuterCounter+=i,i=0):(i+=e.horizontalWholeOuterCounter,e.horizontalWholeOuterCounter=0,e.props.horizontalOuterRangeOffset&&e.props.horizontalOuterRangeOffset(0)):e.horizontalWholeOuterCounter+=i:e.horizontalWholeOuterCounter<0&&(i>0?Math.abs(e.horizontalWholeOuterCounter)>i?(e.horizontalWholeOuterCounter+=i,i=0):(i+=e.horizontalWholeOuterCounter,e.horizontalWholeOuterCounter=0,e.props.horizontalOuterRangeOffset&&e.props.horizontalOuterRangeOffset(0)):e.horizontalWholeOuterCounter+=i),e.positionX+=i/e.scale;var l=(e.props.imageWidth*e.scale-e.props.cropWidth)/2/e.scale;e.positionX<-l?(e.positionX=-l,e.horizontalWholeOuterCounter+=-1/1e10):e.positionX>l&&(e.positionX=l,e.horizontalWholeOuterCounter+=1/1e10),e.animatedPositionX.setValue(e.positionX)}else e.horizontalWholeOuterCounter+=i;e.horizontalWholeOuterCounter>(e.props.maxOverflow||0)?e.horizontalWholeOuterCounter=e.props.maxOverflow||0:e.horizontalWholeOuterCounter<-(e.props.maxOverflow||0)&&(e.horizontalWholeOuterCounter=-(e.props.maxOverflow||0)),e.horizontalWholeOuterCounter!==0&&e.props.horizontalOuterRangeOffset&&e.props.horizontalOuterRangeOffset(e.horizontalWholeOuterCounter)}e.props.imageHeight*e.scale>e.props.cropHeight?(e.positionY+=a/e.scale,e.animatedPositionY.setValue(e.positionY)):e.props.enableSwipeDown&&!e.isHorizontalWrap&&(e.swipeDownOffset+=a,e.swipeDownOffset>0&&(e.positionY+=a/e.scale,e.animatedPositionY.setValue(e.positionY),e.scale=e.scale-a/1e3,e.animatedScale.setValue(e.scale)))}}else if(e.longPressTimeout&&clearTimeout(e.longPressTimeout),e.props.pinchToZoom){var c=void 0,u=void 0;n.nativeEvent.changedTouches[0].locationX>n.nativeEvent.changedTouches[1].locationX?(c=n.nativeEvent.changedTouches[1].pageX,u=n.nativeEvent.changedTouches[0].pageX):(c=n.nativeEvent.changedTouches[0].pageX,u=n.nativeEvent.changedTouches[1].pageX);var p=void 0,y=void 0;n.nativeEvent.changedTouches[0].locationY>n.nativeEvent.changedTouches[1].locationY?(p=n.nativeEvent.changedTouches[1].pageY,y=n.nativeEvent.changedTouches[0].pageY):(p=n.nativeEvent.changedTouches[0].pageY,y=n.nativeEvent.changedTouches[1].pageY);var h=u-c,I=y-p,P=Math.sqrt(h*h+I*I);if(e.zoomCurrentDistance=Number(P.toFixed(1)),e.zoomLastDistance!==null){var O=(e.zoomCurrentDistance-e.zoomLastDistance)/200,k=e.scale+O;k<(e.props.minScale||0)&&(k=e.props.minScale||0),k>(e.props.maxScale||0)&&(k=e.props.maxScale||0);var D=e.scale;e.scale=k,e.animatedScale.setValue(e.scale);var Y=e.scale-D;e.positionX-=e.centerDiffX*Y/e.scale,e.positionY-=e.centerDiffY*Y/e.scale,e.animatedPositionX.setValue(e.positionX),e.animatedPositionY.setValue(e.positionY)}e.zoomLastDistance=e.zoomCurrentDistance}e.imageDidMove("onPanResponderMove")}},onPanResponderRelease:function(n,o){if(e.longPressTimeout&&clearTimeout(e.longPressTimeout),!e.isDoubleClick&&!e.isLongPress){var i=Math.sqrt(o.dx*o.dx+o.dy*o.dy),a=n.nativeEvent,l=a.locationX,c=a.locationY,u=a.pageX,p=a.pageY;n.nativeEvent.changedTouches.length===1&&i<(e.props.clickDistance||0)?e.singleClickTimeout=setTimeout(function(){e.props.onClick&&e.props.onClick({locationX:l,locationY:c,pageX:u,pageY:p})},e.props.doubleClickInterval):(e.props.responderRelease&&e.props.responderRelease(o.vx,e.scale),e.panResponderReleaseResolve())}},onPanResponderTerminate:function(){}})},r.prototype.componentDidMount=function(){this.props.centerOn&&this.centerOn(this.props.centerOn)},r.prototype.componentWillReceiveProps=function(e){(e.centerOn&&!this.props.centerOn||e.centerOn&&this.props.centerOn&&this.didCenterOnChange(this.props.centerOn,e.centerOn))&&this.centerOn(e.centerOn)},r.prototype.imageDidMove=function(e){this.props.onMove&&this.props.onMove({type:e,positionX:this.positionX,positionY:this.positionY,scale:this.scale,zoomCurrentDistance:this.zoomCurrentDistance})},r.prototype.didCenterOnChange=function(e,n){return e.x!==n.x||e.y!==n.y||e.scale!==n.scale},r.prototype.centerOn=function(e){var n=this;this.positionX=e.x,this.positionY=e.y,this.scale=e.scale;var o=e.duration||300;le.Animated.parallel([le.Animated.timing(this.animatedScale,{toValue:this.scale,duration:o}),le.Animated.timing(this.animatedPositionX,{toValue:this.positionX,duration:o}),le.Animated.timing(this.animatedPositionY,{toValue:this.positionY,duration:o})]).start(function(){n.imageDidMove("centerOn")})},r.prototype.handleLayout=function(e){this.props.layoutChange&&this.props.layoutChange(e)},r.prototype.reset=function(){this.scale=1,this.animatedScale.setValue(this.scale),this.positionX=0,this.animatedPositionX.setValue(this.positionX),this.positionY=0,this.animatedPositionY.setValue(this.positionY)},r.prototype.render=function(){var e={transform:[{scale:this.animatedScale},{translateX:this.animatedPositionX},{translateY:this.animatedPositionY}]},n=le.StyleSheet.flatten(this.props.style);return Vo.createElement(le.View,g({style:zg({},Bg.default.container,n,{width:this.props.cropWidth,height:this.props.cropHeight})},this.imagePanResponder.panHandlers),Vo.createElement(le.Animated.View,{style:e,renderToHardwareTextureAndroid:!0},Vo.createElement(le.View,{onLayout:this.handleLayout.bind(this),style:{width:this.props.imageWidth,height:this.props.imageHeight}},this.props.children)))},r.defaultProps=new xd.Props,r}(Vo.Component);ar.default=Hg});var kd=ft(ta=>{"use strict";s();Object.defineProperty(ta,"__esModule",{value:!0});var jg=Id();ta.default=jg.default});var ra=ft(zo=>{"use strict";s();Object.defineProperty(zo,"__esModule",{value:!0});zo.default=function(t,r,e){return{modalContainer:{backgroundColor:e,justifyContent:"center",alignItems:"center",overflow:"hidden"},watchOrigin:{position:"absolute",width:t,bottom:20,justifyContent:"center",alignItems:"center"},watchOriginTouchable:{paddingLeft:10,paddingRight:10,paddingTop:5,paddingBottom:5,borderRadius:30,borderColor:"white",borderWidth:.5,backgroundColor:"rgba(0, 0, 0, 0.1)"},watchOriginText:{color:"white",backgroundColor:"transparent"},imageStyle:{},container:{backgroundColor:e},moveBox:{flexDirection:"row",alignItems:"center"},menuContainer:{position:"absolute",width:t,height:r,left:0,bottom:0,zIndex:12},menuShadow:{position:"absolute",width:t,height:r,backgroundColor:"black",left:0,bottom:0,opacity:.2,zIndex:10},menuContent:{position:"absolute",width:t,left:0,bottom:0,zIndex:11},operateContainer:{justifyContent:"center",alignItems:"center",backgroundColor:"white",height:40,borderBottomColor:"#ccc",borderBottomWidth:1},operateText:{color:"#333"},loadingTouchable:{width:t,height:r},loadingContainer:{flex:1,justifyContent:"center",alignItems:"center"},arrowLeftContainer:{position:"absolute",top:0,bottom:0,left:0,justifyContent:"center",zIndex:13},arrowRightContainer:{position:"absolute",top:0,bottom:0,right:0,justifyContent:"center",zIndex:13}}};zo.simpleStyle={count:{position:"absolute",left:0,right:0,top:38,zIndex:13,justifyContent:"center",alignItems:"center",backgroundColor:"transparent"},countText:{color:"white",fontSize:16,backgroundColor:"transparent",textShadowColor:"rgba(0, 0, 0, 0.3)",textShadowOffset:{width:0,height:.5},textShadowRadius:0}}});var ia=ft(Bo=>{"use strict";s();Object.defineProperty(Bo,"__esModule",{value:!0});var na=T(),oa=(j(),ci(di)),Ed=ra(),Fg=function(){function t(){this.show=!1,this.imageUrls=[],this.flipThreshold=80,this.maxOverflow=300,this.index=0,this.failImageSource=void 0,this.backgroundColor="black",this.footerContainerStyle={},this.menuContext={saveToLocal:"save to the album",cancel:"cancel"},this.saveToLocalByLongPress=!0,this.enableImageZoom=!0,this.style={},this.enableSwipeDown=!1,this.enablePreload=!1,this.pageAnimateTime=100,this.onLongPress=function(){},this.onClick=function(){},this.onDoubleClick=function(){},this.onSave=function(){},this.onMove=function(){},this.renderHeader=function(){return null},this.renderFooter=function(){return null},this.renderIndicator=function(r,e){return na.createElement(oa.View,{style:Ed.simpleStyle.count},na.createElement(oa.Text,{style:Ed.simpleStyle.countText},r+"/"+e))},this.renderImage=function(r){return na.createElement(oa.Image,r)},this.renderArrowLeft=function(){return null},this.renderArrowRight=function(){return null},this.onShowModal=function(){},this.onCancel=function(){},this.onSwipeDown=function(){},this.loadingRender=function(){return null},this.onSaveToCamera=function(){},this.onChange=function(){}}return t}();Bo.Props=Fg;var Wg=function(){function t(){this.show=!1,this.currentShowIndex=0,this.prevIndexProp=0,this.imageLoaded=!1,this.imageSizes=[],this.isShowMenu=!1}return t}();Bo.State=Wg});var Ld=ft(kt=>{"use strict";s();var Ug=kt&&kt.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,e){r.__proto__=e}||function(r,e){for(var n in e)e.hasOwnProperty(n)&&(r[n]=e[n])};return function(r,e){t(r,e);function n(){this.constructor=r}r.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),sr=kt&&kt.__assign||Object.assign||function(t){for(var r,e=1,n=arguments.length;e<n;e++){r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},Gg=kt&&kt.__rest||function(t,r){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&r.indexOf(n)<0&&(e[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(t);o<n.length;o++)r.indexOf(n[o])<0&&(e[n[o]]=t[n[o]]);return e};Object.defineProperty(kt,"__esModule",{value:!0});var Q=T(),V=(j(),ci(di)),_d=kd(),Dd=ra(),aa=ia(),qg=function(t){Ug(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;return e.state=new aa.State,e.fadeAnim=new V.Animated.Value(0),e.standardPositionX=0,e.positionXNumber=0,e.positionX=new V.Animated.Value(0),e.width=0,e.height=0,e.styles=Dd.default(0,0,"transparent"),e.hasLayout=!1,e.loadedIndex=new Map,e.handleLongPressWithIndex=new Map,e.imageRefs=[],e.resetImageByIndex=function(n){e.imageRefs[n]&&e.imageRefs[n].reset()},e.preloadImage=function(n){n<e.state.imageSizes.length&&e.loadImage(n+1)},e.handleHorizontalOuterRangeOffset=function(n){n===void 0&&(n=0),e.positionXNumber=e.standardPositionX+n,e.positionX.setValue(e.positionXNumber);var o=V.I18nManager.isRTL?-n:n;o<0?(e.state.currentShowIndex||0<e.props.imageUrls.length-1)&&e.loadImage((e.state.currentShowIndex||0)+1):o>0&&(e.state.currentShowIndex||0>0)&&e.loadImage((e.state.currentShowIndex||0)-1)},e.handleResponderRelease=function(n){n===void 0&&(n=0);var o=V.I18nManager.isRTL?-n:n,i=V.I18nManager.isRTL?e.positionXNumber-e.standardPositionX<-(e.props.flipThreshold||0):e.positionXNumber-e.standardPositionX>(e.props.flipThreshold||0),a=V.I18nManager.isRTL?e.positionXNumber-e.standardPositionX>(e.props.flipThreshold||0):e.positionXNumber-e.standardPositionX<-(e.props.flipThreshold||0);if(o>.7){e.goBack.call(e),(e.state.currentShowIndex||0>0)&&e.loadImage((e.state.currentShowIndex||0)-1);return}else if(o<-.7){e.goNext.call(e),(e.state.currentShowIndex||0<e.props.imageUrls.length-1)&&e.loadImage((e.state.currentShowIndex||0)+1);return}if(i)e.goBack.call(e);else if(a){e.goNext.call(e);return}else{e.resetPosition.call(e);return}},e.goBack=function(){if(e.state.currentShowIndex===0){e.resetPosition.call(e);return}e.positionXNumber=V.I18nManager.isRTL?e.standardPositionX-e.width:e.standardPositionX+e.width,e.standardPositionX=e.positionXNumber,V.Animated.timing(e.positionX,{toValue:e.positionXNumber,duration:e.props.pageAnimateTime}).start();var n=(e.state.currentShowIndex||0)-1;e.setState({currentShowIndex:n},function(){e.props.onChange&&e.props.onChange(e.state.currentShowIndex)})},e.goNext=function(){if(e.state.currentShowIndex===e.props.imageUrls.length-1){e.resetPosition.call(e);return}e.positionXNumber=V.I18nManager.isRTL?e.standardPositionX+e.width:e.standardPositionX-e.width,e.standardPositionX=e.positionXNumber,V.Animated.timing(e.positionX,{toValue:e.positionXNumber,duration:e.props.pageAnimateTime}).start();var n=(e.state.currentShowIndex||0)+1;e.setState({currentShowIndex:n},function(){e.props.onChange&&e.props.onChange(e.state.currentShowIndex)})},e.handleLongPress=function(n){e.props.saveToLocalByLongPress&&e.setState({isShowMenu:!0}),e.props.onLongPress&&e.props.onLongPress(n)},e.handleClick=function(){e.props.onClick&&e.props.onClick(e.handleCancel,e.state.currentShowIndex)},e.handleDoubleClick=function(){e.props.onDoubleClick&&e.props.onDoubleClick(e.handleCancel)},e.handleCancel=function(){e.hasLayout=!1,e.props.onCancel&&e.props.onCancel()},e.handleLayout=function(n){n.nativeEvent.layout.width!==e.width&&(e.hasLayout=!0,e.width=n.nativeEvent.layout.width,e.height=n.nativeEvent.layout.height,e.styles=Dd.default(e.width,e.height,e.props.backgroundColor||"transparent"),e.forceUpdate(),e.jumpToCurrentImage())},e.saveToLocal=function(){e.props.onSave?e.props.onSave(e.props.imageUrls[e.state.currentShowIndex||0].url):(V.CameraRoll.saveToCameraRoll(e.props.imageUrls[e.state.currentShowIndex||0].url),e.props.onSaveToCamera(e.state.currentShowIndex)),e.setState({isShowMenu:!1})},e.handleLeaveMenu=function(){e.setState({isShowMenu:!1})},e.handleSwipeDown=function(){e.props.onSwipeDown&&e.props.onSwipeDown(),e.handleCancel()},e}return r.prototype.componentDidMount=function(){this.init(this.props)},r.getDerivedStateFromProps=function(e,n){return e.index!==n.prevIndexProp?{currentShowIndex:e.index,prevIndexProp:e.index}:null},r.prototype.componentDidUpdate=function(e,n){e.index!==this.props.index&&(this.loadImage(this.props.index||0),this.jumpToCurrentImage(),V.Animated.timing(this.fadeAnim,{toValue:1,duration:200}).start())},r.prototype.init=function(e){var n=this;if(e.imageUrls.length===0)return this.fadeAnim.setValue(0),this.setState(new aa.State);var o=[];e.imageUrls.forEach(function(i){o.push({width:i.width||0,height:i.height||0,status:"loading"})}),this.setState({currentShowIndex:e.index,prevIndexProp:e.index||0,imageSizes:o},function(){n.loadImage(e.index||0),n.jumpToCurrentImage(),V.Animated.timing(n.fadeAnim,{toValue:1,duration:200}).start()})},r.prototype.jumpToCurrentImage=function(){this.positionXNumber=this.width*(this.state.currentShowIndex||0)*(V.I18nManager.isRTL?1:-1),this.standardPositionX=this.positionXNumber,this.positionX.setValue(this.positionXNumber)},r.prototype.loadImage=function(e){var n=this;if(!!this.state.imageSizes[e]&&!this.loadedIndex.has(e)){this.loadedIndex.set(e,!0);var o=this.props.imageUrls[e],i=sr({},this.state.imageSizes[e]),a=function(){if(!(n.state.imageSizes[e]&&n.state.imageSizes[e].status!=="loading")){var u=n.state.imageSizes.slice();u[e]=i,n.setState({imageSizes:u})}};if(this.state.imageSizes[e].status!=="success"){if(this.state.imageSizes[e].width>0&&this.state.imageSizes[e].height>0){i.status="success",a();return}var l=!1,c=!1;if((!o.url||o.url.startsWith("file:"))&&(c=!0),o.width&&o.height){this.props.enablePreload&&c===!1&&V.Image.prefetch(o.url),i.width=o.width,i.height=o.height,i.status="success",a();return}V.Image.getSize(o.url,function(u,p){i.width=u,i.height=p,i.status="success",a()},function(){try{var u=V.Image.resolveAssetSource(o.props.source);i.width=u.width,i.height=u.height,i.status="success",a()}catch(p){i.status="fail",a()}})}}},r.prototype.resetPosition=function(){this.positionXNumber=this.standardPositionX,V.Animated.timing(this.positionX,{toValue:this.standardPositionX,duration:150}).start()},r.prototype.getContent=function(){var e=this,n=this.width,o=this.height,i=this.props.imageUrls.map(function(a,l){if((e.state.currentShowIndex||0)>l+1||(e.state.currentShowIndex||0)<l-1)return Q.createElement(V.View,{key:l,style:{width:n,height:o}});e.handleLongPressWithIndex.has(l)||e.handleLongPressWithIndex.set(l,e.handleLongPress.bind(e,a));var c=e.state.imageSizes[l]&&e.state.imageSizes[l].width,u=e.state.imageSizes[l]&&e.state.imageSizes[l].height,p=e.state.imageSizes[l];if(!p||!p.status)return Q.createElement(V.View,{key:l,style:{width:n,height:o}});if(c>n){var y=n/c;c*=y,u*=y}if(u>o){var h=o/u;c*=h,u*=h}var I=function(P){var O=P.children,k=Gg(P,["children"]);return Q.createElement(_d.default,g({cropWidth:e.width,cropHeight:e.height,maxOverflow:e.props.maxOverflow,horizontalOuterRangeOffset:e.handleHorizontalOuterRangeOffset,responderRelease:e.handleResponderRelease,onMove:e.props.onMove,onLongPress:e.handleLongPressWithIndex.get(l),onClick:e.handleClick,onDoubleClick:e.handleDoubleClick,enableSwipeDown:e.props.enableSwipeDown,swipeDownThreshold:e.props.swipeDownThreshold,onSwipeDown:e.handleSwipeDown,pinchToZoom:e.props.enableImageZoom,enableDoubleClickZoom:e.props.enableImageZoom,doubleClickInterval:e.props.doubleClickInterval},k),O)};switch(p.status){case"loading":return Q.createElement(I,{key:l,style:sr({},e.styles.modalContainer,e.styles.loadingContainer),imageWidth:n,imageHeight:o},Q.createElement(V.View,{style:e.styles.loadingContainer},e.props.loadingRender()));case"success":return a.props||(a.props={}),a.props.style||(a.props.style={}),a.props.style=sr({},e.styles.imageStyle,a.props.style,{width:c,height:u}),typeof a.props.source=="number"||(a.props.source||(a.props.source={}),a.props.source=sr({uri:a.url},a.props.source)),e.props.enablePreload&&e.preloadImage(e.state.currentShowIndex||0),Q.createElement(_d.default,{key:l,ref:function(P){return e.imageRefs[l]=P},cropWidth:e.width,cropHeight:e.height,maxOverflow:e.props.maxOverflow,horizontalOuterRangeOffset:e.handleHorizontalOuterRangeOffset,responderRelease:e.handleResponderRelease,onMove:e.props.onMove,onLongPress:e.handleLongPressWithIndex.get(l),onClick:e.handleClick,onDoubleClick:e.handleDoubleClick,imageWidth:c,imageHeight:u,enableSwipeDown:e.props.enableSwipeDown,swipeDownThreshold:e.props.swipeDownThreshold,onSwipeDown:e.handleSwipeDown,panToMove:!e.state.isShowMenu,pinchToZoom:e.props.enableImageZoom&&!e.state.isShowMenu,enableDoubleClickZoom:e.props.enableImageZoom&&!e.state.isShowMenu,doubleClickInterval:e.props.doubleClickInterval,minScale:e.props.minScale,maxScale:e.props.maxScale},e.props.renderImage(a.props));case"fail":return Q.createElement(I,{key:l,style:e.styles.modalContainer,imageWidth:e.props.failImageSource?e.props.failImageSource.width:n,imageHeight:e.props.failImageSource?e.props.failImageSource.height:o},e.props.failImageSource&&e.props.renderImage({source:{uri:e.props.failImageSource.url},style:{width:e.props.failImageSource.width,height:e.props.failImageSource.height}}))}});return Q.createElement(V.Animated.View,{style:{zIndex:9}},Q.createElement(V.Animated.View,{style:sr({},this.styles.container,{opacity:this.fadeAnim})},this.props.renderHeader(this.state.currentShowIndex),Q.createElement(V.View,{style:this.styles.arrowLeftContainer},Q.createElement(V.TouchableWithoutFeedback,{onPress:this.goBack},Q.createElement(V.View,null,this.props.renderArrowLeft()))),Q.createElement(V.View,{style:this.styles.arrowRightContainer},Q.createElement(V.TouchableWithoutFeedback,{onPress:this.goNext},Q.createElement(V.View,null,this.props.renderArrowRight()))),Q.createElement(V.Animated.View,{style:sr({},this.styles.moveBox,{transform:[{translateX:this.positionX}],width:this.width*this.props.imageUrls.length})},i),this.props.renderIndicator((this.state.currentShowIndex||0)+1,this.props.imageUrls.length),this.props.imageUrls[this.state.currentShowIndex||0]&&this.props.imageUrls[this.state.currentShowIndex||0].originSizeKb&&this.props.imageUrls[this.state.currentShowIndex||0].originUrl&&Q.createElement(V.View,{style:this.styles.watchOrigin},Q.createElement(V.TouchableOpacity,{style:this.styles.watchOriginTouchable},Q.createElement(V.Text,{style:this.styles.watchOriginText},"\u67E5\u770B\u539F\u56FE(2M)"))),Q.createElement(V.View,{style:[{bottom:0,position:"absolute",zIndex:9},this.props.footerContainerStyle]},this.props.renderFooter(this.state.currentShowIndex||0))))},r.prototype.getMenu=function(){return this.state.isShowMenu?this.props.menus?Q.createElement(V.View,{style:this.styles.menuContainer},this.props.menus({cancel:this.handleLeaveMenu,saveToLocal:this.saveToLocal})):Q.createElement(V.View,{style:this.styles.menuContainer},Q.createElement(V.View,{style:this.styles.menuShadow}),Q.createElement(V.View,{style:this.styles.menuContent},Q.createElement(V.TouchableHighlight,{underlayColor:"#F2F2F2",onPress:this.saveToLocal,style:this.styles.operateContainer},Q.createElement(V.Text,{style:this.styles.operateText},this.props.menuContext.saveToLocal)),Q.createElement(V.TouchableHighlight,{underlayColor:"#F2F2F2",onPress:this.handleLeaveMenu,style:this.styles.operateContainer},Q.createElement(V.Text,{style:this.styles.operateText},this.props.menuContext.cancel)))):null},r.prototype.render=function(){var e=null;return e=Q.createElement(V.View,null,this.getContent(),this.getMenu()),Q.createElement(V.View,{onLayout:this.handleLayout,style:sr({flex:1,overflow:"hidden"},this.props.style)},e)},r.defaultProps=new aa.Props,r}(Q.Component);kt.default=qg});var Ad=ft(wn=>{"use strict";s();Object.defineProperty(wn,"__esModule",{value:!0});var Md=Ld();wn.ImageViewer=Md.default;var Xg=ia();wn.ImageViewerPropsDefine=Xg.Props;wn.default=Md.default});s();(function(){"use strict";var t="ListFormat"in Intl;function r(v,_){if(!(v instanceof _))throw new TypeError("Cannot call a class as a function")}function e(v,_){for(var S=0;S<_.length;S++){var E=_[S];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(v,E.key,E)}}function n(v,_,S){return _&&e(v.prototype,_),S&&e(v,S),v}var o=["conjunction","disjunction","unit"],i=["long","short","narrow"],a=["lookup","best fit"];function l(v){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?l=function(S){return typeof S}:l=function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},l(v)}function c(v){return typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?c=function(S){return l(S)}:c=function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":l(S)},c(v)}function u(v){if(v==null)throw new TypeError("Argument ".concat(v," cannot be converted to an Object"));return typeof v=="boolean"?new Boolean(v):typeof v=="number"?new Number(v):typeof v=="string"?new String(v):c(v)==="symbol"?new Object(v):v}var p;function y(v){p=v}function h(){return p}function I(){if(p==null)throw new ReferenceError("Could not determine locale: No default locale has been configured");return p}var P=new WeakMap,O={relevantExtensionKeys:[],localeData:{},availableLocales:[]};function k(v,_,S){var E=P.get(v);E==null&&(E=Object.create(null),P.set(v,E)),E[_]=S}function D(v,_){var S=P.get(v);if(S==null)throw new ReferenceError("No internal slots has been allocated for the given instance of ListFormat");return S[_]}function Y(v,_){var S=P.get(v);return S!=null&&_ in S}var J=/-u(?:-[0-9a-z]{2,8})+/gi;function H(v){return v.replace(J,"")}function ne(v,_){for(var S=_;;){if(v.includes(S))return S;var E=S.lastIndexOf("-");if(E===-1)return;E>=2&&S.charAt(E-2)==="-"&&(E-=2),S=S.slice(0,E)}}function st(v,_){var S=[],E=!0,U=!1,$=void 0;try{for(var de=_[Symbol.iterator](),ee;!(E=(ee=de.next()).done);E=!0){var ce=ee.value,ae=H(ce),ye=ne(v,ae);ye!==void 0&&S.push(ce)}}catch(ze){U=!0,$=ze}finally{try{!E&&de.return!=null&&de.return()}finally{if(U)throw $}}return S}function qt(v,_){return st(v,_)}function Xt(v){return typeof v=="string"||c(v)==="symbol"}function Kr(v,_){if(c(v)!=="object")throw new TypeError("Given argument ".concat(v," must be of type Object"));if(!Xt(_))throw new TypeError("Given argument ".concat(_," must be a PropertyKey"));return v[_]}function Np(v){return Boolean(v)}function Vp(v){return v+""}function xn(v,_,S,E,U){var $=Kr(v,_);if($!==void 0){if(S!=="boolean"&&S!=="string")throw new TypeError("Expected type ".concat(S," to be 'boolean' or 'string"));if(S==="boolean"&&($=Np($)),S==="string"&&($=Vp($)),E!==void 0&&!E.includes($))throw new RangeError("Value ".concat($," out of range for options property ").concat(_));return $}else return U}function zp(v,_,S){var E;return S!==void 0?(S=u(S),E=xn(S,"localeMatcher","string",a,"best fit")):E="best fit",E==="best fit"?qt(v,_):st(v,_)}function Ta(v){var _=v.availableLocales,S=v.requestedLocales,E=Object.create(null),U=!0,$=!1,de=void 0;try{for(var ee=S[Symbol.iterator](),ce;!(U=(ce=ee.next()).done);U=!0){var ae=ce.value,ye=H(ae),ze=ne(_,ye);if(ze!==void 0){if(E.locale=ze,ae!==ye){var lt=ae.match(J);E.extension=lt==null?"":lt[0]}return E}}}catch(In){$=!0,de=In}finally{try{!U&&ee.return!=null&&ee.return()}finally{if($)throw de}}var pt=I();return E.locale=pt,E}function Bp(v){return Ta(v)}function Hp(v,_,S,E,U){var $=S.localeMatcher,de=$==="lookup"?Ta({availableLocales:v,requestedLocales:_}):Bp({availableLocales:v,requestedLocales:_}),ee=de.locale,ce=Object.create(null);ce.dataLocale=ee;var ae="-u";if(ae.length>2){var ye=String.prototype.indexOf.call(ee,"-x-");if(ye===-1)ee="".concat(ee).concat(ae);else{var ze=ee.slice(0,ye),lt=ee.slice(ye);ee="".concat(ze).concat(ae).concat(lt)}ee=Intl.getCanonicalLocales(ee)[0]}return ce.locale=ee,ce}function jp(v){if(Array.isArray(v)){for(var _=0,S=new Array(v.length);_<v.length;_++)S[_]=v[_];return S}}function Fp(v){if(Symbol.iterator in Object(v)||Object.prototype.toString.call(v)==="[object Arguments]")return Array.from(v)}function Wp(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function Up(v){return jp(v)||Fp(v)||Wp()}function Ca(v){if(v===void 0)return[];var _=Up(v);if(_.some(function(S){return typeof S!="string"}))throw new TypeError("All List items must be strings");return _}function Gp(v){return Object.prototype.toString.call(v)==="[object Object]"}function qp(v){return Array.isArray(v)||Gp(v)}function Ra(v,_){for(var S=[],E=String.prototype.indexOf.call(v,"{",0),U=0,$=v.length;v[E]!==void 0;){var de=String.prototype.indexOf.call(v,"}",E);if(de<=E)throw new TypeError("Expected endIndex: ".concat(de," to be greater than beginIndex: ").concat(E));if(E>U){var ee=v.slice(U,E);S.push({type:"literal",value:ee})}var ce=v.slice(E+1,de);if(_[Number(ce)]==null)throw new TypeError("Expected placeables to have a part for PropertyKey: ".concat(ce));var ae=_[Number(ce)];if(qp(ae.value)){var ye=!0,ze=!1,lt=void 0;try{for(var pt=ae.value[Symbol.iterator](),In;!(ye=(In=pt.next()).done);ye=!0){var Yp=In.value;S.push(Yp)}}catch(Jp){ze=!0,lt=Jp}finally{try{!ye&&pt.return!=null&&pt.return()}finally{if(ze)throw lt}}}else S.push(ae);U=de+1,E=String.prototype.indexOf.call(v,"{",U)}if(U<$){var Qp=v.slice(U,$);S.push({type:"literal",value:Qp})}return S}function Pa(v,_){var S,E=_.length;if(E===0)return[];if(E===2){S=D(v,"templatePair");var U={type:"element",value:_[0]},$={type:"element",value:_[1]},de={0:U,1:$};return Ra(S,de)}for(var ee={type:"element",value:_[E-1]},ce=[ee],ae=E-2;ae>=0;){ae===0?S=D(v,"templateStart"):ae<E-2?S=D(v,"templateMiddle"):S=D(v,"templateEnd");var ye={type:"element",value:_[ae]},ze={type:"element",value:ce},lt={0:ye,1:ze};ce=Ra(S,lt),ae--}return ce}function Xp(v,_){var S=Pa(v,_),E="",U=!0,$=!1,de=void 0;try{for(var ee=S[Symbol.iterator](),ce;!(U=(ce=ee.next()).done);U=!0){var ae=ce.value;E+=ae.value}}catch(ye){$=!0,de=ye}finally{try{!U&&ee.return!=null&&ee.return()}finally{if($)throw de}}return E}function $p(v,_){return Pa(v,_)}var Oa=function(){function v(){r(this,v);var _=arguments[0],S=arguments[1];if((this instanceof v?this.constructor:void 0)===void 0)throw new TypeError("Constructor Intl.ListFormat requires 'new'");var E=Intl.getCanonicalLocales(_);S=S===void 0?Object.create(null):u(S);var U=Object.create(null),$=xn(S,"localeMatcher","string",a,"best fit");U.localeMatcher=$;var de=xn(S,"type","string",o,"conjunction");k(this,"type",de);var ee=xn(S,"style","string",i,"long");k(this,"style",ee);var ce=O.localeData,ae=Hp(O.availableLocales,E,U),ye=ae.dataLocale,ze=ce[ye],lt=ze.formats[de],pt=lt[ee];k(this,"templatePair",pt.Pair),k(this,"templateStart",pt.Start),k(this,"templateMiddle",pt.Middle),k(this,"templateEnd",pt.End),k(this,"locale",ae.locale),k(this,"initializedListFormat",this)}return n(v,[{key:"format",value:function(S){var E=this;if(!(E instanceof Object))throw new TypeError("Method Intl.ListFormat.prototype.format called on incompatible receiver ".concat(this.toString()));if(!Y(E,"initializedListFormat"))throw new TypeError("Method Intl.ListFormat.prototype.format called on incompatible receiver ".concat(this.toString()));var U=Ca(S);return Xp(E,U)}},{key:"formatToParts",value:function(S){var E=this;if(!(E instanceof Object))throw new TypeError("Method Intl.ListFormat.prototype.formatToParts called on incompatible receiver ".concat(this.toString()));if(!Y(E,"initializedListFormat"))throw new TypeError("Method Intl.ListFormat.prototype.formatToParts called on incompatible receiver ".concat(this.toString()));var U=Ca(S);return $p(E,U)}},{key:"resolvedOptions",value:function(){var S=this;if(!(S instanceof Object))throw new TypeError("Method Intl.ListFormat.prototype.resolvedOptions called on incompatible receiver ".concat(this.toString()));if(!Y(S,"initializedListFormat"))throw new TypeError("Method Intl.ListFormat.prototype.resolvedOptions called on incompatible receiver ".concat(this.toString()));var E=D(this,"locale"),U=D(this,"type"),$=D(this,"style");return{locale:E,type:U,style:$}}}],[{key:"supportedLocalesOf",value:function(S){var E=arguments[1],U=O.availableLocales,$=Intl.getCanonicalLocales(S);return zp(U,$,E)}},{key:"__addLocaleData",value:function(S){var E=S.data,U=S.locale,$=h();$==null&&y(U),O.localeData[U]=E,O.availableLocales.includes(U)||O.availableLocales.push(U)}}]),v}();Object.defineProperty(Oa.prototype,Symbol.toStringTag,{writable:!1,enumerable:!1,value:"Intl.ListFormat",configurable:!0});function Kp(){if(typeof Intl>"u")throw new TypeError("Could not define Intl.ListFormat: Expected 'Intl' to exist. Remember to include polyfill for Intl.getCanonicalLocales before applying this polyfill");Intl.ListFormat=Oa}t||Kp()})();s();"__addLocaleData"in Intl.ListFormat&&Intl.ListFormat.__addLocaleData({locale:"en",data:{formats:{conjunction:{long:{Pair:"{0} and {1}",Start:"{0}, {1}",Middle:"{0}, {1}",End:"{0}, and {1}"},short:{Pair:"{0} & {1}",Start:"{0}, {1}",Middle:"{0}, {1}",End:"{0}, & {1}"},narrow:{Pair:"{0}, {1}",Start:"{0}, {1}",Middle:"{0}, {1}",End:"{0}, {1}"}},disjunction:{long:{Pair:"{0} or {1}",Start:"{0}, {1}",Middle:"{0}, {1}",End:"{0}, or {1}"},short:{Pair:"{0} or {1}",Start:"{0}, {1}",Middle:"{0}, {1}",End:"{0}, or {1}"},narrow:{Pair:"{0} or {1}",Start:"{0}, {1}",Middle:"{0}, {1}",End:"{0}, or {1}"}},unit:{long:{Pair:"{0}, {1}",Start:"{0}, {1}",Middle:"{0}, {1}",End:"{0}, {1}"},short:{Pair:"{0}, {1}",Start:"{0}, {1}",Middle:"{0}, {1}",End:"{0}, {1}"},narrow:{Pair:"{0} {1}",Start:"{0} {1}",Middle:"{0} {1}",End:"{0} {1}"}}}}});s();var M=w(T());j();s();s();s();function sn(t,r){return sn=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},sn(t,r)}function to(t,r){t.prototype=Object.create(r.prototype),t.prototype.constructor=t,sn(t,r)}var $e=w(T());var Ny=w(tf());s();function zt(){return zt=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var e=arguments[r];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}return t},zt.apply(this,arguments)}s();function ln(t,r){if(t==null)return{};var e={},n=Object.keys(t),o,i;for(i=0;i<n.length;i++)o=n[i],!(r.indexOf(o)>=0)&&(e[o]=t[o]);return e}var no=function(t){to(r,t);function r(){for(var n,o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=t.call.apply(t,[this].concat(i))||this,n.history=qa(n.props),n}var e=r.prototype;return e.render=function(){return $e.default.createElement(mi,{history:this.history,children:this.props.children})},r}($e.default.Component),jy=function(t){to(r,t);function r(){for(var n,o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=t.call.apply(t,[this].concat(i))||this,n.history=Xa(n.props),n}var e=r.prototype;return e.render=function(){return $e.default.createElement(mi,{history:this.history,children:this.props.children})},r}($e.default.Component),Ri=function(r,e){return typeof r=="function"?r(e):r},cc=function(r,e){return typeof r=="string"?Ga(r,null,null,e):r},Pi=function(r){return r},Dr=$e.default.forwardRef;typeof Dr>"u"&&(Dr=Pi);function sf(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}var lf=Dr(function(t,r){var e=t.innerRef,n=t.navigate,o=t.onClick,i=ln(t,["innerRef","navigate","onClick"]),a=i.target,l=zt({},i,{onClick:function(u){try{o&&o(u)}catch(p){throw u.preventDefault(),p}!u.defaultPrevented&&u.button===0&&(!a||a==="_self")&&!sf(u)&&(u.preventDefault(),n())}});return Pi!==Dr?l.ref=r||e:l.ref=e,$e.default.createElement("a",l)}),cf=Dr(function(t,r){var e=t.component,n=e===void 0?lf:e,o=t.replace,i=t.to,a=t.innerRef,l=ln(t,["component","replace","to","innerRef"]);return $e.default.createElement(fi.Consumer,null,function(c){c||pi(!1);var u=c.history,p=cc(Ri(i,c.location),c.location),y=p?u.createHref(p):"",h=zt({},l,{href:y,navigate:function(){var P=Ri(i,c.location),O=o?u.replace:u.push;O(P)}});return Pi!==Dr?h.ref=r||a:h.innerRef=a,$e.default.createElement(n,h)})});var uc=function(r){return r},ro=$e.default.forwardRef;typeof ro>"u"&&(ro=uc);function uf(){for(var t=arguments.length,r=new Array(t),e=0;e<t;e++)r[e]=arguments[e];return r.filter(function(n){return n}).join(" ")}var Fy=ro(function(t,r){var e=t["aria-current"],n=e===void 0?"page":e,o=t.activeClassName,i=o===void 0?"active":o,a=t.activeStyle,l=t.className,c=t.exact,u=t.isActive,p=t.location,y=t.strict,h=t.style,I=t.to,P=t.innerRef,O=ln(t,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","strict","style","to","innerRef"]);return $e.default.createElement(fi.Consumer,null,function(k){k||pi(!1);var D=p||k.location,Y=cc(Ri(I,D),D),J=Y.pathname,H=J&&J.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),ne=H?$a(D.pathname,{path:H,exact:c,strict:y}):null,st=!!(u?u(ne,D):ne),qt=st?uf(l,i):l,Xt=st?zt({},h,{},a):h,Kr=zt({"aria-current":st&&n||null,className:qt,style:Xt,to:Y},O);return uc!==ro?Kr.ref=r||P:Kr.innerRef=P,$e.default.createElement(cf,Kr)})});s();var Lr=w(T()),oo=w(nf());function dc(t=5e3){let[r,e]=Lr.useState(!1),n=Lr.useRef(null);return Lr.useEffect(()=>(!r&&typeof window<"u"&&(n.current=setTimeout(()=>(0,oo.unstable_runWithPriority)(oo.unstable_IdlePriority,()=>e(!0)),t)),()=>{n.current&&clearTimeout(n.current)}),[]),r}s();var io=w(T());function pc(t,r){let[e,n]=io.useState(t);return io.useEffect(()=>{let o=typeof r=="number"?r:r[t],i=setTimeout(()=>{n(t)},o);return()=>{clearTimeout(i)}},[t,r]),e}s();var fe=w(T());j();s();var re=w(T());j();s();var Ke=w(T());function df(t){if(typeof t.key!="string")throw new Error("Need a key getter");return t.key}function fc(t){let{items:r,scrollTo:e,onSelect:n,getKey:o=df}=t,[i,a]=(0,Ke.useState)(null),l=(0,Ke.useRef)(!1),c=(0,Ke.useMemo)(()=>pf(r,i,o),[r,i,o]),u=ys(c),p=(0,Ke.useCallback)(I=>a(o(I)),[a,o]),y=(0,Ke.useCallback)(I=>{l.current||p(I)},[p]),h=(0,Ke.useCallback)(I=>{if(I>0&&u.current.next){let{next:P}=u.current;p(P),e(P)}else if(I<0&&u.current.prev){let{prev:P}=u.current;p(P),e(P)}},[e,p]);return(0,Ke.useEffect)(()=>{let I=()=>{l.current=!1,document.removeEventListener("mousemove",I)},P=O=>{let k=l.current;O.key==="Enter"?(O.preventDefault(),O.stopPropagation(),u.current.current&&n(u.current.current)):O.key==="ArrowDown"?(O.preventDefault(),O.stopPropagation(),l.current=!0,h(1)):O.key==="ArrowUp"&&(O.preventDefault(),O.stopPropagation(),l.current=!0,h(-1)),l.current&&k!==l.current&&document.addEventListener("mousemove",I)};return document.addEventListener("keydown",P,{capture:!0}),()=>{document.removeEventListener("keydown",P,{capture:!0}),document.removeEventListener("mousemove",I)}},[h,n]),{cursor:c,setCursor:p,hoverItem:y}}function pf(t,r,e){let n=null,o=null,i=null;return t.some(a=>(e(a)===r?i=a:i?i&&!o&&(o=a):n=a,i!=null&&o!=null)),i||(n=null,i=t[0],o=t[1]),{prev:n,next:o,current:i}}s();var W=w(T());j();var mc="Label",gc="Label",hc="Label",yc="Caption",Oi="Caption",vc=Oi;function bc(t){let{command:r,query:e,active:n,inline:o,executeCommand:i,onHoverIn:a}=t,l=typeof r.checked=="boolean"&&r.checked,[c,u]=C(G),[,p]=C(ff),[y,h]=vs(!1),I=u.text,P=u.textMid,O=u.primary,k=c.colors.background.main;l?k=c.colors.primary.muted:n&&(I=u.textStandout,P=u.textMid,k=c.colors.background.muted);let D=[u.Bold],Y=W.useCallback(()=>{let ne=i(r);ne instanceof Promise&&h(()=>ne)},[r,i]),J=W.useCallback(()=>a(r),[r,a]),H=oe.useInteractiveState({onHoverIn:J});return W.createElement(We,x(g({component:mt},H.events),{onMouseDown:ne=>{ne.preventDefault()},onPress:Y,backgroundColor:k,style:[f.directionRow,f.alignCenter,o||r.size==="small"?d.Padding.smallVertical:d.Padding.mediumVertical,o?d.Padding.mediumHorizontal:d.Padding.largeHorizontal,{height:xi(r,o)}]}),y?W.createElement(m,{style:[d.Padding.mediumRight]},W.createElement(ht,{size:b.ICON_M})):r.icon?W.createElement(m,{style:[d.Padding.mediumRight]},W.createElement(W.Suspense,{fallback:W.createElement(m,{style:{width:b.ICON_M,height:b.ICON_M}})},W.createElement(r.icon,{size:b.ICON_M,style:O}))):null,W.createElement(m,{style:f.flex1},W.createElement(m,{style:f.directionRow},W.createElement(m,{style:f.flex1},r.title?W.createElement(m,null,W.createElement(F,{style:[o?u[gc]:u[mc],I,r.subtitle?u.Bold:u.Medium],numberOfLines:1},W.createElement(Bn,{query:e,text:r.title,highlight:D}))):null,r.subtitle?W.createElement(m,null,W.createElement(F,{style:[o?u[yc]:u[hc],P],numberOfLines:o?1:void 0},W.createElement(Bn,{query:e,text:r.subtitle,highlight:D}))):null),r.label?W.createElement(m,{style:[f.directionRow,f.alignCenter,d.Margin.smallLeft,d.Padding.smallHorizontal,p.commandLabel]},r.label.icon?W.createElement(m,{style:[d.Padding.smallRight]},W.createElement(W.Suspense,{fallback:W.createElement(m,{style:{width:b.ICON_S,height:b.ICON_S}})},W.createElement(r.label.icon,{size:b.ICON_S,style:u.textInsideColor}))):null,W.createElement(m,null,W.createElement(F,{style:[u.Caption,u.textInsideColor]},r.label.title))):null,o||!r.shortcut?null:W.createElement(m,{style:[f.directionRow,f.alignCenter]},W.createElement(m,{style:[d.Margin.smallLeft,d.Padding.smallHorizontal]},W.createElement(zn,{shortcut:r.shortcut})))),r.body?W.createElement(m,{style:[p.commandBody,d.Padding.smallLeft,d.Margin.smallTop]},r.body.map((ne,st)=>W.createElement(m,{key:st},W.createElement(F,{style:[o?u[vc]:u[Oi],u.textMid],numberOfLines:1},W.createElement(Bn,{query:e,text:ne,highlight:D}))))):null),typeof r.checked=="boolean"?W.createElement(m,{style:[d.Padding.mediumLeft]},W.createElement(Is,{value:r.checked,onValueChange:Y,size:o?b.ICON_S:b.ICON_M})):null)}function xi(t,r){let e=0;return e+=2*(r||t.size==="small"?d.small:d.medium),e+=Math.max(t.title&&(r?Qt[gc]:Qt[mc]).lineHeight||0,t.icon?b.ICON_M:0,typeof t.checked=="boolean"?r?b.ICON_S:b.ICON_M:0),t.subtitle&&(e+=(r?Qt[yc]:Qt[hc]).lineHeight||0),t.body&&(e+=d.small,e+=t.body.length*((r?Qt[vc]:Qt[Oi]).lineHeight||0)),e}var ff=L.create({commandLabel:t=>({height:b.BUTTON_S,borderRadius:b.RADIUS_L,backgroundColor:t.colors.primary.main,textColor:t.colors.primary.textInside}),commandBody:t=>({borderLeftWidth:1,borderLeftColor:t.colors.border.mid})});function Sc(t){let{computed:{listId:r,items:e,sections:n,areMoreLoading:o},palette:i,setPalette:a}=t,l=wr(),c=re.useRef(null),u=re.useCallback(async H=>{a(await Es(i,H))},[a]),p=re.useCallback(H=>{let ne=-1;return{sectionIndex:n.findIndex(qt=>(ne=qt.data.findIndex(Xt=>Xt.key===H),ne>=0)),itemIndex:ne,viewPosition:.5}},[n]),y=re.useCallback(H=>{var ne;return(ne=c.current)==null?void 0:ne.scrollToLocation(p(H.key))},[p]),{cursor:h,hoverItem:I}=fc({items:e,onSelect:u,scrollTo:y}),P=!!i.position,O=P?n.length>1:!0,k=re.useMemo(()=>js({getItemHeight:({item:H})=>xi(H,P),getSectionSeparatorHeight:({section:H,leadingItem:ne,leadingSection:st,trailingItem:qt,trailingSection:Xt})=>st&&!ne&&!H.group.title?2*(d.small-1)+1:Xt&&!qt?P?b.S/4:b.S/2:0,getSectionHeaderHeight:({section:H})=>O&&H.group.title?b.S:0}),[P,O]),D=re.useMemo(()=>O?({section:H})=>H.group.title?re.createElement(gf,{group:H.group,inline:P}):null:void 0,[P,O]),Y=re.useCallback(H=>re.createElement(hf,x(g({},H),{inline:P})),[P]),J=o&&P;if(!J&&e.length===0){let H=i.placeholder||(Zr(i)?null:"No items found");return H?re.createElement(mf,{placeholder:H,inline:P}):null}return re.createElement(m,{style:[f.flex1]},re.createElement(Ia,{key:r,ref:c,sections:n,extraData:h,getItemLayout:k,renderItem:({item:H})=>{var ne;return re.createElement(bc,{active:l==="desktop"&&H.key===((ne=h.current)==null?void 0:ne.key),command:H,query:i.query.text,inline:P,executeCommand:u,onHoverIn:I})},SectionSeparatorComponent:Y,renderSectionHeader:D,contentContainerStyle:[P?d.Padding.smallVertical:d.Padding.mediumVertical]}),J?re.createElement(m,{style:[f.directionRow,f.justifyContentCenter,d.Padding.medium]},re.createElement(ht,{size:b.ICON_L})):null)}function mf(t){let{placeholder:r,inline:e}=t,[,n]=C(G);return re.createElement(m,{style:[d.Padding.smallHorizontal,d.Padding.mediumVertical]},re.createElement(m,{style:[e?d.Padding.mediumHorizontal:d.Padding.largeHorizontal]},re.createElement(F,{style:[n.Caption,n.textMuted]},r)))}function gf(t){let{group:r,inline:e}=t,[,n]=C(G);return re.createElement(m,{style:[yf.paletteGroupHeader,f.directionRow,f.alignCenter,d.Padding.smallHorizontal]},re.createElement(m,{style:[e?d.Padding.mediumHorizontal:d.Padding.largeHorizontal]},re.createElement(F,{style:[n.Heading4,n.textMuted]},r.title)))}function hf(t){let{leadingSection:r,section:e,leadingItem:n,inline:o,trailingSection:i,trailingItem:a}=t,[,l]=C(vf);return r&&!n&&!e.group.title?re.createElement(m,{style:l.paletteDividerUntitled}):(i&&!a&&(m,o?l.paletteDividerFooterInline:l.paletteDividerFooter),null)}var yf=ve.create({paletteGroupHeader:{height:b.S}}),vf=L.create({paletteDividerUntitled:(t,r)=>({marginTop:d.small-1,marginBottom:d.small-1,borderTopColor:r.color==="light"?t.colors.border.mid:t.colors.sidebar.itemBorder,borderTopWidth:1}),paletteDividerFooter:{height:b.S/2},paletteDividerFooterInline:{height:b.S/4}});s();var Mr=w(T());j();function wc(t){let{error:r,inline:e}=t,[,n]=C(G);return Mr.createElement(m,{style:[f.directionRow,e?d.Padding.smallVertical:d.Padding.mediumVertical,e?d.Padding.mediumHorizontal:d.Padding.largeHorizontal]},Mr.createElement(m,{style:[d.Padding.mediumRight,d.Padding.xsmallTop]},Mr.createElement(R.Warning,{size:b.ICON_S,style:n.danger})),Mr.createElement(m,{style:f.flex1},Mr.createElement(F,{style:[n.danger,n.Label]},La(r))))}s();var be=w(T());j();var Tc=be.forwardRef(function(r,e){let{palette:n,setPalette:o,loading:i,withItems:a}=r,[,l]=C(Sf),[c,u]=C(G),p=pc(i?"loading":"stale",{loading:400,stale:800}),y=Mn(()=>new $t.Value(0)).current;be.useEffect(()=>{let k=$t.timing(y,{useNativeDriver:!0,toValue:p==="loading"?.7:0,duration:Ct.TRANSITION_DURATION_SHORT});return k.start(),()=>{k.stop()}},[y,p]);let[h,I]=bs(n.query.text,[n]),P=k=>{I(k),o(D=>!n||!D?n:_s(D,k))},O=k=>{k.nativeEvent.key==="Backspace"&&n.query.text.length===0?o(D=>D&&Object.keys(D.query.filters).length>0?Ls(D):D):k.nativeEvent.key==="Escape"&&o(null)};return be.createElement(m,{style:a&&l.paletteInputWrapperWithBottomBorder},be.createElement(m,{style:[f.directionRow,f.alignCenter,l.paletteInput,n.position?d.Margin.small:d.Margin.medium]},n.position?null:be.createElement(m,{style:[d.Margin.largeLeft]},be.createElement(R.Search,{size:b.ICON_L,style:u.textMuted})),be.createElement(m,{style:[f.flex1]},be.createElement(ka,{ref:e,value:h,placeholder:n.search,placeholderTextColor:c.colors.text.muted,onChangeText:P,onKeyPress:O,selectTextOnFocus:!0,style:[n.position?u.Caption:u.Body,u.text,n.position?d.Padding.mediumHorizontal:d.Padding.largeHorizontal,n.position?d.Padding.smallVertical:d.Padding.mediumVertical]})),n.position?null:be.createElement($t.View,{style:[d.Margin.smallHorizontal,d.Margin.largeRight,{opacity:y}]},be.createElement(ht,{spinnerIcon:R.SpinnerNeutral,size:b.ICON_M,style:u.textMuted})),be.createElement(A.View,{mobileStyle:"visible",desktopStyle:"hidden",style:[d.Margin.smallHorizontal]},be.createElement(Z,{icon:R.X,size:"large",onPress:()=>o(null)}))),be.createElement(bf,{palette:n,setPalette:o}))});function bf(t){let{palette:r,setPalette:e}=t,n=Object.entries(r.query.filters);if(n.length===0)return null;let o=i=>{e(a=>Ds(a,i))};return be.createElement(m,{style:[f.directionRow,d.Padding.largeHorizontal,d.Padding.mediumBottom]},n.map(([i,a])=>be.createElement(ks,{key:i,kind:"primary",size:"small",onPress:()=>o(i),style:d.Margin.smallRight},`${i}: ${a.text}`)))}var Sf=L.create({paletteInputWrapperWithBottomBorder:(t,r)=>({borderBottomColor:r.color==="light"?t.colors.border.mid:t.colors.sidebar.itemBorder,borderBottomWidth:1}),paletteInput:t=>({backgroundColor:t.colors.background.muted,borderRadius:b.RADIUS_L})});s();var Ar=w(T());function Cc(t){let[r,e]=Ar.useState(!1),n=Mn(()=>new WeakMap),o=Ar.useRef(null);return Ar.useMemo(()=>{let i=[],a=[],l;t.groups.forEach(p=>{let y;try{y=wf(t,p)}catch(h){l=h;return}if(y instanceof Promise){let h=n.current.get(p);h&&i.push(h),a.push(y)}else y&&(n.current.set(p,y),i.push(y))});let c=i.filter(p=>p.data.length>0).sort((p,y)=>p.priority>y.priority?-1:p.priority<y.priority?1:0),u=c.reduce((p,y)=>(p.push(...y.data),p),[]);if(a.length>0){e(!0);let p=o.current=Promise.all(a);p.then(()=>{p===o.current&&(e(!1),o.current=null)}).catch(y=>Ma(new Error(y)))}return{listId:Date.now(),items:u,sections:c,areMoreLoading:r,error:l}},[t,r,n])}function wf(t,r){try{if(Object.keys(t.query.filters).length>0&&typeof r.commands!="function")return;let e=typeof r.commands=="function"?r.commands(t):r.commands,n=typeof r.commands!="function"||r.commands.length===0,o=r.priority||5;if(n){let i=Tf(t.query.text,e);o=i.reduce((a,l)=>typeof l.score<"u"?Math.max((1-l.score)*10,a):a,o),e=i.map(a=>a.item)}return{group:r,priority:o,data:e}}catch(e){if(e instanceof Promise)return e;throw e}}function Tf(t,r){return t?new ns(r,{threshold:.3,location:0,distance:100,shouldSort:!0,includeScore:!0,minMatchCharLength:1,isCaseSensitive:!1,keys:["title","keywords"]}).search(t):r.map(n=>({item:n,score:void 0}))}s();var Ei=w(rf()),co=w(T());var Ii=204,ao=246,ki=384,Cf=630,so=180,lo=355;function Rc(t){let r=co.useMemo(()=>Pf(t),[t]),e=co.useCallback(a=>Rf(a,t),[t]),[n,o,i]=qs(t==null?void 0:t.anchorRef,e,r);return[n,o,i]}function Rf(t,r){let e,n=(r==null?void 0:r.width)||"medium";switch(n){case"small":e={width:Ii,maxWidth:Ii,minWidth:Ii,minHeight:0,height:so,maxHeight:lo};break;case"medium":e={width:ao,maxWidth:ao,minWidth:ao,minHeight:0,height:so,maxHeight:lo};break;case"large":e={width:ki,maxWidth:ki,minWidth:ki,minHeight:0,height:so,maxHeight:lo};break;case"anchor":let o=Math.max(ao,t.width),i=(0,Ei.default)(t.width,o,Cf);e={width:(0,Ei.default)(t.width,o,i),maxWidth:i,minWidth:o,minHeight:0,height:so,maxHeight:lo};break;default:mr(n)}return e}function Pf(t){let r={cover:t==null?void 0:t.cover,spacingWithAnchor:d.small};return(t==null?void 0:t.width)==="anchor"&&(r.allowedPlacements=["bottom","top"]),r}var Of=A.createResponsiveComponent(We);function Pc(t){let[r,e]=ke(Ms),{color:n}=br();return fe.createElement(Ts,null,r?fe.createElement(xf,{palette:r,setPalette:e,paletteVariant:r.variants||{color:n}}):null)}function xf(t){var y;let{palette:r,setPalette:e,paletteVariant:n}=t,[,o]=C(Oc),i=()=>e(null),[a,l]=Rc(r.position),c=Jr(Ct.fade),u=Jr(r.position?Ct.slideToL[l]:Ct.pop),p=ws("OUTSIDE_CLICK");return Nn({opened:!0,closeOnEsc:!Zr(r),closeOnClick:!1,closeOnOutsideClick:!1,closeOnScroll:!1,onClose:i}),fe.createElement(Ge,null,fe.createElement(ui,{onPressIn:()=>{p&&i()}},fe.createElement(m,{ref:c,style:[o.paletteBackdrop,((y=r.position)==null?void 0:y.anchorRef)&&o.paletteBackdropInline]},fe.createElement(Se,{theme:n},fe.createElement(If,x(g({ref:u},t),{positionStyle:a}))))))}var If=fe.forwardRef(function(r,e){let{palette:n,setPalette:o,positionStyle:i}=r,a=fe.useRef(null),[l,c]=C(Oc),u=Cc(n);return fe.useEffect(()=>{a.current&&a.current.focus()},[n]),fe.createElement(ui,{onPress:p=>p.preventDefault()},fe.createElement(Of,{ref:e,backgroundColor:l.colors.background.main,style:[c.palette],mobileStyle:c.paletteMobile,desktopStyle:n.position?[c.paletteInline,i]:c.paletteDesktop,onStartShouldSetResponder:()=>!0},Zr(n)?fe.createElement(Tc,{ref:a,palette:n,setPalette:o,loading:u.areMoreLoading,withItems:u.items.length>0}):null,u.error?fe.createElement(wc,{error:u.error,inline:!!n.position}):null,fe.createElement(Sc,{computed:u,palette:n,setPalette:o})))}),Oc=L.create({paletteBackdrop:t=>({flexDirection:"row",alignItems:"flex-start",justifyContent:"center",position:"absolute",top:0,left:0,right:0,bottom:0,width:"100%",height:"100%",zIndex:100,backgroundColor:t.colors.backdrop.background}),paletteBackdropInline:t=>({backgroundColor:"transparent"}),palette:t=>({borderRadius:b.RADIUS_XL,shadowColor:t.colors.border.muted,borderColor:t.colors.border.main,borderWidth:1,shadowOffset:{width:0,height:3},shadowOpacity:.37,shadowRadius:2.65,elevation:6,overflow:"hidden"}),paletteDesktop:{marginTop:d.xxlarge,width:640,maxHeight:480},paletteMobile:{position:"absolute",marginTop:0,top:d.small,left:d.small,right:d.small,maxHeight:440,width:"auto",maxWidth:"100%",minWidth:"auto"},paletteInline:{position:"absolute"}});s();var nr=w(T());j();s();var uo=w(T());j();var kf=A.createResponsiveComponent(mt);function xc(t){let[,r]=C(Df),{close:e}=Rr(),n=wr()==="mobile",o=t.closeable||n,i=()=>{t.onClose&&t.onClose(),e(t.id)},a=Jr({mount:Ef,unmount:_f});return uo.createElement(m,{ref:a},uo.createElement(kf,{mobileStyle:r.toastMobile,desktopStyle:r.toastDesktop,onPress:()=>{t.onOpen&&t.onOpen(),o&&i()}},uo.createElement(Js,x(g({},t),{onClose:o?i:void 0,style:r.alert}))))}var Ef={duration:Ct.TRANSITION_DURATION_SHORT,frames:{0:{opacity:0,transform:[{translateY:100}]},1:{opacity:1,transform:[{translateY:0}]}}},_f={duration:Ct.TRANSITION_DURATION_SHORT,frames:{0:{opacity:1,transform:[{translateY:0}]},1:{opacity:0,transform:[{translateY:100}]}}},Df=L.create({toastDesktop:{width:"auto",minWidth:420,maxWidth:720,marginBottom:d.small},toastMobile:{width:"100%",minWidth:0},alert:t=>x(g({},t.shadows.pop),{borderColor:t.colors.border.main})});function Ic(t){let r=Qr(jn),e=Qr(Ys),n=nr.useRef(null),o=Mf[r];return nr.createElement(Ge,{ref:n},nr.createElement(A.View,{style:[Lf.toaster],mobileStyle:o.mobile,desktopStyle:o.desktop},nr.createElement(Cs,null,e.map(i=>nr.createElement(xc,x(g({},i),{key:i.id}))))))}var Lf=ve.create({toaster:{position:"absolute",zIndex:200}}),Mf={"bottom-right":ve.create({desktop:{bottom:d.medium,right:d.medium},mobile:{bottom:d.medium,right:d.medium,left:d.medium}}),"bottom-right-with-bar":ve.create({desktop:{bottom:d.xxlarge,right:d.medium},mobile:{bottom:d.xxlarge+d.xlarge+d.medium,right:d.medium,left:d.medium}})};s();var kc=w(T());function Ec(t){let r=yr(jn);kc.useEffect(()=>{r(t)},[r,t])}s();var cn=w(T());function po(t){let{children:r}=t;return cn.createElement(gs,null,cn.createElement(xs,null,cn.createElement(Pc,null),cn.createElement(Ic,null),r))}s();function Af(t){return gr(t).collection("page-feedbacks")}function _c(t,r){return Af(t).doc(r)}function Nf(t,r){return _c(t,r).collection("feedbacks")}function Di(t,r,e){return Nf(t,r).doc(e)}function Dc(t,r){let e=Di(r.space,r.page,r.visitorId),n=_c(r.space,r.page);t.set(e,{visitorId:r.visitorId,rating:r.rating,createdAt:Yr.firestore.Timestamp.now(),revision:r.revision,page:r.page}),t.set(n,{[r.rating]:Yr.firestore.FieldValue.increment(1),updatedAt:Yr.firestore.Timestamp.now()},{merge:!0}),r.previousRating&&t.update(n,{[r.previousRating]:Yr.firestore.FieldValue.increment(-1)})}s();var Vf=as({key:"firestoreReacheable",default:!0,effects:[t=>{typeof window>"u"||fetch("https://firestore.googleapis.com/$discovery/rest").catch(()=>{t.setSelf(!1)})}]});function Lc(){return Qr(Vf)}s();function fo(){let t=De(),[r]=tr([hr(t.uid)]),e=tr(r.map(n=>gt(n.organization)));return r.map((n,o)=>[e[o],n]).filter(([n])=>!!n)}s();var Mc=w(T());var zf=fr("app:events"),Bf=t=>(t[0]==='"'&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent));function Hf(){let t=document.cookie?document.cookie.split("; "):[],r={};for(let e=0;e<t.length;e++){let n=t[e].split("="),o=n.slice(1).join("=");try{let i=decodeURIComponent(n[0]);r[i]=Bf(o)}catch(i){zf.warning(`Couldn't parse cookie ${t[e]}. Error: `,i)}}return r}function Ac(t,r){return Mc.useEffect(()=>{jf(t,r)},[t.key,r]),null}async function jf(t,r){if(!t.integrations||!r)return;let e=await us(),n=Hf(),o=window.location.href,i=document.referrer,a=window.navigator.userAgent;(await nl()).analytics.trackViewInSpaceById(t.key,{pageId:r,visitor:{anonymousId:e,cookies:n,userAgent:a},url:o,referrer:i})}s();var mo=w(T());function Nc(t){var o,i;let r=mo.useContext(al),e=r.preview||r.mode!=="public-content"||!((o=t==null?void 0:t.intercom)!=null&&o.enabled)||(i=t==null?void 0:t.intercom)==null?void 0:i.appID,n=dc();return er(a=>{n&&e&&a.writeAsync({type:"script",src:`https://widget.intercom.io/widget/${e}`,onLoad:async()=>{window.Intercom&&window.Intercom("boot",{app_id:e})}})}),mo.useEffect(()=>()=>{!window.Intercom||(window.Intercom("shutdown"),window.Intercom=void 0)},[]),null}s();j();function Li(t){let{src:r,bestHeight:e,maxWidth:n,style:o}=t;return xa("img",{src:r,style:[{maxHeight:e,maxWidth:n,width:"auto",height:"auto"},o]})}s();var Vc=w(of()),Ff={getCurrentValue:()=>typeof navigator<"u"&&typeof navigator.onLine=="boolean"?navigator.onLine:!0,subscribe:t=>(window.addEventListener("online",t),window.addEventListener("offline",t),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",t)})};function zc(){return(0,Vc.useSubscription)(Ff)}s();var qu=w(Wc()),Ro=w(T());s();var He;(function(t){t.SOURCE="SOURCE",t.TARGET="TARGET"})(He||(He={}));s();s();s();s();s();s();var Nr="dnd-core/INIT_COORDS",Bt="dnd-core/BEGIN_DRAG",Vr="dnd-core/PUBLISH_DRAG_SOURCE",Ht="dnd-core/HOVER",jt="dnd-core/DROP",Ft="dnd-core/END_DRAG";function Ai(t,r){return{type:Nr,payload:{sourceClientOffset:r||null,clientOffset:t||null}}}s();function go(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?go=function(e){return typeof e}:go=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},go(t)}function Uc(t,r,e){return r.split(".").reduce(function(n,o){return n&&n[o]?n[o]:e||null},t)}function Gc(t,r){return t.filter(function(e){return e!==r})}function ho(t){return go(t)==="object"}function qc(t,r){var e=new Map,n=function(a){e.set(a,e.has(a)?e.get(a)+1:1)};t.forEach(n),r.forEach(n);var o=[];return e.forEach(function(i,a){i===1&&o.push(a)}),o}function Xc(t,r){return t.filter(function(e){return r.indexOf(e)>-1})}var Xf={type:Nr,payload:{clientOffset:null,sourceClientOffset:null}};function $c(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{publishSource:!0},o=n.publishSource,i=o===void 0?!0:o,a=n.clientOffset,l=n.getSourceClientOffset,c=t.getMonitor(),u=t.getRegistry();t.dispatch(Ai(a)),$f(e,c,u);var p=Qf(e,c);if(p===null){t.dispatch(Xf);return}var y=null;if(a){if(!l)throw new Error("getSourceClientOffset must be defined");Kf(l),y=l(p)}t.dispatch(Ai(a,y));var h=u.getSource(p),I=h.beginDrag(c,p);if(I!=null){Yf(I),u.pinSource(p);var P=u.getSourceType(p);return{type:Bt,payload:{itemType:P,item:I,sourceId:p,clientOffset:a||null,sourceClientOffset:y||null,isSourcePublic:!!i}}}}}function $f(t,r,e){N(!r.isDragging(),"Cannot call beginDrag while dragging."),t.forEach(function(n){N(e.getSource(n),"Expected sourceIds to be registered.")})}function Kf(t){N(typeof t=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function Yf(t){N(ho(t),"Item must be an object.")}function Qf(t,r){for(var e=null,n=t.length-1;n>=0;n--)if(r.canDragSource(t[n])){e=t[n];break}return e}s();function Kc(t){return function(){var e=t.getMonitor();if(e.isDragging())return{type:Vr}}}s();s();function dn(t,r){return r===null?t===null:Array.isArray(t)?t.some(function(e){return e===r}):t===r}function Yc(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=n.clientOffset;Jf(e);var i=e.slice(0),a=t.getMonitor(),l=t.getRegistry();Zf(i,a,l);var c=a.getItemType();return em(i,l,c),tm(i,a,l),{type:Ht,payload:{targetIds:i,clientOffset:o||null}}}}function Jf(t){N(Array.isArray(t),"Expected targetIds to be an array.")}function Zf(t,r,e){N(r.isDragging(),"Cannot call hover while not dragging."),N(!r.didDrop(),"Cannot call hover after drop.");for(var n=0;n<t.length;n++){var o=t[n];N(t.lastIndexOf(o)===n,"Expected targetIds to be unique in the passed array.");var i=e.getTarget(o);N(i,"Expected targetIds to be registered.")}}function em(t,r,e){for(var n=t.length-1;n>=0;n--){var o=t[n],i=r.getTargetType(o);dn(i,e)||t.splice(n,1)}}function tm(t,r,e){t.forEach(function(n){var o=e.getTarget(n);o.hover(r,n)})}s();function Qc(t,r){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),e.push.apply(e,n)}return e}function Jc(t){for(var r=1;r<arguments.length;r++){var e=arguments[r]!=null?arguments[r]:{};r%2?Qc(Object(e),!0).forEach(function(n){rm(t,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):Qc(Object(e)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})}return t}function rm(t,r,e){return r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e,t}function Zc(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.getMonitor(),o=t.getRegistry();nm(n);var i=am(n);i.forEach(function(a,l){var c=om(a,l,o,n),u={type:jt,payload:{dropResult:Jc(Jc({},e),c)}};t.dispatch(u)})}}function nm(t){N(t.isDragging(),"Cannot call drop while not dragging."),N(!t.didDrop(),"Cannot call drop twice during one drag operation.")}function om(t,r,e,n){var o=e.getTarget(t),i=o?o.drop(n,t):void 0;return im(i),typeof i>"u"&&(i=r===0?{}:n.getDropResult()),i}function im(t){N(typeof t>"u"||ho(t),"Drop result must either be an object or undefined.")}function am(t){var r=t.getTargetIds().filter(t.canDropOnTarget,t);return r.reverse(),r}s();function eu(t){return function(){var e=t.getMonitor(),n=t.getRegistry();sm(e);var o=e.getSourceId();if(o!=null){var i=n.getSource(o,!0);i.endDrag(e,o),n.unpinSource()}return{type:Ft}}}function sm(t){N(t.isDragging(),"Cannot call endDrag while not dragging.")}function tu(t){return{beginDrag:$c(t),publishDragSource:Kc(t),hover:Yc(t),drop:Zc(t),endDrag:eu(t)}}function lm(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function ru(t,r){for(var e=0;e<r.length;e++){var n=r[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function cm(t,r,e){return r&&ru(t.prototype,r),e&&ru(t,e),t}var nu=function(){function t(r,e){var n=this;lm(this,t),this.isSetUp=!1,this.handleRefCountChange=function(){var o=n.store.getState().refCount>0;n.backend&&(o&&!n.isSetUp?(n.backend.setup(),n.isSetUp=!0):!o&&n.isSetUp&&(n.backend.teardown(),n.isSetUp=!1))},this.store=r,this.monitor=e,r.subscribe(this.handleRefCountChange)}return cm(t,[{key:"receiveBackend",value:function(e){this.backend=e}},{key:"getMonitor",value:function(){return this.monitor}},{key:"getBackend",value:function(){return this.backend}},{key:"getRegistry",value:function(){return this.monitor.registry}},{key:"getActions",value:function(){var e=this,n=this.store.dispatch;function o(a){return function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var p=a.apply(e,c);typeof p<"u"&&n(p)}}var i=tu(this);return Object.keys(i).reduce(function(a,l){var c=i[l];return a[l]=o(c),a},{})}},{key:"dispatch",value:function(e){this.store.dispatch(e)}}]),t}();s();s();s();function Ye(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var ou=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Ni=function(){return Math.random().toString(36).substring(7).split("").join(".")},iu={INIT:"@@redux/INIT"+Ni(),REPLACE:"@@redux/REPLACE"+Ni(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Ni()}};function um(t){if(typeof t!="object"||t===null)return!1;for(var r=t;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(t)===r}function Vi(t,r,e){var n;if(typeof r=="function"&&typeof e=="function"||typeof e=="function"&&typeof arguments[3]=="function")throw new Error(Ye(0));if(typeof r=="function"&&typeof e>"u"&&(e=r,r=void 0),typeof e<"u"){if(typeof e!="function")throw new Error(Ye(1));return e(Vi)(t,r)}if(typeof t!="function")throw new Error(Ye(2));var o=t,i=r,a=[],l=a,c=!1;function u(){l===a&&(l=a.slice())}function p(){if(c)throw new Error(Ye(3));return i}function y(O){if(typeof O!="function")throw new Error(Ye(4));if(c)throw new Error(Ye(5));var k=!0;return u(),l.push(O),function(){if(!!k){if(c)throw new Error(Ye(6));k=!1,u();var Y=l.indexOf(O);l.splice(Y,1),a=null}}}function h(O){if(!um(O))throw new Error(Ye(7));if(typeof O.type>"u")throw new Error(Ye(8));if(c)throw new Error(Ye(9));try{c=!0,i=o(i,O)}finally{c=!1}for(var k=a=l,D=0;D<k.length;D++){var Y=k[D];Y()}return O}function I(O){if(typeof O!="function")throw new Error(Ye(10));o=O,h({type:iu.REPLACE})}function P(){var O,k=y;return O={subscribe:function(Y){if(typeof Y!="object"||Y===null)throw new Error(Ye(11));function J(){Y.next&&Y.next(p())}J();var H=k(J);return{unsubscribe:H}}},O[ou]=function(){return this},O}return h({type:iu.INIT}),n={dispatch:h,subscribe:y,getState:p,replaceReducer:I},n[ou]=P,n}s();s();s();var dm=function(r,e){return r===e};function au(t,r){return!t&&!r?!0:!t||!r?!1:t.x===r.x&&t.y===r.y}function su(t,r){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:dm;if(t.length!==r.length)return!1;for(var n=0;n<t.length;++n)if(!e(t[n],r[n]))return!1;return!0}function lu(t,r){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),e.push.apply(e,n)}return e}function cu(t){for(var r=1;r<arguments.length;r++){var e=arguments[r]!=null?arguments[r]:{};r%2?lu(Object(e),!0).forEach(function(n){pm(t,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):lu(Object(e)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})}return t}function pm(t,r,e){return r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e,t}var uu={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function du(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:uu,r=arguments.length>1?arguments[1]:void 0,e=r.payload;switch(r.type){case Nr:case Bt:return{initialSourceClientOffset:e.sourceClientOffset,initialClientOffset:e.clientOffset,clientOffset:e.clientOffset};case Ht:return au(t.clientOffset,e.clientOffset)?t:cu(cu({},t),{},{clientOffset:e.clientOffset});case Ft:case jt:return uu;default:return t}}s();s();var pn="dnd-core/ADD_SOURCE",fn="dnd-core/ADD_TARGET",mn="dnd-core/REMOVE_SOURCE",or="dnd-core/REMOVE_TARGET";function pu(t){return{type:pn,payload:{sourceId:t}}}function fu(t){return{type:fn,payload:{targetId:t}}}function mu(t){return{type:mn,payload:{sourceId:t}}}function gu(t){return{type:or,payload:{targetId:t}}}function hu(t,r){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),e.push.apply(e,n)}return e}function Qe(t){for(var r=1;r<arguments.length;r++){var e=arguments[r]!=null?arguments[r]:{};r%2?hu(Object(e),!0).forEach(function(n){fm(t,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):hu(Object(e)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})}return t}function fm(t,r,e){return r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e,t}var mm={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function yu(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:mm,r=arguments.length>1?arguments[1]:void 0,e=r.payload;switch(r.type){case Bt:return Qe(Qe({},t),{},{itemType:e.itemType,item:e.item,sourceId:e.sourceId,isSourcePublic:e.isSourcePublic,dropResult:null,didDrop:!1});case Vr:return Qe(Qe({},t),{},{isSourcePublic:!0});case Ht:return Qe(Qe({},t),{},{targetIds:e.targetIds});case or:return t.targetIds.indexOf(e.targetId)===-1?t:Qe(Qe({},t),{},{targetIds:Gc(t.targetIds,e.targetId)});case jt:return Qe(Qe({},t),{},{dropResult:e.dropResult,didDrop:!0,targetIds:[]});case Ft:return Qe(Qe({},t),{},{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return t}}s();function vu(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case pn:case fn:return t+1;case mn:case or:return t-1;default:return t}}s();s();var zr=[],yo=[];zr.__IS_NONE__=!0;yo.__IS_ALL__=!0;function bu(t,r){if(t===zr)return!1;if(t===yo||typeof r>"u")return!0;var e=Xc(r,t);return e.length>0}function Su(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:zr,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case Ht:break;case pn:case fn:case or:case mn:return zr;case Bt:case Vr:case Ft:case jt:default:return yo}var e=r.payload,n=e.targetIds,o=n===void 0?[]:n,i=e.prevTargetIds,a=i===void 0?[]:i,l=qc(o,a),c=l.length>0||!su(o,a);if(!c)return zr;var u=a[a.length-1],p=o[o.length-1];return u!==p&&(u&&l.push(u),p&&l.push(p)),l}s();function wu(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return t+1}function Tu(t,r){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),e.push.apply(e,n)}return e}function Cu(t){for(var r=1;r<arguments.length;r++){var e=arguments[r]!=null?arguments[r]:{};r%2?Tu(Object(e),!0).forEach(function(n){gm(t,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):Tu(Object(e)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})}return t}function gm(t,r,e){return r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e,t}function Ru(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;return{dirtyHandlerIds:Su(t.dirtyHandlerIds,{type:r.type,payload:Cu(Cu({},r.payload),{},{prevTargetIds:Uc(t,"dragOperation.targetIds",[])})}),dragOffset:du(t.dragOffset,r),refCount:vu(t.refCount,r),dragOperation:yu(t.dragOperation,r),stateId:wu(t.stateId)}}s();s();function hm(t,r){return{x:t.x+r.x,y:t.y+r.y}}function Pu(t,r){return{x:t.x-r.x,y:t.y-r.y}}function Ou(t){var r=t.clientOffset,e=t.initialClientOffset,n=t.initialSourceClientOffset;return!r||!e||!n?null:Pu(hm(r,n),e)}function xu(t){var r=t.clientOffset,e=t.initialClientOffset;return!r||!e?null:Pu(r,e)}function ym(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function Iu(t,r){for(var e=0;e<r.length;e++){var n=r[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function vm(t,r,e){return r&&Iu(t.prototype,r),e&&Iu(t,e),t}var ku=function(){function t(r,e){ym(this,t),this.store=r,this.registry=e}return vm(t,[{key:"subscribeToStateChange",value:function(e){var n=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{handlerIds:void 0},i=o.handlerIds;N(typeof e=="function","listener must be a function."),N(typeof i>"u"||Array.isArray(i),"handlerIds, when specified, must be an array of strings.");var a=this.store.getState().stateId,l=function(){var u=n.store.getState(),p=u.stateId;try{var y=p===a||p===a+1&&!bu(u.dirtyHandlerIds,i);y||e()}finally{a=p}};return this.store.subscribe(l)}},{key:"subscribeToOffsetChange",value:function(e){var n=this;N(typeof e=="function","listener must be a function.");var o=this.store.getState().dragOffset,i=function(){var l=n.store.getState().dragOffset;l!==o&&(o=l,e())};return this.store.subscribe(i)}},{key:"canDragSource",value:function(e){if(!e)return!1;var n=this.registry.getSource(e);return N(n,"Expected to find a valid source. sourceId=".concat(e)),this.isDragging()?!1:n.canDrag(this,e)}},{key:"canDropOnTarget",value:function(e){if(!e)return!1;var n=this.registry.getTarget(e);if(N(n,"Expected to find a valid target. targetId=".concat(e)),!this.isDragging()||this.didDrop())return!1;var o=this.registry.getTargetType(e),i=this.getItemType();return dn(o,i)&&n.canDrop(this,e)}},{key:"isDragging",value:function(){return Boolean(this.getItemType())}},{key:"isDraggingSource",value:function(e){if(!e)return!1;var n=this.registry.getSource(e,!0);if(N(n,"Expected to find a valid source. sourceId=".concat(e)),!this.isDragging()||!this.isSourcePublic())return!1;var o=this.registry.getSourceType(e),i=this.getItemType();return o!==i?!1:n.isDragging(this,e)}},{key:"isOverTarget",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{shallow:!1};if(!e)return!1;var o=n.shallow;if(!this.isDragging())return!1;var i=this.registry.getTargetType(e),a=this.getItemType();if(a&&!dn(i,a))return!1;var l=this.getTargetIds();if(!l.length)return!1;var c=l.indexOf(e);return o?c===l.length-1:c>-1}},{key:"getItemType",value:function(){return this.store.getState().dragOperation.itemType}},{key:"getItem",value:function(){return this.store.getState().dragOperation.item}},{key:"getSourceId",value:function(){return this.store.getState().dragOperation.sourceId}},{key:"getTargetIds",value:function(){return this.store.getState().dragOperation.targetIds}},{key:"getDropResult",value:function(){return this.store.getState().dragOperation.dropResult}},{key:"didDrop",value:function(){return this.store.getState().dragOperation.didDrop}},{key:"isSourcePublic",value:function(){return Boolean(this.store.getState().dragOperation.isSourcePublic)}},{key:"getInitialClientOffset",value:function(){return this.store.getState().dragOffset.initialClientOffset}},{key:"getInitialSourceClientOffset",value:function(){return this.store.getState().dragOffset.initialSourceClientOffset}},{key:"getClientOffset",value:function(){return this.store.getState().dragOffset.clientOffset}},{key:"getSourceClientOffset",value:function(){return Ou(this.store.getState().dragOffset)}},{key:"getDifferenceFromInitialOffset",value:function(){return xu(this.store.getState().dragOffset)}}]),t}();s();s();var bm=0;function Eu(){return bm++}s();function vo(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?vo=function(e){return typeof e}:vo=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vo(t)}function _u(t){N(typeof t.canDrag=="function","Expected canDrag to be a function."),N(typeof t.beginDrag=="function","Expected beginDrag to be a function."),N(typeof t.endDrag=="function","Expected endDrag to be a function.")}function Du(t){N(typeof t.canDrop=="function","Expected canDrop to be a function."),N(typeof t.hover=="function","Expected hover to be a function."),N(typeof t.drop=="function","Expected beginDrag to be a function.")}function bo(t,r){if(r&&Array.isArray(t)){t.forEach(function(e){return bo(e,!1)});return}N(typeof t=="string"||vo(t)==="symbol",r?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}s();s();s();function gn(t){St.length||(So(),Au=!0),St[St.length]=t}var St=[],Au=!1,So,bt=0,Sm=1024;function Lu(){for(;bt<St.length;){var t=bt;if(bt=bt+1,St[t].call(),bt>Sm){for(var r=0,e=St.length-bt;r<e;r++)St[r]=St[r+bt];St.length-=bt,bt=0}}St.length=0,bt=0,Au=!1}var Mu=typeof window<"u"?window:self,Nu=Mu.MutationObserver||Mu.WebKitMutationObserver;typeof Nu=="function"?So=wm(Lu):So=Vu(Lu);gn.requestFlush=So;function wm(t){var r=1,e=new Nu(t),n=document.createTextNode("");return e.observe(n,{characterData:!0}),function(){r=-r,n.data=r}}function Vu(t){return function(){var e=setTimeout(o,0),n=setInterval(o,50);function o(){clearTimeout(e),clearInterval(n),t()}}}gn.makeRequestCallFromTimer=Vu;var wo=[],zi=[],Tm=gn.makeRequestCallFromTimer(Cm);function Cm(){if(zi.length)throw zi.shift()}function To(t){var r;wo.length?r=wo.pop():r=new Rm,r.task=t,gn(r)}var Rm=function(){function t(){}return t.prototype.call=function(){try{this.task.call()}catch(r){To.onerror?To.onerror(r):(zi.push(r),Tm())}finally{this.task=null,wo[wo.length]=this}},t}();function Pm(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function zu(t,r){for(var e=0;e<r.length;e++){var n=r[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Om(t,r,e){return r&&zu(t.prototype,r),e&&zu(t,e),t}function xm(t,r){return _m(t)||Em(t,r)||km(t,r)||Im()}function Im(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function km(t,r){if(!!t){if(typeof t=="string")return Bu(t,r);var e=Object.prototype.toString.call(t).slice(8,-1);if(e==="Object"&&t.constructor&&(e=t.constructor.name),e==="Map"||e==="Set")return Array.from(t);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return Bu(t,r)}}function Bu(t,r){(r==null||r>t.length)&&(r=t.length);for(var e=0,n=new Array(r);e<r;e++)n[e]=t[e];return n}function Em(t,r){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var e=[],n=!0,o=!1,i=void 0;try{for(var a=t[Symbol.iterator](),l;!(n=(l=a.next()).done)&&(e.push(l.value),!(r&&e.length===r));n=!0);}catch(c){o=!0,i=c}finally{try{!n&&a.return!=null&&a.return()}finally{if(o)throw i}}return e}}function _m(t){if(Array.isArray(t))return t}function Dm(t){var r=Eu().toString();switch(t){case He.SOURCE:return"S".concat(r);case He.TARGET:return"T".concat(r);default:throw new Error("Unknown Handler Role: ".concat(t))}}function Hu(t){switch(t[0]){case"S":return He.SOURCE;case"T":return He.TARGET;default:N(!1,"Cannot parse handler ID: ".concat(t))}}function ju(t,r){var e=t.entries(),n=!1;do{var o=e.next(),i=o.done,a=xm(o.value,2),l=a[1];if(l===r)return!0;n=!!i}while(!n);return!1}var Fu=function(){function t(r){Pm(this,t),this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=r}return Om(t,[{key:"addSource",value:function(e,n){bo(e),_u(n);var o=this.addHandler(He.SOURCE,e,n);return this.store.dispatch(pu(o)),o}},{key:"addTarget",value:function(e,n){bo(e,!0),Du(n);var o=this.addHandler(He.TARGET,e,n);return this.store.dispatch(fu(o)),o}},{key:"containsHandler",value:function(e){return ju(this.dragSources,e)||ju(this.dropTargets,e)}},{key:"getSource",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;N(this.isSourceId(e),"Expected a valid source ID.");var o=n&&e===this.pinnedSourceId,i=o?this.pinnedSource:this.dragSources.get(e);return i}},{key:"getTarget",value:function(e){return N(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}},{key:"getSourceType",value:function(e){return N(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}},{key:"getTargetType",value:function(e){return N(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}},{key:"isSourceId",value:function(e){var n=Hu(e);return n===He.SOURCE}},{key:"isTargetId",value:function(e){var n=Hu(e);return n===He.TARGET}},{key:"removeSource",value:function(e){var n=this;N(this.getSource(e),"Expected an existing source."),this.store.dispatch(mu(e)),To(function(){n.dragSources.delete(e),n.types.delete(e)})}},{key:"removeTarget",value:function(e){N(this.getTarget(e),"Expected an existing target."),this.store.dispatch(gu(e)),this.dropTargets.delete(e),this.types.delete(e)}},{key:"pinSource",value:function(e){var n=this.getSource(e);N(n,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=n}},{key:"unpinSource",value:function(){N(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}},{key:"addHandler",value:function(e,n,o){var i=Dm(e);return this.types.set(i,n),e===He.SOURCE?this.dragSources.set(i,o):e===He.TARGET&&this.dropTargets.set(i,o),i}}]),t}();function Wu(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,o=Lm(n),i=new ku(o,new Fu(o)),a=new nu(o,i),l=t(a,r,e);return a.receiveBackend(l),a}function Lm(t){var r=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return Vi(Ru,t&&r&&r({name:"dnd-core",instanceId:"dnd-core"}))}var Mm=["children"];function Am(t,r){return Bm(t)||zm(t,r)||Vm(t,r)||Nm()}function Nm(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vm(t,r){if(!!t){if(typeof t=="string")return Uu(t,r);var e=Object.prototype.toString.call(t).slice(8,-1);if(e==="Object"&&t.constructor&&(e=t.constructor.name),e==="Map"||e==="Set")return Array.from(t);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return Uu(t,r)}}function Uu(t,r){(r==null||r>t.length)&&(r=t.length);for(var e=0,n=new Array(r);e<r;e++)n[e]=t[e];return n}function zm(t,r){var e=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(e!=null){var n=[],o=!0,i=!1,a,l;try{for(e=e.call(t);!(o=(a=e.next()).done)&&(n.push(a.value),!(r&&n.length===r));o=!0);}catch(c){i=!0,l=c}finally{try{!o&&e.return!=null&&e.return()}finally{if(i)throw l}}return n}}function Bm(t){if(Array.isArray(t))return t}function Hm(t,r){if(t==null)return{};var e=jm(t,r),n,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(o=0;o<i.length;o++)n=i[o],!(r.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,n)||(e[n]=t[n]))}return e}function jm(t,r){if(t==null)return{};var e={},n=Object.keys(t),o,i;for(i=0;i<n.length;i++)o=n[i],!(r.indexOf(o)>=0)&&(e[o]=t[o]);return e}var Gu=0,Co=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__"),Xu=(0,Ro.memo)(function(r){var e=r.children,n=Hm(r,Mm),o=Fm(n),i=Am(o,2),a=i[0],l=i[1];return(0,Ro.useEffect)(function(){if(l){var c=$u();return++Gu,function(){--Gu===0&&(c[Co]=null)}}},[]),(0,qu.jsx)(Yn.Provider,Object.assign({value:a},{children:e}),void 0)});function Fm(t){if("manager"in t){var r={dragDropManager:t.manager};return[r,!1]}var e=Wm(t.backend,t.context,t.options,t.debugMode),n=!t.context;return[e,n]}function Wm(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:$u(),e=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,o=r;return o[Co]||(o[Co]={dragDropManager:Wu(t,r,e,n)}),o[Co]}function $u(){return window}s();var Bi=w(T());function Um(t,r){return $m(t)||Xm(t,r)||qm(t,r)||Gm()}function Gm(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qm(t,r){if(!!t){if(typeof t=="string")return Ku(t,r);var e=Object.prototype.toString.call(t).slice(8,-1);if(e==="Object"&&t.constructor&&(e=t.constructor.name),e==="Map"||e==="Set")return Array.from(t);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return Ku(t,r)}}function Ku(t,r){(r==null||r>t.length)&&(r=t.length);for(var e=0,n=new Array(r);e<r;e++)n[e]=t[e];return n}function Xm(t,r){var e=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(e!=null){var n=[],o=!0,i=!1,a,l;try{for(e=e.call(t);!(o=(a=e.next()).done)&&(n.push(a.value),!(r&&n.length===r));o=!0);}catch(c){i=!0,l=c}finally{try{!o&&e.return!=null&&e.return()}finally{if(i)throw l}}return n}}function $m(t){if(Array.isArray(t))return t}function Po(t){var r=fl(),e=r.getMonitor(),n=ml(e,t),o=Um(n,2),i=o[0],a=o[1];return(0,Bi.useEffect)(function(){return e.subscribeToOffsetChange(a)}),(0,Bi.useEffect)(function(){return e.subscribeToStateChange(a)}),i}s();var bd=w(T());s();s();s();s();s();function Km(t,r){var e;if(typeof Symbol>"u"||t[Symbol.iterator]==null){if(Array.isArray(t)||(e=Ym(t))||r&&t&&typeof t.length=="number"){e&&(t=e);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(u){throw u},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i=!0,a=!1,l;return{s:function(){e=t[Symbol.iterator]()},n:function(){var u=e.next();return i=u.done,u},e:function(u){a=!0,l=u},f:function(){try{!i&&e.return!=null&&e.return()}finally{if(a)throw l}}}}function Ym(t,r){if(!!t){if(typeof t=="string")return Yu(t,r);var e=Object.prototype.toString.call(t).slice(8,-1);if(e==="Object"&&t.constructor&&(e=t.constructor.name),e==="Map"||e==="Set")return Array.from(t);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return Yu(t,r)}}function Yu(t,r){(r==null||r>t.length)&&(r=t.length);for(var e=0,n=new Array(r);e<r;e++)n[e]=t[e];return n}function Qm(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function Hi(t,r,e){return r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e,t}function Oo(t,r){var e=Qu(t,r,"get");return Jm(t,e)}function Jm(t,r){return r.get?r.get.call(t):r.value}function Zm(t,r,e){var n=Qu(t,r,"set");return eg(t,n,e),e}function Qu(t,r,e){if(!r.has(t))throw new TypeError("attempted to "+e+" private field on non-instance");return r.get(t)}function eg(t,r,e){if(r.set)r.set.call(t,e);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=e}}var Br=new WeakMap,Ju=function t(){var r=this;Qm(this,t),Br.set(this,{writable:!0,value:void 0}),Hi(this,"register",function(e){Oo(r,Br).push(e)}),Hi(this,"unregister",function(e){for(var n;(n=Oo(r,Br).indexOf(e))!==-1;)Oo(r,Br).splice(n,1)}),Hi(this,"backendChanged",function(e){var n=Km(Oo(r,Br)),o;try{for(n.s();!(o=n.n()).done;){var i=o.value;i.backendChanged(e)}}catch(a){n.e(a)}finally{n.f()}}),Zm(this,Br,[])};function tg(t){return ig(t)||og(t)||ng(t)||rg()}function rg(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ng(t,r){if(!!t){if(typeof t=="string")return Wi(t,r);var e=Object.prototype.toString.call(t).slice(8,-1);if(e==="Object"&&t.constructor&&(e=t.constructor.name),e==="Map"||e==="Set")return Array.from(t);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return Wi(t,r)}}function og(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function ig(t){if(Array.isArray(t))return Wi(t)}function Wi(t,r){(r==null||r>t.length)&&(r=t.length);for(var e=0,n=new Array(r);e<r;e++)n[e]=t[e];return n}function ag(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function wt(t,r,e){return r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e,t}function B(t,r){var e=rd(t,r,"get");return sg(t,e)}function sg(t,r){return r.get?r.get.call(t):r.value}function Hr(t,r,e){var n=rd(t,r,"set");return lg(t,n,e),e}function rd(t,r,e){if(!r.has(t))throw new TypeError("attempted to "+e+" private field on non-instance");return r.get(t)}function lg(t,r,e){if(r.set)r.set.call(t,e);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=e}}var Je=new WeakMap,xo=new WeakMap,Ze=new WeakMap,Wt=new WeakMap,ir=new WeakMap,Zu=new WeakMap,ed=new WeakMap,td=new WeakMap,ji=new WeakMap,Fi=new WeakMap,Io=new WeakMap,Ui=function t(r,e,n){var o=this;if(ag(this,t),Je.set(this,{writable:!0,value:void 0}),xo.set(this,{writable:!0,value:void 0}),Ze.set(this,{writable:!0,value:void 0}),Wt.set(this,{writable:!0,value:void 0}),ir.set(this,{writable:!0,value:void 0}),Zu.set(this,{writable:!0,value:function(a,l,c){var u,p;if(!c.backend)throw new Error("You must specify a 'backend' property in your Backend entry: ".concat(JSON.stringify(c)));var y=c.backend(a,l,c.options),h=c.id,I=!c.id&&y&&y.constructor;if(I&&(h=y.constructor.name),h)I&&console.warn(`Deprecation notice: You are using a pipeline which doesn't include backends' 'id'.
        This might be unsupported in the future, please specify 'id' explicitely for every backend.`);else throw new Error("You must specify an 'id' property in your Backend entry: ".concat(JSON.stringify(c),`
        see this guide: https://github.com/louisbrunner/dnd-multi-backend/tree/master/packages/react-dnd-multi-backend#migrating-from-5xx`));if(B(o,Ze)[h])throw new Error(`You must specify a unique 'id' property in your Backend entry:
        `.concat(JSON.stringify(c)," (conflicts with: ").concat(JSON.stringify(B(o,Ze)[h]),")"));return{id:h,instance:y,preview:(u=c.preview)!==null&&u!==void 0?u:!1,transition:c.transition,skipDispatchOnTransition:(p=c.skipDispatchOnTransition)!==null&&p!==void 0?p:!1}}}),wt(this,"setup",function(){if(!(typeof window>"u")){if(t.isSetUp)throw new Error("Cannot have two MultiBackends at the same time.");t.isSetUp=!0,B(o,ed).call(o,window),B(o,Ze)[B(o,Je)].instance.setup()}}),wt(this,"teardown",function(){typeof window>"u"||(t.isSetUp=!1,B(o,td).call(o,window),B(o,Ze)[B(o,Je)].instance.teardown())}),wt(this,"connectDragSource",function(i,a,l){return B(o,Io).call(o,"connectDragSource",i,a,l)}),wt(this,"connectDragPreview",function(i,a,l){return B(o,Io).call(o,"connectDragPreview",i,a,l)}),wt(this,"connectDropTarget",function(i,a,l){return B(o,Io).call(o,"connectDropTarget",i,a,l)}),wt(this,"profile",function(){return B(o,Ze)[B(o,Je)].instance.profile()}),wt(this,"previewEnabled",function(){return B(o,Ze)[B(o,Je)].preview}),wt(this,"previewsList",function(){return B(o,xo)}),wt(this,"backendsList",function(){return B(o,Wt)}),ed.set(this,{writable:!0,value:function(a){B(o,Wt).forEach(function(l){l.transition&&a.addEventListener(l.transition.event,B(o,ji))})}}),td.set(this,{writable:!0,value:function(a){B(o,Wt).forEach(function(l){l.transition&&a.removeEventListener(l.transition.event,B(o,ji))})}}),ji.set(this,{writable:!0,value:function(a){var l=B(o,Je);if(B(o,Wt).some(function(y){return y.id!==B(o,Je)&&y.transition&&y.transition.check(a)?(Hr(o,Je,y.id),!0):!1}),B(o,Je)!==l){var c;B(o,Ze)[l].instance.teardown(),Object.keys(B(o,ir)).forEach(function(y){var h,I=B(o,ir)[y];I.unsubscribe(),I.unsubscribe=(h=B(o,Fi)).call.apply(h,[o,I.func].concat(tg(I.args)))}),B(o,xo).backendChanged(o);var u=B(o,Ze)[B(o,Je)];if(u.instance.setup(),u.skipDispatchOnTransition)return;var p=null;try{p=a.constructor(a.type,a)}catch(y){p=document.createEvent("Event"),p.initEvent(a.type,a.bubbles,a.cancelable)}(c=a.target)===null||c===void 0||c.dispatchEvent(p)}}}),Fi.set(this,{writable:!0,value:function(a,l,c,u){return B(o,Ze)[B(o,Je)].instance[a](l,c,u)}}),Io.set(this,{writable:!0,value:function(a,l,c,u){var p="".concat(a,"_").concat(l),y=B(o,Fi).call(o,a,l,c,u);return B(o,ir)[p]={func:a,args:[l,c,u],unsubscribe:y},function(){B(o,ir)[p].unsubscribe(),delete B(o,ir)[p]}}}),!n||!n.backends||n.backends.length<1)throw new Error(`You must specify at least one Backend, if you are coming from 2.x.x (or don't understand this error)
        see this guide: https://github.com/louisbrunner/dnd-multi-backend/tree/master/packages/react-dnd-multi-backend#migrating-from-2xx`);Hr(this,xo,new Ju),Hr(this,Ze,{}),Hr(this,Wt,[]),n.backends.forEach(function(i){var a=B(o,Zu).call(o,r,e,i);B(o,Ze)[a.id]=a,B(o,Wt).push(a)}),Hr(this,Je,B(this,Wt)[0].id),Hr(this,ir,{})};wt(Ui,"isSetUp",!1);var ko=function(r,e,n){return new Ui(r,e,n)};s();var jr=function(r,e){return{event:r,check:e}};s();var Gi=jr("touchstart",function(t){var r=t;return r.touches!==null&&r.touches!==void 0}),cg=jr("dragstart",function(t){return t.type.indexOf("drag")!==-1||t.type.indexOf("drop")!==-1}),ug=jr("mousedown",function(t){return t.type.indexOf("touch")===-1&&t.type.indexOf("mouse")!==-1}),qi=jr("pointerdown",function(t){var r=t;return r.pointerType=="mouse"});s();var Eo=w(T());var nd=(0,Eo.createContext)(null);s();var Do=w(T()),cd=w(ef());s();s();var sd=w(T());s();var id=w(T());s();var Xi=function(r,e){return{x:r.x-e.x,y:r.y-e.y}},dg=function(r){var e=r.getInitialClientOffset(),n=r.getInitialSourceClientOffset();return e===null||n===null||e.x===void 0||e.y===void 0?{x:0,y:0}:Xi(e,n)},od=function(r,e){var n=r.getClientOffset();if(n===null)return null;if(!e.current||!e.current.getBoundingClientRect)return Xi(n,dg(r));var o=e.current.getBoundingClientRect(),i={x:o.width/2,y:o.height/2};return Xi(n,i)};var pg=function(r){var e="translate(".concat(r.x,"px, ").concat(r.y,"px)");return{pointerEvents:"none",position:"fixed",top:0,left:0,transform:e,WebkitTransform:e}},_o=function(){var r=(0,id.useRef)(null),e=Po(function(n){return{currentOffset:od(n,r),isDragging:n.isDragging(),itemType:n.getItemType(),item:n.getItem(),monitor:n}});return!e.isDragging||e.currentOffset===null?{display:!1}:{display:!0,itemType:e.itemType,item:e.item,style:pg(e.currentOffset),monitor:e.monitor,ref:r}};s();var ad=w(T()),hn=(0,ad.createContext)(void 0);function fg(t,r){if(t==null)return{};var e=mg(t,r),n,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(o=0;o<i.length;o++)n=i[o],!(r.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,n)||(e[n]=t[n]))}return e}function mg(t,r){if(t==null)return{};var e={},n=Object.keys(t),o,i;for(i=0;i<n.length;i++)o=n[i],!(r.indexOf(o)>=0)&&(e[o]=t[o]);return e}var $i=function(r){var e=_o();if(!e.display)return null;var n=e.display,o=fg(e,["display"]),i;return"children"in r&&typeof r.children=="function"?i=r.children(o):"children"in r?i=r.children:i=r.generator(o),sd.default.createElement(hn.Provider,{value:o},i)};s();var Fr=w(T());function gg(t,r){return bg(t)||vg(t,r)||yg(t,r)||hg()}function hg(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yg(t,r){if(!!t){if(typeof t=="string")return ld(t,r);var e=Object.prototype.toString.call(t).slice(8,-1);if(e==="Object"&&t.constructor&&(e=t.constructor.name),e==="Map"||e==="Set")return Array.from(t);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return ld(t,r)}}function ld(t,r){(r==null||r>t.length)&&(r=t.length);for(var e=0,n=new Array(r);e<r;e++)n[e]=t[e];return n}function vg(t,r){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var e=[],n=!0,o=!1,i=void 0;try{for(var a=t[Symbol.iterator](),l;!(n=(l=a.next()).done)&&(e.push(l.value),!(r&&e.length===r));n=!0);}catch(c){o=!0,i=c}finally{try{!n&&a.return!=null&&a.return()}finally{if(o)throw i}}return e}}function bg(t){if(Array.isArray(t))return t}var Ki=function(){var r=(0,Fr.useState)(!1),e=gg(r,2),n=e[0],o=e[1],i=(0,Fr.useContext)(Yn);return(0,Fr.useEffect)(function(){var a,l=i==null||(a=i.dragDropManager)===null||a===void 0?void 0:a.getBackend(),c={backendChanged:function(p){o(p.previewEnabled())}};return o(l.previewEnabled()),l.previewsList().register(c),function(){l.previewsList().unregister(c)}},[i,i.dragDropManager]),n};var Sg=function(r){var e=Ki(),n=(0,Do.useContext)(nd);if(!e)return null;var o=Do.default.createElement($i,r);return n!==null?(0,cd.createPortal)(o,n):o};Sg.Context=hn;s();s();s();var wg=w(T());s();s();s();s();s();var xt;(function(t){t.mouse="mouse",t.touch="touch",t.keyboard="keyboard"})(xt||(xt={}));s();var Cg={Left:1,Right:2,Center:4},Rg={Left:0,Center:1,Right:2};function Lo(t){return t.button===void 0||t.button===Rg.Left}function ud(t){return t.buttons===void 0||(t.buttons&Cg.Left)===0}function Mo(t){return!!t.targetTouches}s();var Pg=1;function dd(t){var r=t.nodeType===Pg?t:t.parentElement;if(!!r){var e=r.getBoundingClientRect(),n=e.top,o=e.left;return{x:o,y:n}}}function Og(t,r){if(t.targetTouches.length===1)return yn(t.targetTouches[0]);if(r&&t.touches.length===1&&t.touches[0].target===r.target)return yn(t.touches[0])}function yn(t,r){return Mo(t)?Og(t,r):{x:t.clientX,y:t.clientY}}s();function pd(t,r,e,n){return Math.sqrt(Math.pow(Math.abs(e-t),2)+Math.pow(Math.abs(n-r),2))}function fd(t,r,e,n,o){if(!o)return!1;for(var i=Math.atan2(n-r,e-t)*180/Math.PI+180,a=0;a<o.length;++a)if((o[a].start==null||i>=o[a].start)&&(o[a].end==null||i<=o[a].end))return!0;return!1}s();var Yi=function(){var t=!1;try{addEventListener("test",function(){},Object.defineProperty({},"passive",{get:function(){return t=!0,!0}}))}catch(r){}return t}();s();function xg(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function md(t,r){for(var e=0;e<r.length;e++){var n=r[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Ig(t,r,e){return r&&md(t.prototype,r),e&&md(t,e),t}function gd(t,r,e){return r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e,t}var hd=function(){function t(r,e){xg(this,t),gd(this,"args",void 0),gd(this,"context",void 0),this.args=r,this.context=e}return Ig(t,[{key:"delay",get:function(){var e;return(e=this.args.delay)!==null&&e!==void 0?e:0}},{key:"scrollAngleRanges",get:function(){return this.args.scrollAngleRanges}},{key:"getDropTargetElementsAtPoint",get:function(){return this.args.getDropTargetElementsAtPoint}},{key:"ignoreContextMenu",get:function(){var e;return(e=this.args.ignoreContextMenu)!==null&&e!==void 0?e:!1}},{key:"enableHoverOutsideTarget",get:function(){var e;return(e=this.args.enableHoverOutsideTarget)!==null&&e!==void 0?e:!1}},{key:"enableKeyboardEvents",get:function(){var e;return(e=this.args.enableKeyboardEvents)!==null&&e!==void 0?e:!1}},{key:"enableMouseEvents",get:function(){var e;return(e=this.args.enableMouseEvents)!==null&&e!==void 0?e:!1}},{key:"enableTouchEvents",get:function(){var e;return(e=this.args.enableTouchEvents)!==null&&e!==void 0?e:!0}},{key:"touchSlop",get:function(){return this.args.touchSlop||0}},{key:"delayTouchStart",get:function(){var e,n,o,i;return(e=(n=(o=this.args)===null||o===void 0?void 0:o.delayTouchStart)!==null&&n!==void 0?n:(i=this.args)===null||i===void 0?void 0:i.delay)!==null&&e!==void 0?e:0}},{key:"delayMouseStart",get:function(){var e,n,o,i;return(e=(n=(o=this.args)===null||o===void 0?void 0:o.delayMouseStart)!==null&&n!==void 0?n:(i=this.args)===null||i===void 0?void 0:i.delay)!==null&&e!==void 0?e:0}},{key:"window",get:function(){if(this.context&&this.context.window)return this.context.window;if(typeof window<"u")return window}},{key:"document",get:function(){var e;if((e=this.context)!==null&&e!==void 0&&e.document)return this.context.document;if(this.window)return this.window.document}},{key:"rootElement",get:function(){var e;return((e=this.args)===null||e===void 0?void 0:e.rootElement)||this.document}}]),t}();var vn;function kg(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function yd(t,r){for(var e=0;e<r.length;e++){var n=r[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Eg(t,r,e){return r&&yd(t.prototype,r),e&&yd(t,e),t}function K(t,r,e){return r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e,t}var bn=(vn={},K(vn,xt.mouse,{start:"mousedown",move:"mousemove",end:"mouseup",contextmenu:"contextmenu"}),K(vn,xt.touch,{start:"touchstart",move:"touchmove",end:"touchend"}),K(vn,xt.keyboard,{keydown:"keydown"}),vn),Qi=function(){function t(r,e,n){var o=this;kg(this,t),K(this,"options",void 0),K(this,"actions",void 0),K(this,"monitor",void 0),K(this,"sourceNodes",void 0),K(this,"sourcePreviewNodes",void 0),K(this,"sourcePreviewNodeOptions",void 0),K(this,"targetNodes",void 0),K(this,"_mouseClientOffset",void 0),K(this,"_isScrolling",void 0),K(this,"listenerTypes",void 0),K(this,"moveStartSourceIds",void 0),K(this,"waitingForDelay",void 0),K(this,"timeout",void 0),K(this,"dragOverTargetIds",void 0),K(this,"draggedSourceNode",void 0),K(this,"draggedSourceNodeRemovalObserver",void 0),K(this,"lastTargetTouchFallback",void 0),K(this,"getSourceClientOffset",function(i){var a=o.sourceNodes.get(i);return a&&dd(a)}),K(this,"handleTopMoveStartCapture",function(i){!Lo(i)||(o.moveStartSourceIds=[])}),K(this,"handleMoveStart",function(i){Array.isArray(o.moveStartSourceIds)&&o.moveStartSourceIds.unshift(i)}),K(this,"handleTopMoveStart",function(i){if(!!Lo(i)){var a=yn(i);a&&(Mo(i)&&(o.lastTargetTouchFallback=i.targetTouches[0]),o._mouseClientOffset=a),o.waitingForDelay=!1}}),K(this,"handleTopMoveStartDelay",function(i){if(!!Lo(i)){var a=i.type===bn.touch.start?o.options.delayTouchStart:o.options.delayMouseStart;o.timeout=setTimeout(o.handleTopMoveStart.bind(o,i),a),o.waitingForDelay=!0}}),K(this,"handleTopMoveCapture",function(){o.dragOverTargetIds=[]}),K(this,"handleMove",function(i,a){o.dragOverTargetIds&&o.dragOverTargetIds.unshift(a)}),K(this,"handleTopMove",function(i){if(o.timeout&&clearTimeout(o.timeout),!(!o.document||o.waitingForDelay)){var a=o.moveStartSourceIds,l=o.dragOverTargetIds,c=o.options.enableHoverOutsideTarget,u=yn(i,o.lastTargetTouchFallback);if(!!u){if(o._isScrolling||!o.monitor.isDragging()&&fd(o._mouseClientOffset.x||0,o._mouseClientOffset.y||0,u.x,u.y,o.options.scrollAngleRanges)){o._isScrolling=!0;return}if(!o.monitor.isDragging()&&o._mouseClientOffset.hasOwnProperty("x")&&a&&pd(o._mouseClientOffset.x||0,o._mouseClientOffset.y||0,u.x,u.y)>(o.options.touchSlop?o.options.touchSlop:0)&&(o.moveStartSourceIds=void 0,o.actions.beginDrag(a,{clientOffset:o._mouseClientOffset,getSourceClientOffset:o.getSourceClientOffset,publishSource:!1})),!!o.monitor.isDragging()){var p=o.sourceNodes.get(o.monitor.getSourceId());o.installSourceNodeRemovalObserver(p),o.actions.publishDragSource(),i.cancelable&&i.preventDefault();var y=(l||[]).map(function(J){return o.targetNodes.get(J)}).filter(function(J){return!!J}),h=o.options.getDropTargetElementsAtPoint?o.options.getDropTargetElementsAtPoint(u.x,u.y,y):o.document.elementsFromPoint(u.x,u.y),I=[];for(var P in h)if(!!h.hasOwnProperty(P)){var O=h[P];for(I.push(O);O;)O=O.parentElement,O&&I.indexOf(O)===-1&&I.push(O)}var k=I.filter(function(J){return y.indexOf(J)>-1}).map(function(J){return o._getDropTargetId(J)}).filter(function(J){return!!J}).filter(function(J,H,ne){return ne.indexOf(J)===H});if(c)for(var D in o.targetNodes){var Y=o.targetNodes.get(D);if(p&&Y&&Y.contains(p)&&k.indexOf(D)===-1){k.unshift(D);break}}k.reverse(),o.actions.hover(k,{clientOffset:u})}}}}),K(this,"_getDropTargetId",function(i){for(var a=o.targetNodes.keys(),l=a.next();l.done===!1;){var c=l.value;if(i===o.targetNodes.get(c))return c;l=a.next()}}),K(this,"handleTopMoveEndCapture",function(i){if(o._isScrolling=!1,o.lastTargetTouchFallback=void 0,!!ud(i)){if(!o.monitor.isDragging()||o.monitor.didDrop()){o.moveStartSourceIds=void 0;return}i.cancelable&&i.preventDefault(),o._mouseClientOffset={},o.uninstallSourceNodeRemovalObserver(),o.actions.drop(),o.actions.endDrag()}}),K(this,"handleCancelOnEscape",function(i){i.key==="Escape"&&o.monitor.isDragging()&&(o._mouseClientOffset={},o.uninstallSourceNodeRemovalObserver(),o.actions.endDrag())}),this.options=new hd(n,e),this.actions=r.getActions(),this.monitor=r.getMonitor(),this.sourceNodes=new Map,this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.targetNodes=new Map,this.listenerTypes=[],this._mouseClientOffset={},this._isScrolling=!1,this.options.enableMouseEvents&&this.listenerTypes.push(xt.mouse),this.options.enableTouchEvents&&this.listenerTypes.push(xt.touch),this.options.enableKeyboardEvents&&this.listenerTypes.push(xt.keyboard)}return Eg(t,[{key:"profile",value:function(){var e;return{sourceNodes:this.sourceNodes.size,sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,targetNodes:this.targetNodes.size,dragOverTargetIds:((e=this.dragOverTargetIds)===null||e===void 0?void 0:e.length)||0}}},{key:"document",get:function(){return this.options.document}},{key:"setup",value:function(){var e=this.options.rootElement;!e||(N(!t.isSetUp,"Cannot have two Touch backends at the same time."),t.isSetUp=!0,this.addEventListener(e,"start",this.getTopMoveStartHandler()),this.addEventListener(e,"start",this.handleTopMoveStartCapture,!0),this.addEventListener(e,"move",this.handleTopMove),this.addEventListener(e,"move",this.handleTopMoveCapture,!0),this.addEventListener(e,"end",this.handleTopMoveEndCapture,!0),this.options.enableMouseEvents&&!this.options.ignoreContextMenu&&this.addEventListener(e,"contextmenu",this.handleTopMoveEndCapture),this.options.enableKeyboardEvents&&this.addEventListener(e,"keydown",this.handleCancelOnEscape,!0))}},{key:"teardown",value:function(){var e=this.options.rootElement;!e||(t.isSetUp=!1,this._mouseClientOffset={},this.removeEventListener(e,"start",this.handleTopMoveStartCapture,!0),this.removeEventListener(e,"start",this.handleTopMoveStart),this.removeEventListener(e,"move",this.handleTopMoveCapture,!0),this.removeEventListener(e,"move",this.handleTopMove),this.removeEventListener(e,"end",this.handleTopMoveEndCapture,!0),this.options.enableMouseEvents&&!this.options.ignoreContextMenu&&this.removeEventListener(e,"contextmenu",this.handleTopMoveEndCapture),this.options.enableKeyboardEvents&&this.removeEventListener(e,"keydown",this.handleCancelOnEscape,!0),this.uninstallSourceNodeRemovalObserver())}},{key:"addEventListener",value:function(e,n,o,i){var a=Yi?{capture:i,passive:!1}:i;this.listenerTypes.forEach(function(l){var c=bn[l][n];c&&e.addEventListener(c,o,a)})}},{key:"removeEventListener",value:function(e,n,o,i){var a=Yi?{capture:i,passive:!1}:i;this.listenerTypes.forEach(function(l){var c=bn[l][n];c&&e.removeEventListener(c,o,a)})}},{key:"connectDragSource",value:function(e,n){var o=this,i=this.handleMoveStart.bind(this,e);return this.sourceNodes.set(e,n),this.addEventListener(n,"start",i),function(){o.sourceNodes.delete(e),o.removeEventListener(n,"start",i)}}},{key:"connectDragPreview",value:function(e,n,o){var i=this;return this.sourcePreviewNodeOptions.set(e,o),this.sourcePreviewNodes.set(e,n),function(){i.sourcePreviewNodes.delete(e),i.sourcePreviewNodeOptions.delete(e)}}},{key:"connectDropTarget",value:function(e,n){var o=this,i=this.options.rootElement;if(!this.document||!i)return function(){};var a=function(c){if(!(!o.document||!i||!o.monitor.isDragging())){var u;switch(c.type){case bn.mouse.move:u={x:c.clientX,y:c.clientY};break;case bn.touch.move:u={x:c.touches[0].clientX,y:c.touches[0].clientY};break}var p=u!=null?o.document.elementFromPoint(u.x,u.y):void 0,y=p&&n.contains(p);if(p===n||y)return o.handleMove(c,e)}};return this.addEventListener(this.document.body,"move",a),this.targetNodes.set(e,n),function(){o.document&&(o.targetNodes.delete(e),o.removeEventListener(o.document.body,"move",a))}}},{key:"getTopMoveStartHandler",value:function(){return!this.options.delayTouchStart&&!this.options.delayMouseStart?this.handleTopMoveStart:this.handleTopMoveStartDelay}},{key:"installSourceNodeRemovalObserver",value:function(e){var n=this;this.uninstallSourceNodeRemovalObserver(),this.draggedSourceNode=e,this.draggedSourceNodeRemovalObserver=new MutationObserver(function(){e&&!e.parentElement&&(n.resurrectSourceNode(),n.uninstallSourceNodeRemovalObserver())}),!(!e||!e.parentElement)&&this.draggedSourceNodeRemovalObserver.observe(e.parentElement,{childList:!0})}},{key:"resurrectSourceNode",value:function(){this.document&&this.draggedSourceNode&&(this.draggedSourceNode.style.display="none",this.draggedSourceNode.removeAttribute("data-reactid"),this.document.body.appendChild(this.draggedSourceNode))}},{key:"uninstallSourceNodeRemovalObserver",value:function(){this.draggedSourceNodeRemovalObserver&&this.draggedSourceNodeRemovalObserver.disconnect(),this.draggedSourceNodeRemovalObserver=void 0,this.draggedSourceNode=void 0}}]),t}();K(Qi,"isSetUp",void 0);var vd=function(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return new Qi(r,e,n)};function Ao(t){return bd.createElement(Xu,{backend:ko,options:_g},t.children)}var _g={backends:[{id:"html5",backend:Yl,transition:qi},{id:"touch",backend:vd,options:{enableMouseEvents:!0,delayMouseStart:100,delayTouchStart:250},transition:Gi}]};s();var It=w(T());j();function Sd(){let{isDragging:t,item:r,currentOffset:e}=Po(i=>({item:i.getItem(),currentOffset:i.getClientOffset(),isDragging:i.isDragging()})),[,n]=C(Lg),[,o]=C(G);return It.useEffect(()=>{t?window.document.body.classList.add("dragging"):window.document.body.classList.remove("dragging")},[t]),!t||!(r!=null&&r.previewLabel)?null:It.createElement(Ge,null,It.createElement(m,{style:[f.directionRow,f.alignCenter,n.dragAndDropPreview,Dg(e)],pointerEvents:"none"},r.previewIcon?It.createElement(m,{style:[d.Margin.mediumRight]},It.createElement(R[r.previewIcon],{size:b.ICON_S,style:o.textInsideColor})):null,It.createElement(m,null,It.createElement(F,{style:[o.Label,o.textInsideColor]},r.previewLabel||"Drop to insert"))))}function Dg(t){if(!t)return{display:"none"};let{x:r,y:e}=t;return{transform:[{translateX:r},{translateY:e}]}}var Lg=L.create({dragAndDropPreview:t=>g({position:"absolute",paddingHorizontal:d.large,paddingVertical:d.small,backgroundColor:t.colors.primary.main,borderRadius:b.RADIUS_L,zIndex:300},t.shadows.base)});s();function wd(t,r,e=void 0){switch(r){case"light":case"dark":return x(g({},t),{color:r});case"none":return t;case"bold":return x(g({},t),{color:ms(e||Yt.PRIMARY)});default:mr(r)}}var Ji=1,Zi={none:L.create({spaceHeader:t=>x(g({borderBottomWidth:1,borderBottomColor:t.colors.border.main,backgroundColor:t.colors.background.main},t.shadows.base),{zIndex:1}),separator:{}}),light:L.create({spaceHeader:t=>x(g({borderBottomWidth:1,borderBottomColor:t.colors.border.main,backgroundColor:t.colors.background.main},t.shadows.pop),{zIndex:1}),separator:t=>({width:Ji,height:40,backgroundColor:t.colors.border.main})}),dark:L.create({spaceHeader:t=>x(g({borderBottomWidth:1,borderBottomColor:t.colors.border.main,backgroundColor:t.colors.background.main},t.shadows.base),{zIndex:1}),separator:t=>({width:Ji,height:40,backgroundColor:t.colors.border.main})}),bold:L.create({spaceHeader:t=>x(g({borderBottomWidth:1,borderBottomColor:t.colors.primary.main,backgroundColor:t.colors.primary.main},t.shadows.base),{zIndex:1}),separator:t=>({width:Ji,height:40,backgroundColor:t.colors.text.main})})};s();var Sn=w(T());function Td(t){let{navigate:r}=te(),e=Rr(),{spaces:n}=Er(),o=De(),i=Sn.useRef(new Set);return Sn.useEffect(()=>{let a=n.filter(l=>{var c;return Fa(l)&&((c=kn(l.edits))==null?void 0:c.user)===o.uid});i.current.forEach(l=>{if(a.some(u=>u.key===l))return;i.current.delete(l);let c=n.find(u=>u.key===l);c?e.notifyOrUpdate({id:c.key,title:`"${c.title}" created`,details:"Space successfully duplicated.",kind:"success",icon:R.Duplicate,closeable:!0,timeout:5e3,onOpen:()=>{r({screen:{type:"space",space:c.key}})}}):e.close(l)}),a.forEach(l=>{i.current.has(l.key)||(i.current.add(l.key),e.notifyOrUpdate({id:l.key,title:`Copying content to "${l.title}"\u2026`,details:"Hang tight. This process may take a few seconds, up to a few minutes, depending on the number of pages and files.",kind:"default",icon:ht,closeable:!0,timeout:0,onOpen:()=>{r({screen:{type:"space",space:l.key}})}}))})},[n]),Sn.useEffect(()=>()=>{i.current.forEach((a,l)=>{e.close(l)})},[]),null}s();var Cd=w(T());j();function Rd(t){return Cd.createElement(F,g({},t))}s();var Le=w(T());j();var Nd=w(Ad());function Ho(t){let r=Le.useRef(null),[e,n]=ke(Xl),{medias:o,currentIndex:i}=e,a=()=>{n({medias:[],currentIndex:0})},l=()=>{n(p=>x(g({},p),{currentIndex:Math.max(p.currentIndex-1,0)}))},c=()=>{n(p=>x(g({},p),{currentIndex:Math.min(p.currentIndex+1,p.medias.length-1)}))},u=p=>{n(y=>x(g({},y),{currentIndex:p}))};return Nn({opened:o.length>0,closeOnClick:!1,closeOnOutsideClick:!1,closeOnScroll:!1,closeOnEsc:!0,onClose:a},r),Ir(o.length?{Left:()=>l(),Right:()=>c()}:{},"all",[n,!o.length]),o.length?Le.createElement(Ge,{ref:r},Le.createElement(m,{style:Wr.imagesZoonPortal},Le.createElement(Nd.default,{imageUrls:o.map(p=>({url:p.url})),index:i,renderIndicator:p=>Le.createElement(m,{style:Wr.indactor},Le.createElement(m,{style:Wr.indicatorElement}),Le.createElement(m,{style:[Wr.indicatorElement,f.alignCenter,f.justifyContentCenter]},Le.createElement(F,{style:Wr.indicatorText},`${p}/${o.length}`)),Le.createElement(m,{style:[Wr.indicatorElement,f.alignEnd,f.justifyContentCenter]},Le.createElement(Z,{icon:R.X,defaultTextStyle:{color:Yt.WHITE},onPress:()=>a()}))),renderArrowLeft:()=>Le.createElement(Z,{icon:R.ChevronLeft,defaultTextStyle:{color:Yt.WHITE},onPress:()=>l()}),renderArrowRight:()=>Le.createElement(Z,{icon:R.ChevronRight,defaultTextStyle:{color:Yt.WHITE},onPress:()=>c()}),onChange:p=>u(p),onCancel:()=>a(),enableSwipeDown:!0}))):null}var Wr=ve.create({imagesZoonPortal:{position:"absolute",top:0,left:0,right:0,bottom:0},indactor:{height:48,position:"absolute",left:0,top:0,right:0,display:"flex",flexDirection:"row",zIndex:20},indicatorElement:{flex:1},indicatorText:{color:Yt.WHITE}});s();var jo=w(T());function Vd(t){let{children:r}=t,e=jl(),n=kr("MAGICBELL_NOTIFICATIONS");return!e||!n?jo.default.createElement(jo.default.Fragment,null,r):jo.default.createElement(Tl,{apiKey:_t.magicbell.apiKey,userExternalId:e.uid,stores:[{id:"unread",defaultQueryParams:{read:!1}},{id:"all",defaultQueryParams:{}}]},r)}s();var Ut=w(T());function zd(t){let{children:r}=t,[e,n]=Ut.useState(!1);return Ut.useEffect(()=>{n(!0)},[]),e?Ut.createElement(Ut.Fragment,null,r):null}s();var Tn=w(T());function Bd(t){let{children:r,statusCode:e}=t;return Tn.createElement(Ka,{render:({staticContext:n})=>(n&&(n.statusCode=e),Tn.createElement(Tn.Fragment,null,r))})}s();var me=w(T());j();function Hd(t){let r=me.useRef(null),[,e]=C($g),[,n]=C(G),o=pe(),i=zc(),a=me.useRef(i),l=me.useRef(0),u=Sr().color==="light"?n.textInverted:n.text;return me.useEffect(()=>{i&&(a.current||se({type:"app_back_online",offlineDuration:(Date.now()-l.current)/1e3})),a.current=i,l.current=Date.now()},[i]),me.createElement(me.Fragment,null,i?null:me.createElement(Ge,{ref:r},me.createElement(m,{style:[e.offLineLayout]},me.createElement(m,null,me.createElement(m,{style:[d.Margin.mediumBottom,f.directionRow,f.alignCenter]},me.createElement(m,{style:[d.Margin.mediumRight]},me.createElement(R.CloudOff,{size:b.ICON_S,style:u})),me.createElement(F,{style:[n.Heading3,u]},o("connection_lost"))),me.createElement(m,{style:[d.Margin.mediumBottom]},me.createElement(F,{style:[n.Body,u]},o("device_offline")))))),t.children)}var $g=L.create({offLineLayout:t=>({position:"absolute",top:0,left:0,right:0,bottom:0,width:"100%",height:"100%",backgroundColor:t.colors.backdrop.background,zIndex:100,display:"flex",flex:1,flexDirection:"row",justifyContent:"center",alignItems:"center"})});s();var ue=w(T());j();var Kg=fr("app:crash");function lr(t){let{children:r}=t,e=ue.useCallback((n,o,i)=>{Kg.emergency(`An error occured during rendering:

`,n,`

The error is located at:
`,o),se({type:"crash",crashType:sa(n),sentryEvent:i})},[]);return ue.createElement(Da,{fallback:n=>ue.createElement(Yg,g({},n)),onError:e,beforeCapture:Zg},r)}function Yg(t){let{eventId:r,error:e}=t,[,n]=C(eh),o=()=>{_a({eventId:r})},i=()=>{window.location.reload()};ue.useEffect(()=>{let l=document.querySelector(".gitbook-splashscreen");l==null||l.remove()},[]);let a=()=>{switch(sa(e)){case"network-crash":return ue.createElement(Jg,g({onReload:i},t));case"crash":default:return ue.createElement(Qg,g({onShareFeedback:o,onReload:i},t))}};return ue.createElement(m,{style:[n.background]},a())}function Qg(t){let r=pe(),{onReload:e,onShareFeedback:n}=t;return ue.createElement(en,{title:r("something_wrong"),action:ue.createElement(ue.Fragment,null,ue.createElement(Z,{kind:"primary",size:"medium",onPress:e,style:d.Margin.smallRight},r("reload")),ue.createElement(Z,{kind:"secondary",size:"medium",onPress:n},r("let_us_know")))},r("we_have_been_notified"))}function Jg(t){let{onReload:r}=t,[,e]=C(G),n=pe(),o=()=>{window.open("https://docs.gitbook.com/resources/firewall-safelist","_blank")};return ue.createElement(en,{title:n("connection_lost"),icon:ue.createElement(R.CloudOff,{size:b.ICON_S,style:e.text}),action:ue.createElement(ue.Fragment,null,ue.createElement(Z,{kind:"primary",size:"medium",onPress:r,style:d.Margin.smallRight},n("reload")),ue.createElement(Z,{size:"medium",icon:R.Link,onPress:o},n("network_troubleshooting")))},n("device_offline"))}function Zg(t,r){switch(sa(r)){case"network-crash":t.setTag("error_category","network-crash");break;case"crash":default:t.setTag("error_category","react-crash")}}function sa(t){return t.name==="FirebaseError"&&t.code==="unavailable"?"network-crash":"crash"}var eh=L.create({background:t=>({backgroundColor:t.colors.background.main,minHeight:"100vh"})});s();var et=w(T());s();var jd=w(T());function la(t){let[,{open:r}]=qe(),e=As(),n=jd.useMemo(()=>g({[xr.PALETTE_OPEN]:()=>r()},e),[r,e]);return Ir(n,["application","editor-selection-collapsed"],[n]),null}s();function Fd(t){let r=De(),{navigate:e}=te();return Lt(()=>({key:"navigation",title:"Navigation",commands:[{key:"navigation.goToSettings",title:"Go to settings",icon:R.ArrowRight,trigger:()=>{e({overlay:{type:"account",tab:"profile"}})}},{key:"navigation.switchOrganization",title:"Go to organization\u2026",icon:R.ArrowRight,trigger:()=>th(r.uid,n=>{e({screen:{type:"home",organization:n.key}})},()=>{se({type:"organization_open_create",reason:"sidebar_menu"}),e({overlay:{type:"welcome",onlyOrganizations:!0,hash:"sidebar_menu"}})})}]}),[e,r.uid]),null}function th(t,r,e){return yt({search:"Search organizations\u2026",groups:[{key:"organizations",commands:()=>{let[n]=vt([hr(t)]);return vt(n.map(i=>gt(i.organization))).filter(Pe).map(i=>({key:i.key,title:i.title,icon:Ue(Xe,{org:i}),trigger:()=>{r(i)}}))}},{key:"organization-controls",commands:[{key:"create-organization",title:"Create an organization",icon:R.Organization,trigger:()=>{e()}}]}]})}s();var Fo=w(T());function Wd(t){let{navigate:r}=te();return Lt(()=>[nh(r),rh(r),oh(r)],[,r]),null}function rh(t){return{key:"search.content",title:"Search",filters:[ih,ah],commands:r=>{if(!ca(r))return[];let e=Pt.read({query:r.query.text,types:r.query.text?["pages","sections"]:["pages"],filters:{pages:Wo(r),sections:Wo(r)},analyticsTags:ua(r)});return il(e,n=>{if(n.index!=="pages"&&n.index!=="sections")return null;let[[o],i]=Fs([()=>vt([gr(n.object.space)]),()=>ql({space:n.object.space,revision:n.object.revision})]);if(!o||!i)return null;let a=i.pages[n.object.page];if(!a)return null;let l=a.emoji?Ue(Cr,{code:a.emoji}):void 0,c={title:o.title||Fe,icon:Ue(on,{space:o})};switch(n.index){case"pages":return{key:n.object.objectID,icon:l,label:c,title:n.object.title,subtitle:n.object.description,trigger:()=>{se({type:"palette_open_search_result",index:n.index}),t({screen:{type:"space",space:n.object.space,page:n.object.path}})}};case"sections":return{key:n.object.objectID,icon:l,label:c,title:n.object.title?n.object.title:a.title,subtitle:n.object.title?a.title:void 0,body:n.object.body.split(`
`).filter(Boolean).slice(0,5),trigger:()=>{se({type:"palette_open_search_result",index:n.index}),t({screen:{type:"space",space:n.object.space,page:Tt(i,a.key),hash:n.object.anchor}})}}}}).filter(Pe)}}}function nh(t){return{key:"search.spaces",title:"Spaces",commands:r=>ca(r)?Pt.read({query:r.query.text,types:["spaces"],filters:{spaces:Wo(r)},analyticsTags:ua(r)}).map(n=>n.index!=="spaces"?null:Uo(n,()=>{t({screen:{type:"space",space:n.object.objectID,page:""}}),se({type:"palette_open_search_result",index:n.index})})).filter(Pe):[]}}function oh(t){return{key:"search.users",title:"Users",commands:r=>ca(r)?Pt.read({query:r.query.text,types:["users"],filters:{users:Wo(r)},analyticsTags:ua(r)}).map(n=>n.index!=="users"?null:Uo(n,()=>{se({type:"palette_open_search_result",index:n.index})})).filter(Pe):[]}}var ih={key:"in",title:"space or organization",commands:t=>Pt.read({query:t.query.text,types:["spaces","organizations"]}).map(e=>Uo(e,n=>{switch(e.index){case"organizations":return Vn(n,"in",{text:e.object.title,value:{organization:e.object.objectID}});case"spaces":return Vn(n,"in",{text:e.object.title,value:{space:e.object.objectID}})}}))},ah={key:"by",title:"anyone who has edited or created content",commands:t=>Pt.read({query:t.query.text,types:["users"]}).map(e=>{if(e.index!=="users")throw new Error("invalid result");return Uo(e,n=>Vn(n,"by",{text:e.object.displayName,value:e.object.objectID}))})};function ca(t){return Boolean(t.query.text||Object.keys(t.query.filters).length>0)}function Wo(t){let{filters:r}=t.query,e=[];return r.in&&(r.in.value.organization?e.push(`organization:${r.in.value.organization}`):r.in.value.space&&e.push(`space:${r.in.value.space}`)),r.by&&e.push(`editedBy:${r.by.value}`),e.length>0?e.join(" AND "):void 0}function ua(t){let{filters:r}=t.query,e=[];return r.in&&r.in.value.space&&e.push({type:"space",space:r.in.value.space}),e}function Uo(t,r){switch(t.index){case"organizations":return{key:t.object.objectID,title:t.object.title,icon:()=>Fo.createElement(Xe,{org:t.object,size:b.ICON_XL}),trigger:r};case"spaces":return{key:t.object.objectID,title:t.object.title,icon:()=>Fo.createElement(on,{space:t.object,size:b.ICON_XL}),trigger:r};case"users":return{key:t.object.objectID,title:t.object.displayName,icon:()=>Fo.createElement(Vt,{user:t.object,size:b.ICON_XL}),trigger:r};default:throw new Error("Unhandled result")}}s();var Ud=w(T());function Go(t){let[r,{close:e,setQuery:n}]=qe(),o=Tr(),i=Ss(1e3);return Vs(a=>{if(!a||!!a.position){typeof r<"u"&&(i.cancel(),e());return}a.query.text!==r&&i(()=>n(a.query.text))}),Ud.useEffect(()=>{if(typeof r<"u"&&!o.opened){o.open(),o.typeQuery(r);return}},[o,r]),null}function Gd(t){let{screen:r}=At();return r.type!=="back_office"?et.createElement(et.Fragment,null,et.createElement(Wd,null),et.createElement(la,null),et.createElement(Fd,null),et.createElement(Go,null)):et.createElement(et.Fragment,null,et.createElement(bl,null),et.createElement(la,null))}s();var je=w(T());j();s();var xe=w(T());j();s();var Oe=w(T());s();var tt=w(T());j();function qd(t){let{onClose:r}=t,[,e]=C(sh),n=zl();return tt.createElement(Us,{title:"Help and Feedback",onClose:r,size:"small"},tt.createElement(m,{style:[e.cardsWrapper]},tt.createElement(m,{style:e.actionCard},tt.createElement(Mt,{kind:"blank",url:"https://docs.gitbook.com/resources/keyboard-shortcuts"},tt.createElement(R.EnterKey,{style:d.Margin.smallRight}),"Keyboard shortcuts")),tt.createElement(m,{style:e.actionCard},tt.createElement(Mt,{kind:"blank",url:"https://docs.gitbook.com/"},tt.createElement(R.Page,{style:d.Margin.smallRight}),"Read the docs")),tt.createElement(m,{style:e.actionCard},tt.createElement(Mt,{kind:"blank",onPress:()=>n()},tt.createElement(R.Send,{style:d.Margin.smallRight}),"Contact support"))))}var sh=L.create({actionCard:t=>({flexBasis:"100%",marginBottom:d.small,borderWidth:1,borderColor:t.colors.border.main,borderRadius:4,padding:d.small}),cardsWrapper:{flexDirection:"column"}});function Xd(t){let[r,e]=Oe.useState(null),{signOut:n}=Bl(),{navigate:o}=te(),i=De(),l=br().color==="light",c=Oe.useMemo(()=>({key:"settings",commands:()=>{let[h]=vt([hr(i.uid)]);return[...vt(h.map(P=>gt(P.organization))).map((P,O)=>{let k=h[O];return!P||!Dt(k.role,"admin-profile")?null:{key:`settings.${P.key}`,title:`${P.title} Settings`,icon:Ue(Xe,{org:P}),trigger:()=>{o({overlay:{type:"org_settings",organization:P.key,tab:"profile"}})}}}).filter(Pe),{key:"settings.personal",title:"Personal Settings",icon:Ue(Vt,{user:i,squared:!0}),trigger:()=>{o({overlay:{type:"account",tab:"profile"}})}}]}}),[i.uid,o]),u=Oe.useMemo(()=>({key:"theme",commands:[{key:"theme.switch",icon:l?R.ThemeDark:R.ThemeLight,title:`Switch to ${l?"dark":"light"} mode`,keywords:["theme","dark","light"],trigger:()=>{let h=rs(i.uid),I=l?"dark":"light";h.set({theme:I},{merge:!0}),se({type:"account_edit_theme",theme:I})}}]}),[i.uid,l]),p=Oe.useMemo(()=>({key:"account",commands:[{key:"account.help",icon:R.HelpCircle,title:"Help & Feedback",trigger:()=>{e("help")}},{key:"account.signout",icon:R.Leave,title:"Sign Out",trigger:()=>{n()}}]}),[]),y=Oe.useMemo(()=>yt({variants:l?{color:"light"}:{color:"dark"},groups:[c,u,p]}),[l,c,u,p]);return Lt([u,p],[u,p]),Oe.createElement(Oe.Fragment,null,Oe.createElement(Hn,{testID:"sidebar.settingsButton",icon:R.Settings,size:"large",kind:"grey",rounded:!0,palette:y}),Oe.createElement(Gs,null,r==="help"?Oe.createElement(Se,{theme:l?{color:"light"}:{color:"dark"}},Oe.createElement(qd,{onClose:()=>{e(null)}})):null))}s();var Ce=w(T());j();function $d(t){let r=Ce.useRef(null);return Ce.createElement(Os,{ref:r,wrapper:$s,anchor:({ref:e,opened:n,toggle:o})=>Ce.createElement(Qs,{ref:e,testID:"sidebar.createButton",icon:R.Plus,kind:"primary",rounded:!0,onPress:o,animatedAngle:45,active:n})},Ce.createElement(Xs,null,Ce.createElement(lh,null)))}function lh(t){let{navigate:r}=te(),e=fo(),n=An();return Ce.createElement(Zs,null,e.map(([o,i])=>Ce.createElement(uh,{key:o.key,organization:o,membership:i})),Ce.createElement(ch,null),Ce.createElement(el,null),Ce.createElement(Fn,{icon:R.Organization,onPress:()=>{n.close(),se({type:"organization_open_create",reason:"sidebar_menu"}),r({overlay:{type:"welcome",onlyOrganizations:!0,hash:"sidebar_menu"}})}},"Create organization"))}function ch(t){let r=De(),e=An(),{createSpace:n}=an({user:r.uid}),o=async()=>{e.close(),n()},i=Rt(Vt,{user:r,size:20,squared:!0},[r]);return Ce.createElement(Fn,{icon:i,onPress:o},"New ",Ce.createElement(F,{style:vr.Bold},"Personal")," Space")}function uh(t){let{organization:r}=t,e=An(),{createSpace:n}=an({organization:r.key}),o=async()=>{e.close(),n&&n()},i=Rt(Xe,{org:r,size:20},[r]);return Ce.createElement(Fn,{disabled:!n,title:n?null:`Insufficient permission to
create spaces in this organization`,icon:i,onPress:o},"New ",Ce.createElement(F,{style:vr.Bold},r.title)," Space")}function Kd(t){let{compact:r}=xe.useContext(_e),e=xe.createElement(ph,null),n=xe.createElement(m,{style:[f.flex1,r?d.Margin.mediumBottom:f.alignCenter]},xe.createElement($d,null));return xe.createElement(m,{style:[...r?[f.alignCenter,f.justifyContentEnd,f.flex1,d.Padding.smallHorizontal,d.Margin.mediumVertical]:[d.Padding.mediumHorizontal,d.Margin.mediumVertical]]},xe.createElement(m,{style:[...r?[f.directionColumn]:[f.directionRow,f.alignCenter,f.flex1]]},r?xe.createElement(xe.Fragment,null,n,e):xe.createElement(xe.Fragment,null,e,n),xe.createElement(m,{style:r?d.Margin.smallTop:null},xe.createElement(dh,null))))}var dh=vi(Xd,t=>x(g({},t),{color:"dark"})),ph=vi(oc,t=>x(g({},t),{color:"dark"}));s();var cr=w(T());j();var Yd=b.L,fh=A.createResponsiveComponent(zn);function Qd(t){let{compact:r}=cr.useContext(_e),[,e]=C(mh),[,{open:n}]=qe();return cr.createElement(A.View,{style:[e.sidebarHeader,f.directionRow,f.alignCenter,f.justifyContentCenter,!r&&d.Padding.mediumHorizontal],mobileStyle:"hidden",desktopStyle:"visible"},cr.createElement(m,{style:[f.flex1,r&&f.alignCenter]},cr.createElement(Z,{testID:"sidebar.findButton",icon:R.Search,size:"medium",kind:"sidebar_secondary",style:r?null:e.sidebarButton,alignIcons:"end",rightIcon:r?void 0:()=>cr.createElement(fh,{tabletStyle:"hidden",desktopStyle:"visible",shortcut:xr.PALETTE_OPEN,kind:"primary"}),onPress:()=>n()},r?null:"Quick find")))}var mh=L.create({sidebarHeader:t=>({height:Yd,maxHeight:Yd}),sidebarButton:{paddingRight:4}});s();var ie=w(T());s();var ur=w(T());j();s();var we=w(T());j();function Ur(t){let{onPress:r,active:e=!1,indent:n=0,onToggle:o,href:i}=t,[,a]=C(Jd),l=Sr();return we.createElement(oe.TouchableOpacity,{href:i,onPress:r,style:[a.sidebarMenuItem,e&&a.sidebarMenuItemActive,{paddingLeft:d.medium+n*d.medium-(o?d.medium/4:0)}],hoverStyle:e?null:a.sidebarMenuItemToggleHovered},we.createElement(Se,{theme:{color:"dark"}},we.createElement(gh,x(g({},t),{topLevelTheme:l.color}))))}function gh(t){let{icon:r,children:e,topLevelTheme:n,active:o=!1,buttons:i=[],buttonsVisibility:a="active",opened:l,onToggle:c}=t,[,u]=C(G),[,p]=C(Jd),h=wr()==="mobile";return we.createElement(we.Fragment,null,c?we.createElement(oe.TouchableOpacity,{onPress:I=>{I.preventDefault(),c()},style:[r&&d.Margin.smallRight,p.sidebarMenuItemToggle],hoverStyle:p.sidebarMenuItemToggleHovered},l?we.createElement(R.ChevronDown,{size:b.ICON_S,style:o?u.text:u.textMuted}):we.createElement(R.ChevronRight,{size:b.ICON_S,style:o?u.text:u.textMuted})):null,r?we.createElement(m,null,we.createElement(r,{size:b.ICON_M,style:o?u.text:u.textMuted})):null,we.createElement(m,{style:[f.flex1,c&&!r?p.textLineWithToggle:d.Padding.smallLeft]},we.createElement(Zt,{style:[u.Label,o?[u.Medium,u.text]:u.textMid]},e)),i.length>0?we.createElement(oe.View.Child,{style:[f.directionRow,f.alignCenter],hoverStyle:p.sidebarMenuItemButtonActive,inactiveStyle:h||a==="active"&&o||a==="always"?p.sidebarMenuItemButtonActive:p.sidebarMenuItemButtonInactive},we.createElement(Se,{theme:{color:n}},i.map((I,P)=>we.createElement(m,{key:P,style:[P>0&&d.Margin.smallLeft]},I)))):null)}var Jd=L.create({sidebarMenuItem:{flexDirection:"row",alignItems:"center",height:b.S,paddingVertical:d.small/4,paddingHorizontal:d.medium,marginBottom:1},sidebarMenuItemActive:t=>g({backgroundColor:t.colors.sidebar.activeItem},Ln.Medium),sidebarMenuItemToggle:{padding:d.small/2,borderRadius:b.RADIUS_M},sidebarMenuItemToggleHovered:{backgroundColor:"rgba(0,0,0,0.1)"},sidebarMenuItemButtonInactive:{display:"none",opacity:0},sidebarMenuItemButtonActive:{display:"flex",opacity:1},textLineWithToggle:{paddingLeft:d.small-(b.ICON_M-b.ICON_S)}});s();var ge=w(T());j();var hh=oe.createInteractiveComponent(Zt);function qo(t){let{title:r,titleTarget:e,icon:n,children:o,details:i,buttons:a=[]}=t,{compact:l}=ge.useContext(_e),[,c]=C(vh),{getNavigationLinkProps:u}=te();return ge.createElement(m,{style:[c.borderTop,d.Padding.mediumVertical]},ge.createElement(Se,{theme:{color:"dark"}},ge.createElement(m,{style:[d.Margin.smallHorizontal,ge.Children.count(o)>0?d.Margin.smallBottom:{},!l&&i?[c.detailsBox,d.Padding.smallVertical]:null]},ge.createElement(m,{style:[f.directionRow,f.alignCenter,d.Padding.smallHorizontal]},n?ge.createElement(n,{size:b.XS}):null,l?null:ge.createElement(ge.Fragment,null,ge.createElement(m,{style:[n&&d.Margin.smallLeft,f.flex1,f.directionRow,f.alignCenter]},ge.createElement(yh,g({style:f.flex1},u(e)),r)),a.length>0?ge.createElement(m,{style:[f.directionRow,f.alignCenter]},a.map((p,y)=>ge.createElement(m,{key:y,style:[y>0&&d.Margin.smallLeft]},p))):null)),l?null:i)),o)}function yh(t){let o=t,{children:r}=o,e=pr(o,["children"]),[,n]=C(G);return ge.createElement(oe.TouchableOpacity,g({},e),ge.createElement(hh.Child,{style:[n.Body,n.text],activeStyle:n.textSidebarPrimary},r))}var vh=L.create({borderTop:t=>({borderTopColor:t.colors.sidebar.itemBorder,borderTopWidth:1}),detailsBox:t=>({backgroundColor:t.colors.sidebar.activeItem,borderColor:t.colors.sidebar.inputBorder,borderWidth:1,borderRadius:b.RADIUS_L})});s();var rt=w(T());s();var Xo=w(T());j();function Gr(t){let{owner:r,children:e,onDropHover:n,style:o}=t,[i,a]=Ci(r,{collect:l=>({hovered:l.isOver({shallow:!0})&&l.canDrop()})});return Xo.createElement(Un,{ref:a,style:o,onDropHover:n,dropHovered:i.hovered},e)}function qr(t){let{accept:r,owner:e,at:n}=t,[o,i]=Ci(e,{at:n,accept:[r],collect:a=>({hovered:a.isOver()&&a.canDrop()})});return Xo.createElement(m,{style:bh.collectionDropLine},Xo.createElement(tl,{ref:i,dropHovered:o.hovered,position:"top"}))}var bh=ve.create({collectionDropLine:{position:"relative",zIndex:10}});function $o(t){let{space:r,active:e,previousOrderIndex:n,nextOrderIndex:o,indent:i}=t,a=rt.useRef(null),[l,c]=Jl(r),u=Tr(a),p=En(r),y=ja(r),{getNavigationLinkProps:h}=te(),I=h({screen:{type:"space",space:r.key,organization:"organization"in r?r.organization:void 0,changeRequest:void 0,page:"/"}}),[,P]=ac(r),[O,k]=sc(r,{collect:H=>({hovered:H.isOver({shallow:!0})&&H.canDrop()})}),D=()=>{I.onPress()},Y=Rt(on,{space:r,withBackground:!1},[r]),J=rt.createElement(rt.Fragment,null,c,rt.createElement(Ur,x(g({icon:Y,active:e},I),{indent:i,buttonsVisibility:u.opened?"always":"hover",buttons:l.commands.length?[rt.createElement(Z,{ref:a,icon:R.MoreVertical,kind:"sidebar_blank",size:"small",active:u.opened,onPress:H=>{H.preventDefault(),u.open(yt({groups:[l]}))}})]:void 0}),r.title||Fe));return y?J:rt.createElement(Un,{ref:k,dropHovered:O.hovered,onDropHover:D},rt.createElement(qr,{accept:"space",owner:p,at:{before:n,after:r.orderIndex}}),rt.createElement(Wn,{ref:P},J),rt.createElement(qr,{accept:"space",owner:p,at:{before:r.orderIndex,after:o}}))}function Zd(t){let{indent:r=0,screenSpace:e}=t,[n,o]=ke(Zn("trash")),{spaces:i}=Ul(),[,a]=C(Sh),l=()=>{o(!n)};return i.length===0?null:ur.createElement(m,{style:[a.borderTop,d.Padding.mediumTop]},ur.createElement(Ur,{opened:n,onToggle:l,indent:r,icon:R.Trashcan,onPress:l},"Trash"),n?ur.createElement(ur.Fragment,null,i.map(c=>ur.createElement($o,{key:c.key,space:c,indent:r,active:c.key===e}))):null)}var Sh=L.create({borderTop:t=>({borderTopColor:t.colors.sidebar.itemBorder,borderTopWidth:1})});s();var Me=w(T());j();var ep="@content:hide-personal-user-cta";function tp(t){let[r,e]=Me.default.useState(!1),[,n]=C(wh),{compact:o}=Me.default.useContext(_e),[,i]=C(G);if(bi.get(ep)||r)return null;function l(){bi.set(ep,!0),e(!0)}return Me.default.createElement(Se,{theme:{color:"dark"}},Me.default.createElement(m,{style:[n.wrapper]},Me.default.createElement(m,{style:[f.alignCenter,d.Margin.mediumHorizontal,d.Padding.mediumVertical,o?null:[n.detailsBox,d.Padding.smallVertical]]},Me.default.createElement(m,{style:n.iconWrapperStyle},Me.default.createElement(m,{style:n.iconInner},Me.default.createElement(R.Bulb,{size:b.ICON_M,style:n.iconStyle}))),Me.default.createElement(m,{style:[f.alignCenter,d.Padding.smallHorizontal,d.Margin.smallTop]},Me.default.createElement(m,{style:d.Margin.mediumBottom},Me.default.createElement(F,{style:[n.detailsText,i.Label,i.Medium,i.textSidebarStandout]},"Want to collaborate with others, unlock advanced custom branding, and explore new ways of sharing content?")),Me.default.createElement(Nt,{kind:"upgrade",size:"medium",to:{overlay:{type:"welcome",onlyOrganizations:!0,hash:"personal_user_cta"}},onPress:()=>{se({type:"organization_open_create",reason:"personal_user_cta"})},style:d.Margin.smallBottom},"Create an organization"),Me.default.createElement(Z,{size:"small",defaultTextStyle:i.textMuted,onPress:l},"Dismiss")))))}var wh=L.create({iconWrapperStyle:t=>({flexGrow:0,flexDirection:"row",justifyContent:"center",alignItems:"center",outlineStyle:"none",borderWidth:1,borderColor:"transparent",height:b.BUTTON_M,backgroundColor:t.colors.upgrade.main,borderRadius:100,width:b.BUTTON_M,paddingHorizontal:0,marginTop:-((b.BUTTON_M+d.medium)/2)}),iconInner:{flexShrink:1},iconStyle:t=>({color:t.colors.upgrade.textInside}),detailsText:{textAlign:"center"},wrapper:t=>({borderTopColor:t.colors.sidebar.itemBorder,borderTopWidth:1,paddingTop:d.large+b.ICON_M/2,paddingBottom:d.large}),detailsBox:t=>({backgroundColor:t.colors.sidebar.activeItem,borderColor:t.colors.sidebar.inputBorder,borderWidth:1,borderRadius:b.RADIUS_L})});s();var Ae=w(T());j();s();var Ko=w(T());function da(t){let{createSpace:r,createCollection:e}=an(t),{navigate:n}=te(),o=Jn(t);return Ko.useMemo(()=>({key:"owner",commands:[r?{key:"new_space",icon:R.Space,title:"New Space",trigger:async()=>{await r()}}:null,e?{key:"new_collection",icon:R.Collection,title:"New Collection",trigger:async()=>{await e()}}:null,t.organization&&Dt(o,"add-guests")?{key:"invite_members",icon:R.UserPlus,title:"Invite Members",trigger:async()=>{n({overlay:{type:"org_invite",organization:t.organization}})}}:null].filter(Pe)}),[r,e])}function Yo(t){let o=t,{owner:r}=o,e=pr(o,["owner"]),n=da(r);return n.commands.length?Ko.createElement(Hn,g({palette:()=>yt({groups:[n]}),icon:R.Plus,size:"small"},e)):null}function np(t){let{organization:r,children:e}=t,n=Jn({organization:r.key}),[{result:o}]=Qn([ts(r.key)]),i=yl(r,o),a=i===null,l={organization:r.key},c=Dt(n,"admin-billing"),u=Rt(Xe,{org:r},[r]);return Ae.createElement(Gr,{owner:l},Ae.createElement(qo,{title:r.title,titleTarget:{screen:{type:"home",organization:r.key}},icon:u,buttons:[Ae.createElement(zs,{command:"navigation.switchOrganization",size:"small",title:"Go to organization",icon:R.ChevronDown}),Ae.createElement(Yo,{owner:l,title:`Create content in ${r.title}`})],details:o&&((o==null?void 0:o.status)==="trialing"&&!!o.trialEnd&&c||a)?Ae.createElement(Th,{organization:r,billing:o,canAdminBilling:c,featuresSet:i}):void 0},e))}function Th(t){var c;let{organization:r,billing:e,canAdminBilling:n,featuresSet:o}=t,[,i]=C(G),a=((c=e.trialEnd)==null?void 0:c.toDate())||new Date(0),l=Math.floor((a.getTime()-Date.now())/(24*60*60*1e3));return Bs(a),Ae.createElement(Se,{theme:{color:"dark"}},Ae.createElement(m,{style:[f.alignCenter,d.Padding.smallHorizontal,d.Margin.mediumTop]},Ae.createElement(m,{style:[d.Margin.smallBottom]},e.status==="trialing"?Ae.createElement(F,{style:[rp.detailsText,i.Label,i.text]},"Your trial ends"," ",Ae.createElement(F,{style:[i.Bold]},l===0?"today":l===1?"tomorrow":`in ${l} days`),". Upgrade to keep access to premium features."):Ae.createElement(F,{style:[rp.detailsText,i.Label,i.text]},"Your organization has been ",Ae.createElement(F,{style:[i.Bold]},"disabled"),"."," ",n?"Upgrade to keep access to premium features.":"Contact your organization administrator to upgrade and keep access to premium features.")),n?Ae.createElement(Nt,{kind:"upgrade",size:"medium",to:{overlay:{type:"org_settings",organization:r.key,tab:"plans",hash:"sidebar_cta"}},onPress:()=>{se(ss(r.key,{type:"organization_open_upgrade",currentFeaturesSet:o,reason:"sidebar_cta"}))},style:[d.Margin.smallTop,d.Margin.smallBottom]},"Upgrade Now"):null))}var rp=ve.create({detailsText:{textAlign:"center"}});s();var Qo=w(T());function op(t){let{children:r}=t,e=De(),n={user:e.uid},o=Rt(Vt,{user:e,squared:!0},[e]);return Qo.createElement(Gr,{owner:n},Qo.createElement(qo,{title:"Personal",titleTarget:{screen:{type:"home",organization:void 0}},icon:o,buttons:[Qo.createElement(Yo,{owner:n,title:"Create personal content"})]},r))}s();var nt=w(T());function ip(t){let{collection:r,active:e,indent:n,previousOrderIndex:o,nextOrderIndex:i,children:a}=t,l=En(r),c=x(g({},l),{collection:r.key}),u=nt.useRef(null),p=Tr(u),y=da(c),[h,I]=Ql(r),[P,O]=ke(Zn(r.key)),[,k]=ic(r),D=()=>{O(!0)},{getNavigationLinkProps:Y}=te(),J=Y({screen:{type:"collection",collection:r.key,organization:"organization"in r?r.organization:void 0}});return nt.createElement(Gr,{owner:c,onDropHover:D},nt.createElement(qr,{accept:"collection",owner:l,at:{before:o,after:r.orderIndex}}),nt.createElement(Wn,{ref:k},I,nt.createElement(Ur,x(g({active:e},J),{opened:P,onToggle:()=>O(!P),buttonsVisibility:p.opened?"always":"hover",buttons:[y.commands.length||h.commands.length?nt.createElement(Z,{ref:u,onPress:H=>{H.preventDefault(),p.open(yt({groups:[y.commands.length?y:null,h.commands.length?h:null].filter(Pe)}))},icon:R.MoreVertical,kind:"sidebar_blank",size:"small",active:p.opened}):null],indent:n}),r.title)),P?nt.createElement(nt.Fragment,null,a):nt.createElement(qr,{accept:"collection",owner:l,at:{before:r.orderIndex,after:i}}))}s();var ap=w(T());function sp(t){let r=Er(),e=yr($l);ap.useEffect(()=>{if(!(t!=null&&t.type))return;let n=t.type==="space"?Ch(r,t.space):pa(r,t.collection);n.length>0&&e(o=>{let i=o;return n.forEach(a=>{i=i[a]?i:x(g({},i),{[a]:!0})}),i})},[r,e,t==null?void 0:t.type,t==null?void 0:t.space,t==null?void 0:t.collection])}function pa(t,r){let e=t.collections.find(n=>n.key===r);return e?e.collection?[...pa(t,e.collection),e.collection]:[]:[]}function Ch(t,r){let e=t.spaces.find(n=>n.key===r);return e!=null&&e.collection?[...pa(t,e.collection),e.collection]:[]}function lp(t){let{screenSpace:r,screenCollection:e}=t,{compact:n}=ie.useContext(_e),o=De();return sp((r?{type:"space",space:r}:void 0)||(e?{type:"collection",collection:e}:void 0)),n?null:ie.createElement(ie.Fragment,null,ie.createElement(op,null,ie.createElement(fa,x(g({},t),{owner:{user:o.uid}}))),ie.createElement(ie.Suspense,{fallback:null},ie.createElement(Rh,g({},t))),ie.createElement(Zd,{screenSpace:r}))}function Rh(t){let{screenOrganization:r}=t,{permissions:e}=Er(),n=Object.keys(e.organizations),[o,i]=ie.useState(void 0),[a]=tr([o&&n.includes(o)?gt(o):null]);return ie.useEffect(()=>{r&&n.includes(r)?i(r):o||i(n[0]||null)},[r,n.length]),Xn(r&&(a==null?void 0:a.key)===r?a.title:r?"":"Personal"),o===void 0?null:a?ie.createElement(np,{organization:a},ie.createElement(fa,x(g({},t),{owner:{organization:a.key}}))):ie.createElement(tp,null)}function fa(t){let{indent:r=0,owner:e,screenSpace:n,screenCollection:o}=t,{spaces:i,collections:a}=Wl(e,{includeOrphans:!0});return ie.createElement(ie.Fragment,null,i.map((l,c)=>{let u=c>0?i[c-1]:null,p=i[c+1];return ie.createElement($o,{key:l.key,space:l,active:n===l.key,previousOrderIndex:u?u.orderIndex:void 0,nextOrderIndex:p?p.orderIndex:void 0,indent:r})}),a.map((l,c)=>{let u=c>0?a[c-1]:null,p=a[c+1];return ie.createElement(ip,{key:l.key,collection:l,active:o===l.key,previousOrderIndex:u?u.orderIndex:void 0,nextOrderIndex:p?p.orderIndex:void 0,indent:r},ie.createElement(fa,x(g({},t),{owner:x(g({},e),{collection:l.key}),indent:r+1})))}))}var Ph=22;function cp(t){let{screen:r}=t;return je.createElement(Oh,{screenOrganization:"organization"in r?r.organization:void 0,screenSpace:r.type==="space"?r.space:void 0,screenCollection:r.type==="collection"?r.collection:void 0})}var Oh=je.memo(function(r){let[e,n]=C(xh);return je.createElement(We,{backgroundColor:e.colors.sidebar.background,style:[n.sidebar,f.flex1,f.directionColumn]},hl()?je.createElement(gl,{style:{height:Ph}}):null,je.createElement(Qd,null),je.createElement(Et,{style:[f.flex1]},je.createElement(je.Suspense,{fallback:null},je.createElement(lp,g({},r)))),je.createElement(Kd,null))}),xh=L.create({sidebar:t=>({borderRightColor:t.colors.sidebar.itemBorder,borderRightWidth:1})});s();var z=w(T());j();function up(t){let{screen:r}=t,[e,n]=C(G),[,o]=C(ma),{compact:i}=z.useContext(_e),a=yr(Kl);return z.useEffect(()=>{i&&a(!0)},[i,a]),Xn("Settings"),z.createElement(We,{style:[f.directionColumn,f.flex1,o.wrapper,d.Padding.medium],backgroundColor:e.colors.background.main},z.createElement(m,{style:[f.directionRow,f.alignCenter]},z.createElement(Nt,{kind:"grey",testID:"settings.closeButton",icon:R.ChevronLeft,to:{overlay:null},size:"large",title:"Return to app"}),z.createElement(m,{style:[f.flex1,d.Margin.smallLeft]},z.createElement(F,{style:[n.Heading2,n.text]},"Settings"))),z.createElement(Et,{style:[f.flex1]},z.createElement(z.Suspense,{fallback:z.createElement(Ee,{size:"small"})},z.createElement(Ih,{screen:r}),z.createElement(kh,{screen:r}))))}function Ih(t){let{screen:r}=t,{getNavigationLinkProps:e}=te(),[,n]=C(ma),o=kr("MAGICBELL_NOTIFICATIONS"),i=kr("FEATURE_INTEGRATIONS"),a=l=>e({current:{type:"account",tab:l}});return z.createElement(Be,{direction:"vertical"},z.createElement(m,{style:[n.personalSettings,d.Padding.mediumVertical]},z.createElement(Be.Tab,x(g({active:r.type==="account"&&r.tab==="profile"},a("profile")),{icon:R.User}),"Account"),z.createElement(Be.Tab,x(g({active:r.type==="account"&&r.tab==="developer"},a("developer")),{icon:R.Code}),"Developer Settings"),i?z.createElement(Be.Tab,x(g({active:r.type==="account"&&r.tab==="integrations"},a("integrations")),{icon:R.Integrations}),"Apps & Integrations"):null,o?z.createElement(Be.Tab,x(g({active:r.type==="account"&&r.tab==="notification"},a("notification")),{icon:R.Bell}),"Notification Settings"):null))}function kh(t){let{screen:r}=t,e=fo();return z.createElement(m,{style:[d.Padding.largeVertical]},e.map(([n,o])=>Dt(o.role,"admin-billing")?z.createElement(Eh,{key:n.key,screen:r,organization:n}):null))}function Eh(t){let{screen:r,organization:e}=t,{getNavigationLinkProps:n}=te(),o=kr("FEATURE_INTEGRATIONS"),i=a=>n({current:{type:"org_settings",organization:e.key,tab:a}});return z.createElement(_h,g({icon:z.createElement(Xe,{org:e,size:b.BUTTON_S}),title:e.title,expanded:"organization"in r&&r.organization===e.key},i("profile")),z.createElement(m,{style:[d.Padding.largeLeft]},z.createElement(Be.Tab,x(g({active:r.type==="org_settings"&&r.tab==="profile"&&r.organization===e.key},i("profile")),{icon:R.Organization}),"General"),z.createElement(Be.Tab,x(g({active:r.type==="org_settings"&&r.tab==="members"&&r.organization===e.key},i("members")),{icon:R.Team}),"Members"),z.createElement(Be.Tab,x(g({active:r.type==="org_settings"&&r.tab==="sso"&&r.organization===e.key},i("sso")),{icon:R.Email}),"SSO"),o?z.createElement(Be.Tab,x(g({},i("integrations")),{icon:R.Integrations}),"Apps & Integrations"):null,z.createElement(Be.Tab,x(g({active:r.type==="org_settings"&&r.tab==="plans"&&r.organization===e.key},i("plans")),{icon:R.Grid}),"Plans"),e.type!=="legacy-enterprise"?z.createElement(Be.Tab,x(g({active:r.type==="org_settings"&&r.tab==="billing"&&r.organization===e.key},i("billing")),{icon:R.ExternalLink}),"Billing"):null))}function _h(t){let u=t,{icon:r,title:e,children:n,expanded:o}=u,i=pr(u,["icon","title","children","expanded"]),[,a]=C(G),[,l]=C(ma),c=oe.useInteractiveComponent(o?R.ChevronDown:R.ChevronRight);return z.createElement(m,{style:[d.Margin.mediumBottom]},z.createElement(oe.TouchableOpacity,g({style:[d.Margin.mediumBottom,d.Padding.smallHorizontal,f.directionRow,f.alignCenter,f.flex1]},i),z.createElement(m,{style:d.Margin.smallRight},r),z.createElement(m,{style:f.flex1},z.createElement(oe.Text.Child,{style:[a.Label,a.text,a.Bold],activeStyle:a.primary},e)),z.createElement(m,{style:d.Margin.smallLeft},z.createElement(c.Child,{size:b.ICON_XS,style:[a.textMid],activeStyle:a.primary}))),o?z.createElement(m,null,z.createElement(Be,{direction:"vertical",style:l.fullWidth},n)):null)}var ma=L.create({fullWidth:{width:"100%"},wrapper:t=>({borderRightColor:t.colors.border.main,borderRightWidth:1}),personalSettings:t=>({width:"100%",borderBottomColor:t.colors.border.main,borderBottomWidth:1})});function Dh(){return M.createElement(_n,null,M.createElement(lr,null,M.createElement(M.Suspense,{fallback:M.createElement(dp,null)},M.createElement(Ao,null,M.createElement(po,null,M.createElement(Hd,null,M.createElement(m,{style:[f.flex1,f.directionColumn]},M.createElement(Lh,null,M.createElement(no,null,M.createElement(Or,{persist:!0},M.createElement(Fl,null,M.createElement(wl,null,M.createElement(Vd,null,M.createElement(Mh,null),M.createElement(Gd,null),M.createElement(dl,null),M.createElement(Ho,null),M.createElement(Sd,null),M.createElement(Td,null)))),M.createElement(Vh,null)))))))))))}function Lh(t){let{children:r}=t;return M.useEffect(()=>{let e=document.querySelector(".gitbook-splashscreen");e==null||e.remove()},[]),M.createElement(M.Fragment,null,r)}function Mh(){return cl(),M.createElement(Ml,{Screen:Ah,fallback:M.createElement(dp,null)})}function Ah(t){let{screen:r,isOverlay:e=!1}=t;switch(r.type){case"account":case"org_settings":return M.createElement(Si,{sidebar:M.createElement(up,{screen:r}),screen:r},M.createElement(Cl,{screen:r}));case"integrations":return M.createElement(Il,{screen:r});case"account_verification":return M.createElement(_l,null);case"org_join":return M.createElement(kl,{screen:r});case"org_invite":return M.createElement(El,{screen:r,isOverlay:e});case"welcome":return M.createElement(Pl,{screen:r});case"quickstart":return M.createElement(Rl,{screen:r,isOverlay:e});case"back_office":return M.createElement(vl,{screen:r});case"legacy_account":return M.createElement(Dl,{screen:r});case"legacy_space":return M.createElement(Ll,{screen:r});default:return M.createElement(Si,{sidebar:M.createElement(cp,{screen:r}),sidebarCollapsable:!0,screen:r},M.createElement(Nh,{screen:r}))}}function Nh(t){let{screen:r}=t;switch(r.type){case"root":return M.createElement(Ol,{screen:r});case"home":return M.createElement(xl,{screen:r});case"space":return M.createElement(Sl,{screen:r});case"collection":return M.createElement(ul,{screen:r});default:return null}}function dp(){let[t]=C();return M.createElement(We,{backgroundColor:t.colors.background.muted,style:[f.flex1]},M.createElement(Ee,{size:"xlarge"}))}function Vh(){let t=At();return Ec(t.screen.type==="space"&&(t.screen.changeRequest||t.screen.revision)?"bottom-right-with-bar":"bottom-right"),null}s();var Gt=w(T());s();var Re=w(T());s();var X=w(T());j();s();var Ie=w(T());j();var{TOC_DESKTOP_WIDTH:zh}=$n,Bh=A.createResponsiveComponent(mt),Hh=oe.createInteractiveComponent(Bh),ga=zh-d.large-d.large;function Zo(t){let{space:r,collection:e,mobileStyle:n,desktopStyle:o}=t,[,i]=C(G),{getNavigationLinkProps:a}=te(),l=(e?(e==null?void 0:e.publishedTitle)||(e==null?void 0:e.title):r.publishedTitle||r.title)||Fe,c=l.length>14,u=c?2:1,p=e?e.logoURL:r.logoURL;return Ie.createElement(Hh,x(g({style:[f.directionRow,f.alignCenter],mobileStyle:n,desktopStyle:o},a({screen:{space:r.key,page:""}})),{testID:"public.headerHomeLink"}),p?Ie.createElement(A.View,{style:[f.flex1,f.directionRow,f.alignCenter,Jo.headerDesktop],mobileStyle:Jo.logoMobile,desktopStyle:Jo.logoDesktop},Ie.createElement(A.View,{desktopStyle:"visible",mobileStyle:"hidden"},Ie.createElement(Li,{src:tn(p,{height:40,fit:"contain"}),bestHeight:40,maxWidth:ga})),Ie.createElement(A.View,{desktopStyle:"hidden",mobileStyle:"visible"},Ie.createElement(Li,{src:tn(p,{height:30,fit:"contain"}),bestHeight:30,maxWidth:ga}))):Ie.createElement(m,{style:[Jo.headerDesktop,f.flex1,f.directionRow,f.justifyContentStart,f.alignCenter]},Ie.createElement(m,null,Ie.createElement(A.View,{mobileStyle:"hidden",desktopStyle:"visible"},Ie.createElement(Ti,{content:e||r,renderFor:"public-content",size:b.BUTTON_L,style:[d.Margin.mediumRight]})),Ie.createElement(A.View,{mobileStyle:"visible",desktopStyle:"hidden"},Ie.createElement(Ti,{content:e||r,renderFor:"public-content",size:b.ICON_XL,style:[d.Margin.mediumRight]}))),Ie.createElement(A.Text,{mobileStyle:[i.Heading3],desktopStyle:[c?i.Heading3:i.Heading2]},Ie.createElement(oe.Text.Child,{numberOfLines:u,ellipsizeMode:"tail",accessibilityLabel:l,inactiveStyle:i.text,activeStyle:t.space.headerTheme==="bold"?i.textStandout:i.primary},l))))}var Jo=ve.create({logoMobile:{height:30},logoDesktop:{height:40},headerDesktop:{maxWidth:ga}});var{PAGE_BODY_DESKTOP_H_PADDING:jh,getPageOutlineWrapperWidth:Fh,getToCWrapperDesktopWidth:Wh}=$n,Uh=b.XL,Gh=b.L,qh=A.createResponsiveComponent(Z);function mp(t){let{space:r}=t,e=Va(r.headerTheme,r.themeMode),n=Sr(),o=X.useMemo(()=>wd(n,e,r.primaryColor),[e,r.primaryColor,n]);return X.createElement(Se,{theme:o},r.headerTheme==="none"?X.createElement(A.View,{desktopStyle:"hidden",mobileStyle:"visible"},X.createElement(pp,x(g({},t),{headerTheme:e}))):X.createElement(pp,x(g({},t),{headerTheme:e})))}function pp(t){let{space:r,headerTheme:e,revision:n,collection:o,currentPageLayout:i}=t,[,a]=C(Zi[e]),l=Pr(ke(_r),X.useState(!1)),c=i==="docs",u=i==="landing";return X.createElement(A.View,{desktopStyle:Cn.desktopHeight,mobileStyle:Cn.mobileHeight,style:[a.spaceHeader,f.directionRow,f.alignCenter]},c?X.createElement(qh,{desktopStyle:"hidden",mobileStyle:"visible",icon:R.Menu,style:d.Margin.smallRight,kind:"grey",rounded:!0,title:l.opened?"Hide Table of Content":"Show Table of Content",onPress:l.toggle}):null,X.createElement(Zo,{space:r,collection:o,mobileStyle:[Cn.autoWidth,d.Padding.noneHorizontal,f.justifyContentStart,c?null:d.Margin.smallLeft],desktopStyle:[{width:Wh()},d.Padding.largeHorizontal,f.justifyContentEnd]}),c?X.createElement(fp,{headerTheme:e,direction:"Left"}):null,X.createElement($h,{space:r,revision:n}),u?null:X.createElement(fp,{headerTheme:e,direction:"Right"}),X.createElement(Xh,{headerTheme:e}))}function fp(t){let[,r]=C(Zi[t.headerTheme]);return X.createElement(A.View,{style:[r.separator,{[`margin${t.direction}`]:-1}],mobileStyle:"hidden",desktopStyle:"visible"})}function Xh(t){let[,{open:r}]=qe(),e=pe();return X.createElement(A.View,{mobileStyle:Cn.autoWidth,desktopStyle:{width:Fh()}},X.createElement(m,{style:[f.flex1,f.alignStart,d.Padding.largeLeft,d.Padding.smallRight]},X.createElement(A.View,{mobileStyle:"hidden",desktopStyle:"visible"},X.createElement(Z,{icon:R.SearchPublic,size:"medium",kind:t.headerTheme==="bold"?"default_bold":"default",alignIcons:"end",onPress:r,style:[d.Padding.noneHorizontal]},e("search"))),X.createElement(A.View,{mobileStyle:"visible",desktopStyle:"hidden"},X.createElement(Z,{icon:R.SearchPublic,size:"medium",kind:"default",alignIcons:"end",onPress:r,style:[d.Padding.noneHorizontal]}))))}function $h(t){let{space:r}=t;return X.createElement(X.Fragment,null,X.createElement(A.View,{style:[f.directionRow,f.alignCenter,f.flex1],tabletStyle:"visible",desktopStyle:"hidden"}),X.createElement(A.View,{style:[f.directionRow,f.alignCenter,f.flex1],tabletStyle:"hidden",desktopStyle:Cn.headerLinks},(r.headerLinks||[]).map(e=>e.title?X.createElement(X.Suspense,{fallback:null,key:e.title},X.createElement(Kh,g({title:e.title,contentRef:e.to},t))):null)))}function Kh(t){let{contentRef:r,space:e,revision:n}=t,o=eo(r,{space:e.key,revision:n.key});return X.createElement(Mt,{url:o.href,onPress:i=>{i.nativeEvent.metaKey||i.nativeEvent.ctrlKey||(i.preventDefault(),o.open())},kind:t.space.headerTheme==="bold"?"bold":"default",sameWebTab:!1,style:[d.Padding.mediumHorizontal,vr.Body,vr.Medium],numberOfLines:2,ellipsizeMode:"tail",accessibilityLabel:t.title},t.title)}var Cn=ve.create({autoWidth:{width:"auto"},headerLinks:{paddingHorizontal:jh-d.medium},mobileHeight:{height:Gh},desktopHeight:{height:Uh}});s();var ha=w(T());function ei(t){let{children:r,ssrRequestPath:e,ssrRouterContext:n}=t;return n?ha.createElement(Ya,{location:e,context:n},r):ha.createElement(no,null,r)}s();var ti=w(T());function gp(t="https://policies.gitbook.com/privacy/cookies",r=!1){let e=Rr(),n=pe();ti.useEffect(()=>{if(!r)return;let o=!1;if(ds()!==null)return;let i=e.notify({title:n("cookies"),details:n("cookie_prompt",ti.createElement(Mt,{url:t},n("cookie_policy"))),timeout:0,icon:R.Cookies,actions:[{label:n("reject_all"),onPress:()=>{o=!0,yi(!1),i()}}],onClose:()=>{o||yi(!0)}})},[])}s();var he=w(T());s();var Ne=w(T());j();s();var ct=w(T());j();function hp(t){let{space:r,revision:e,page:n,analyticsContext:o}=t,i=cs(),[,a]=C(G),l=pe(),[{result:c,error:u}]=Qn([Di(r.key,n.key,i)]);if(u)return null;let p=y=>{y!==(c==null?void 0:c.rating)&&(se(x(g({},o),{type:"public_content_page_feedback_post",rating:y})),Aa(h=>{Dc(h,{space:r.key,page:n.key,revision:e.key,visitorId:i,rating:y,previousRating:c==null?void 0:c.rating})}))};return ct.createElement(m,{style:[f.directionRow,f.alignCenter]},ct.createElement(m,null,ct.createElement(F,{style:[a.Heading4,a.textMuted]},l("was_it_helpful"))),ct.createElement(m,{style:[f.directionRow,f.alignCenter]},ct.createElement(ya,{tooltip:l("poor_content"),active:(c==null?void 0:c.rating)==="bad",rating:"bad",onPress:p}),ct.createElement(ya,{tooltip:l("ok_content"),active:(c==null?void 0:c.rating)==="ok",rating:"ok",onPress:p}),ct.createElement(ya,{tooltip:l("excellent_content"),active:(c==null?void 0:c.rating)==="good",rating:"good",onPress:p})))}function ya(t){let{active:r,tooltip:e,rating:n,onPress:o}=t;return ct.createElement(Ks,{tooltip:e},(i,a)=>ct.createElement(mt,g({ref:a,onPress:()=>o(n),style:[d.Margin.smallLeft],accessibilityLabel:e},i.events),ct.createElement(lc,{active:r,interactive:!0,rating:n,size:b.BUTTON_S})))}s();var ut=w(T());j();var yp=w(af());var va=40,Yh=oe.createInteractiveComponent(Ps);function Xr(t){return ut.createElement(Jt,null,ut.createElement(Qh,g({},t)))}function Qh(t){let{space:r,floating:e}=t,[n,o]=C(Jh),[,i]=C(G),a=pe(),l=r.organization?gt(r.organization):null,[c]=Vl([l]),u=new URLSearchParams(g({utm_source:"content",utm_medium:"trademark",utm_campaign:r.key},c?{"powered-by":c.title}:{})),p=`https://${_t.homepage.domain}/?${u.toString()}`,y=()=>{se(Dn(r,{type:"public_content_click_trademark"}))};return ut.createElement(m,{style:e&&o.floatingWrapper},e?ut.createElement(yp.default,{colors:[`${n.colors.background.mid}00`,n.colors.background.mid],style:o.floatingTopGradient}):null,ut.createElement(m,{style:e&&[d.Padding.mediumHorizontal,d.Padding.mediumBottom,o.floatingBackground]},ut.createElement(oe.TouchableOpacity,{style:[f.directionRow,f.alignCenter,...e?[o.trademarkFloating,d.Padding.smallVertical,d.Padding.mediumHorizontal]:[o.tradeMarkDefault]],activeStyle:i.primary,onPress:y,href:p,target:"_blank"},ut.createElement(Yh,{size:va,style:i.textMuted,activeStyle:i.primary}),ut.createElement(m,{style:[f.flex1,d.Padding.mediumLeft]},ut.createElement(oe.Text.Child,{style:[i.Label,i.textMuted],activeStyle:i.primary},a("powered_by",ut.createElement(Rd,{style:i.Bold},"GitBook")))))))}var Jh=L.create({floatingWrapper:{position:"absolute",bottom:0,zIndex:1,width:"100%"},floatingTopGradient:{height:d.medium},floatingBackground:t=>({backgroundColor:t.colors.background.mid}),tradeMarkDefault:t=>({backgroundColor:"transparent"}),trademarkFloating:t=>({backgroundColor:t.colors.background.standout,borderRadius:b.RADIUS_M})});function vp(t){let{space:r,revision:e,page:n,analyticsContext:o}=t,[,i]=C(G),[,a]=C(Zh),l=pe(),c=kn(n.edits),u=Kt(n),p=!!c,y=r.hasPublicFeedback,h=!r.hideTrademark&&(u==="editorial"||u==="landing");if(!p&&!y)return null;let I=Ne.createElement(zd,null,Ne.createElement(Ne.Suspense,{fallback:null},Ne.createElement(hp,{space:r,revision:e,page:n,analyticsContext:o})));return Ne.createElement(m,{style:[d.Padding.largeTop,d.Margin.largeTop,a.footer]},Ne.createElement(A.View,{tabletStyle:f.directionColumn,desktopStyle:f.directionRow,style:[f.alignCenter,f.justifySpaceBetween]},p?Ne.createElement(A.View,{tabletStyle:d.Margin.mediumBottom,style:h?[]:[f.flex1]},Ne.createElement(F,{style:[i.textMuted,i.Label]},l("last_modified",Ne.createElement(Hs,{value:c.updatedAt.toDate(),onlyDate:!1})))):null,h?Ne.createElement(Xr,{space:r,floating:!1}):null,y?Ne.createElement(A.View,{tabletStyle:h?"hidden":"visible",desktopStyle:"visible"},I):null),h&&y?Ne.createElement(A.View,{tabletStyle:"visible",desktopStyle:"hidden",style:[f.directionRow,f.flex1,f.justifyContentCenter,d.Margin.largeTop]},I):null)}var Zh=L.create({footer:t=>({borderTopColor:t.colors.border.mid,borderTopWidth:1})});s();var $r=w(T());s();var dt=w(T());j();s();var ey=750,ty=d.xxlarge,bp=ey+2*ty,ri=300,ry=220;function Sp(t=0){return t+ri+bp+ry}function wp(t){let r=`(100vw - ${bp}px) / 2 - ${t||0}px`;return`max(${ri}px, calc(${r}))`}s();var Rn=w(T());j();s();var Te=w(T());j();s();var ot=w(T());j();var ny=A.createResponsiveComponent(oe.TouchableOpacity),oy=oe.createInteractiveComponent(A.View),Tp=ot.forwardRef(function(r,e){let{leftIcon:n,icon:o,rightIcon:i,kind:a="primary",children:l,button:c,active:u=!1,onPress:p,textStyle:y,href:h}=r,I=oe.useInteractiveState(),[,P]=C(iy),[,O]=C(G),k=a==="primary"?O.textMid:O.textMuted,D=u?O.primary:k;return ot.createElement(p?ny:oy,x(g({ref:e},I.events),{style:[P.tocMenuItem,d.Padding.mediumHorizontal,u&&P.tocMenuItemActive],hoverStyle:p&&!u?P.tocMenuItemHovered:null,mobileStyle:P.tocMenuItemMobile,desktopStyle:P.tocMenuItemDesktop,onPress:p,href:h&&p?h:void 0}),n?ot.createElement(m,{style:[d.Margin.mediumRight]},ot.createElement(n,{size:b.ICON_M,style:[D,y]})):null,o?ot.createElement(m,{style:[d.Margin.mediumRight]},ot.createElement(o,{size:b.ICON_M,style:[D,y]})):null,ot.createElement(F,{style:[f.flex1,d.Padding.smallVertical,a==="group"?O.Heading4:O.Label,D,y]},l),c?ot.createElement(m,{style:[f.directionRow,f.alignCenter]},c):null,i?ot.createElement(m,{style:P.tocMenuItemRightIcon},ot.createElement(i,{size:b.ICON_M,style:O.textMuted})):null)}),iy=L.create({tocMenuItem:{flexDirection:"row",alignItems:"center",borderColor:"transparent",borderWidth:1,minHeight:b.S},tocMenuItemMobile:{borderRightWidth:1},tocMenuItemDesktop:{borderRightWidth:0},tocMenuItemHovered:t=>({backgroundColor:t.colors.background.standout}),tocMenuItemActive:t=>({backgroundColor:t.colors.background.main,borderColor:t.colors.border.main}),tocMenuItemRightIcon:{marginLeft:d.small,marginRight:(b.S-b.ICON_M)/2}});function ba(t){return Te.createElement(Te.Suspense,{fallback:Te.createElement(Cp,g({},t))},Te.createElement(ay,g({},t)))}function ay(t){let{revision:r,treePage:e}=t,{page:n}=e,o=eo(n.kind==="link"?n.ref:void 0,{space:r.space,revision:r.key});return Te.createElement(Cp,x(g({},t),{contentRef:o}))}function Cp(t){let{revision:r,treePage:e,parent:n,currentPage:o,contentRef:i}=t,{page:a}=e,{getNavigationHref:l,navigateToPage:c}=Zl(),u=o?o.key:null,p=u===a.key,y=!!u&&Ha(r,a.key,u),[h,I]=Te.useState(y),[,P]=C(sy),O=k=>{k.isDefaultPrevented()||k.nativeEvent.metaKey||k.nativeEvent.ctrlKey||(k.preventDefault(),a.kind==="sheet"?c(r,a.key):a.kind==="link"&&(i==null||i.open()))};return Te.useEffect(()=>{y&&I(!0)},[y]),Te.createElement(m,{style:[a.kind==="group"&&d.Margin.mediumVertical]},Te.createElement(Tp,{kind:a.kind==="group"?"group":!n||n.kind==="group"?"primary":"secondary",icon:a.emoji?Ue(Cr,{code:a.emoji}):void 0,rightIcon:a.kind==="link"?i?i.secondaryIcon:ht:void 0,active:p,onPress:a.kind==="group"?void 0:O,href:(()=>a.kind==="link"?i==null?void 0:i.href:l(r,a.key))(),button:e.pages.length>0&&a.kind==="sheet"?Te.createElement(Z,{size:"small",icon:h?R.ChevronDown:R.ChevronRight,onPress:k=>{k.preventDefault(),I(!h)}}):null},a.title),(h||a.kind==="group")&&e.pages.length>0?Te.createElement(m,{style:[P.tocItemChildren,a.kind==="group"&&d.Margin.noneLeft]},e.pages.map((k,D)=>Te.createElement(ba,x(g({key:k.renderKey},t),{treePage:k,isLastPage:D===e.pages.length-1,parent:a}))),a.kind==="group"?null:Te.createElement(m,{style:P.tocItemChildrenLine})):null)}var sy=L.create({tocItemChildren:{position:"relative",marginLeft:d.medium},tocItemChildrenLine:t=>({position:"absolute",top:0,bottom:0,left:0,width:1,backgroundColor:t.colors.border.main})});function ni(t){let{showingTrademark:r,revision:e}=t,n=Rn.useMemo(()=>Ua(e.pages,e.rootPages),[e]);return Rn.createElement(Et,{style:f.flex1,contentContainerStyle:[d.Padding.mediumVertical,r?ly.scrollviewWithTrademark:null]},n.map((o,i)=>Rn.createElement(ba,x(g({key:o.renderKey},t),{treePage:o,isLastPage:i===n.length-1}))))}var ly=ve.create({scrollviewWithTrademark:{paddingBottom:d.medium+va+2*d.medium}});s();var q=w(T());j();function oi(t){let{space:r,collection:e,collectionSpaces:n,currentPage:o,revision:i}=t,a=[q.createElement(cy,{key:"mobile-closing-bar"})];return r.headerTheme==="none"&&a.push(q.createElement(uy,{space:r,collection:e,key:"space-header"})),n&&(e==null?void 0:e.publishingType)==="variants"&&a.push(q.createElement(dy,{key:"variant-switch",currentVariant:r,collection:e,variants:n,revision:i,currentPage:o})),q.createElement(q.Fragment,null,a)}function cy(){let[,t]=C(ii),r=Pr(ke(_r),q.useState(!1));return q.createElement(A.View,{style:[t.mobileClosingBar,f.justifyContentEnd,f.directionRow],mobileStyle:"visible",desktopStyle:"hidden"},q.createElement(Z,{icon:R.X,size:"large",kind:"default",onPress:()=>r.closeMobile(),style:[f.alignSelfCenter,d.Padding.smallHorizontal]}))}function uy(t){let{space:r,collection:e}=t,[,n]=C(ii),[,{open:o}]=qe();return q.createElement(A.View,{style:[n.spaceTitleWrapper,f.justifyContentCenter,f.directionRow],mobileStyle:"hidden",desktopStyle:"visible"},q.createElement(Zo,{space:r,collection:e,desktopStyle:f.flex1}),q.createElement(Z,{icon:R.SearchPublic,size:"large",kind:"default",alignIcons:"end",onPress:o,style:[f.alignSelfCenter,d.Margin.smallHorizontal]}))}function dy(t){let{currentVariant:r,collection:e,variants:n,currentPage:o,revision:i}=t,[,a]=C(ii),[l,c]=q.useState(!1),u=q.useCallback(()=>{c(p=>!p)},[c]);return q.createElement(q.Fragment,null,q.createElement(Z,{rightIcon:l?R.ChevronDown:R.ChevronRight,icon:R.Variants,onPress:u,alignIcons:"end",style:[d.Margin.smallVertical,d.Padding.mediumHorizontal]},q.createElement(Zt,null,r.publishedTitle||r.title||Fe)),q.createElement(m,{style:a.separator}),l?q.createElement(q.Fragment,null,q.createElement(q.Suspense,{fallback:q.createElement(Ee,{size:"small"})},q.createElement(Et,{style:a.variantScrollView},n.map(p=>q.createElement(py,{key:p.key,selected:p.key===r.key,main:p.key===e.primarySpace,variant:p,currentPage:o,revision:i,onPress:()=>{c(!1)}})))),q.createElement(m,{style:[a.separator,d.Margin.largeTop]})):null)}function py(t){let{variant:r,selected:e,main:n,currentPage:o,revision:i,onPress:a}=t,l=pe(),{getNavigationLinkProps:c}=te(),[,u]=C(G),[,p]=C(ii),y=q.useMemo(()=>o?Tt(i,o.key):"",[o]);return q.createElement(oe.TouchableOpacity,g({style:[p.tab,e&&p.selectedTab],activeStyle:p.hoverTab},c({screen:{space:r.key,page:y}},a)),q.createElement(m,{style:[f.flex1]},q.createElement(Zt,{style:[u.textMid,u.Label]},r.publishedTitle||r.title||Fe)),n?q.createElement(m,{style:d.Margin.smallLeft},q.createElement(F,{style:[p.mainBadge,u.textMuted]},l("main"))):null)}var ii=L.create({separator:t=>({height:1,backgroundColor:t.colors.border.main}),selectedTab:t=>({borderLeftColor:t.colors.primary.main,borderLeftWidth:2}),hoverTab:t=>({backgroundColor:t.colors.background.standout}),tab:{width:"100%",flexDirection:"row",justifyContent:"center",alignItems:"center",outlineStyle:"none",borderWidth:0,borderColor:"transparent",borderLeftWidth:2,height:b.BUTTON_M,lineHeight:b.BUTTON_M,borderRadius:0,paddingHorizontal:d.medium},mainBadge:x(g({fontFamily:ps,fontSize:fs.xxsmall,lineHeight:b.BUTTON_M},Ln.Bold),{textTransform:"uppercase",letterSpacing:1}),spaceTitleWrapper:t=>({height:b.L,borderBottomWidth:1,borderBottomColor:t.colors.border.main}),mobileClosingBar:t=>g({height:b.L,borderBottomWidth:1,borderBottomColor:t.colors.border.main,backgroundColor:t.colors.background.main},t.shadows.base),variantScrollView:{flexGrow:0,flexShrink:1,height:"fit-content"}});function Rp(t){let{space:r}=t,[,e]=C(fy),{desktopSidebarWidth:n}=dt.useContext(_e),o=dt.useMemo(()=>({[Sp(n)]:"visible"}),[n]),i=!r.hideTrademark;return dt.createElement(A.View,{testID:"page.desktopTableOfContents",mobileStyle:"hidden",desktopStyle:"visible",customBreakpointsStyles:o,style:[e.topcDesktopWrapper,f.directionRow,{width:wp(n)},f.justifyContentEnd]},dt.createElement(m,{style:[e.tocDesktop,f.directionColumn]},dt.createElement(m,{style:[f.flex1,d.Padding.largeLeft]},dt.createElement(oi,g({},t)),dt.createElement(ni,x(g({},t),{showingTrademark:i}))),i?dt.createElement(Xr,{floating:!0,space:r}):null))}var fy=L.create({topcDesktopWrapper:t=>({borderRightWidth:1,borderRightColor:t.colors.border.main,backgroundColor:t.colors.background.mid}),tocDesktop:{width:ri}});s();var Ve=w(T());j();var my=A.createResponsiveComponent($t.View),gy=A.createResponsiveComponent($t.createAnimatedComponent(mt));function Op(t){let{currentPage:r,space:e}=t,n=Pr(ke(_r),Ve.useState(!1)),{sidebarMobileLeft:o,showOverlay:i}=rl(n),[a,l]=C(hy);Ve.useEffect(()=>{n.close()},[r==null?void 0:r.key]);let c=!e.hideTrademark;return Ve.createElement(Ge,null,Ve.createElement(my,{style:[l.sidebar,{left:o}],mobileStyle:"visible",desktopStyle:"hidden"},Ve.createElement(m,{style:[f.directionColumn,f.flex1]},Ve.createElement(m,{style:f.flex1},Ve.createElement(oi,g({},t)),Ve.createElement(m,{style:[d.Padding.mediumLeft,f.flex1,l.sidebarWrapper]},Ve.createElement(ni,x(g({},t),{showingTrademark:c})))),c?Ve.createElement(Xr,{floating:!0,space:e}):null)),Ve.createElement(gy,{style:[l.screenOverlay,{backgroundColor:o.interpolate({inputRange:[-Gn.MOBILE_WIDTH,0],outputRange:[a.colors.backdrop.transparent,a.colors.backdrop.background]})}],mobileStyle:i?"visible":"hidden",desktopStyle:"hidden",onPress:n.closeMobile}))}var Pp=10,hy=L.create({sidebar:t=>({backgroundColor:t.colors.background.mid,width:Gn.MOBILE_WIDTH,maxWidth:"100%",flexDirection:"row",position:"absolute",top:0,bottom:0,zIndex:Pp}),sidebarWrapper:t=>({borderRightWidth:1,borderRightColor:t.colors.border.main}),sidebarCloseButton:{position:"absolute",width:b.BUTTON_M,height:b.BUTTON_M,top:(b.M-b.BUTTON_M)/2,left:Gn.MOBILE_WIDTH+b.BUTTON_M/2},screenOverlay:{position:"absolute",top:0,bottom:0,left:0,right:0,zIndex:Pp-1}});function xp(t){return $r.createElement($r.Fragment,null,$r.createElement(Rp,g({},t)),$r.createElement(Op,g({},t)))}function Ip(t){var k;let{space:r,revision:e,screen:n,analyticsContext:o,collection:i,collectionSpaces:a,assetHostname:l}=t,c=pe(),[u,p]=C(yy);sl(r);let[y,h]=Kn(e,n);if(er(D=>{D.writeAsync([{type:"meta",name:"description",content:h&&"description"in h?h.description:""},{type:"meta",name:"og:description",content:h&&"description"in h?h.description:""},{type:"meta",name:"og:image",content:r.socialPreviewURL?tn(r.socialPreviewURL,{height:640,width:1280,fit:"contain"}):by(r,e,h)},{type:"meta",name:"twitter:card",content:"summary_large_image"}]),r.visibility==="in-collection"?(D.setTitle(h?h.title:c("page_not_found"),(i==null?void 0:i.publishedTitle)||(i==null?void 0:i.title)||Fe),D.writeAsync([{type:"meta",name:"robots",content:(i==null?void 0:i.visibility)!=="public"?"noindex, nofollow":"index"}])):(D.setTitle(h?h.title:c("page_not_found"),r.publishedTitle||r.title||Fe),D.writeAsync([{type:"meta",name:"robots",content:r.visibility!=="public"?"noindex, nofollow":"index"}]))}),Nl(h?ls(r,h,{screen:"space",visibility:r.visibility,pageLayout:Kt(h)}):null,[r.key,h==null?void 0:h.key]),Ac(r,(k=h==null?void 0:h.key)!=null?k:null),y)return he.default.createElement(Al,{to:{screen:y}});if(!h&&n.page){let[D]=vt([Wa(r.key,n.page)]);if(D&&e.pages[D.page])return he.default.createElement(ec,{to:Tt(e,D.page)})}let I=Kt(h),P=I==="docs",O=I==="docs"||I==="editorial";return he.default.createElement(he.default.Fragment,null,he.default.createElement(Sy,{space:i||r,assetHostname:l}),he.default.createElement(A.View,{style:[f.flex1],mobileStyle:f.directionColumn,desktopStyle:f.directionRow},P?he.default.createElement(xp,{space:r,revision:e,currentPage:(h==null?void 0:h.kind)==="sheet"?h:null,analyticsContext:o,collection:i,collectionSpaces:a}):null,he.default.createElement(We,{style:[p.spacePageBody],backgroundColor:u.colors.background.main},he.default.createElement(he.default.Suspense,{fallback:he.default.createElement(Ee,{size:"large"})},h&&h.kind==="sheet"?he.default.createElement(pl,{key:vy(n,e,h),space:r,changeRequest:void 0,revision:e,page:h,readOnly:!0,withComments:!1,withExpandedComments:!1,withToC:P,withOutline:O,analyticsContext:o,footer:he.default.createElement(vp,{space:r,revision:e,page:h,analyticsContext:o})}):he.default.createElement(Bd,{statusCode:404},he.default.createElement(en,{title:c("page_not_found"),action:he.default.createElement(Nt,{kind:"secondary",size:"medium",to:{screen:{type:"space",space:r.key,page:""}}},c("back_to_home"))},c("page_not_found_long")))))))}var yy=L.create({spacePageBody:{flex:1}});function vy(t,r,e){let n=t.space;return n+=`/${t.changeRequest||"main"}`,n+=`/${r.conflicts?"conflicts":"normal"}`,n+=`/${e.key}`,t.diff&&(n+="/diff"),t.revision&&(n+="/revision"),n}function by(t,r,e){let n=e&&r.rootPages[0]!==e.key?`/page/${e.key}`:"",o=`color=${encodeURIComponent(t.primaryColor||"")}&logo=${encodeURIComponent(hi(t.logoURL||t.iconURL||""))}&theme=${encodeURIComponent(t.headerTheme||"")}`;return`https://${_t.firebase.authDomain}/share/space/thumbnail/${t.key}${n}.png?${o}`}function Sy(t){let{space:r,assetHostname:e}=t,n=is(r,"public-content"),[o]=C(),[i,a]=he.default.useState(n.iconURL||(n.emoji?`${e}${os(n.emoji)}`:null));return he.default.useEffect(()=>{if(i)return;let l=192,c=document.createElement("canvas"),u=c.getContext("2d");if(!u)return;c.width=l,c.height=l,u.fillStyle=o.colors.background.main,u.fillRect(0,0,l,l);let p=.7;u.fillStyle=o.colors.text.main,u.font=`400 ${l*p}px gitbook-content-font`,u.textAlign="center",u.fillText(r.title.slice(0,1),l/2,l*(1-p)/2),a(c.toDataURL("image/png"))},[r.title,a]),er(l=>{l.writeAsync([{type:"link",rel:"icon",href:i?hi(i):`${e}/public/images/icon-512.png`}])}),null}s();var it=w(T());s();var Pn=w(T());s();function kp(t,r){let{navigate:e}=te();Lt(()=>[wy(t,r,e)],[t,r,e])}function wy(t,r,e){return{key:"search.content",commands:n=>{if(!n.query.text)return[];let o=Pt.read({query:n.query.text,types:["pages","sections"],hitsPerPage:30,analyticsTags:[{type:"space",space:t.key}]});return Ty(r,o).map(({page:i,result:a,sections:l})=>{let c=i.emoji?Ue(Cr,{code:i.emoji}):void 0;return[{key:i.key,icon:c,title:i.title,subtitle:Ba(r,i.key).filter(u=>u.key!==i.key).map(u=>u.title).join(" \u203A "),trigger:()=>{var u;e({screen:{type:"space",space:r.space,page:Tt(r,i.key),hash:a||(u=l[0])==null?void 0:u.anchor,query:void 0}})}},...l.map(u=>({key:u.objectID,icon:c,title:void 0,subtitle:u.title,body:u.body.split(`
`).filter(Boolean).slice(0,5),trigger:()=>{e({screen:{type:"space",space:r.space,page:Tt(r,i.key),hash:u.anchor,query:void 0}})}}))]}).flat().filter(Pe)}}}function Ty(t,r){let e=new Map;return r.forEach(n=>{if(n.index!=="pages"&&n.index!=="sections")return null;let o=t.pages[n.object.page];if(!o)return null;let i=e.get(o.key)||{sections:[],score:0};n.index==="sections"?(i.sections.push(n.object),i.score+=1):(i.result=n.object,i.score+=3),e.set(o.key,i)}),Array.from(e.entries()).map(([n,{score:o,sections:i,result:a}])=>{let l=t.pages[n];return l?{page:l,score:o,sections:i,result:a}:null}).filter(Pe).sort((n,o)=>o.score-n.score)}function Ep(t){let{space:r,revision:e}=t,n=pe(),[,{open:o}]=qe(),i=br();return kp(r,e),Ir({[xr.PALETTE_OPEN]:()=>{o()},"/":()=>{o()}},["all"],[]),Ns({search:n("search_placeholder"),variants:{color:i.color}}),Pn.createElement(Pn.Fragment,null,Pn.createElement(Go,null))}function ai(t){let{space:r,assetHostname:e,collection:n,collectionSpaces:o}=t,{screen:i}=At();qn();let a=Gl({space:r.key,revision:(i.type==="space"?i.revision:null)||r.revision});if(!a)throw new Error("Revision not found");Nc(r);let l=it.useMemo(()=>Dn(r,{}),[r.key,r.organization,r.collection]);if(i.type!=="space"||i.space!==r.key)throw new Error("screen should be the space we render");it.useEffect(()=>{if(!!r.searchKey)return Hl(r.searchKey)},[r.searchKey]),er(p=>{p.write({type:"font",font:r.font||"Inter",fontFamilyName:"gitbook-content-font"}),i.revision&&p.write({type:"meta",name:"robots",content:"noindex"})}),gp(r.privacyPolicyURL,ll(r));let[,c]=Kn(a,i),u=Kt(c);return it.createElement(it.Fragment,null,it.createElement(mp,{space:r,revision:a,collection:n,currentPageLayout:u}),it.createElement(Ip,{space:r,revision:a,screen:i,analyticsContext:l,collection:n,collectionSpaces:o,assetHostname:e}),it.createElement(Ep,{space:r,revision:a}),it.createElement(Ho,null))}s();var Sa=w(T());s();s();function dr(t,r){return t.split(r).slice(1).join(r)}function On(t){return t?t.endsWith("/")?t:`${t}/`:""}function _p(t){return r=>{let e=`/${On(t.basePath)}`;switch(r.type){case"back_office":case"account":case"error_notfound":case"org_invite":case"org_join":case"org_settings":case"quickstart":case"root":case"account_verification":case"integrations":case"welcome":throw new Error(`Cannot navigate to ${r.type} on public content`);case"home":{if(r.organization){let n=rr.read({type:"organization",organization:r.organization});e=nn(n);break}throw new Error("Cannot navigate to home without an org on public content")}case"user":{let n=rr.read({type:"user",user:r.user});e=nn(n);break}case"collection":{let n=rr.read({type:"collection",collection:r.collection});e=nn(n);break}case"space":{let n=rr.read({type:"space",space:r.space});n.hostname===t.hostname&&(!t.basePath||n.pathname.startsWith(t.basePath))?(t.shareLink&&(e+=On(t.shareLink)),n.pathname!==t.basePath&&(t.basePath?e+=On(dr(n.pathname,On(t.basePath))):e+=On(n.pathname))):e=nn(n),e+=Cy(r);break}case"legacy_space":case"legacy_account":throw new Error("Cannot navigate to legacy urls");default:mr(r)}return{pathname:e,hash:r.hash,search:es(r)}}}function Cy(t){let r="";return t.revision&&(r+=`~/revisions/${t.revision}/`),r+=`${t.page[0]==="/"?t.page.slice(1):t.page}`,t.sideSheet&&(r+=`${r[r.length-1]==="/"?"":"/"}~/${t.sideSheet}`),r}s();var Ry=Ea==="test";function Dp(t,r,e,n=[]){return o=>{let i=o.pathname;t.basePath?i=dr(i,t.basePath):t.hostname&&i.indexOf(`/${t.hostname}/`)!==-1&&Ry&&(i=dr(i,t.hostname)),t.shareLink&&(i=dr(i,t.shareLink));let a=r;if(!a){let c=n.find(u=>i.startsWith(`/v/${u.path}/`)||i===`/v/${u.path}`);c&&(a=c.key,i=dr(i,`/v/${c.path}`))}if(a||(a=e==null?void 0:e.primarySpace),!a)throw new Error("cannot find current space");let l={type:"space",space:a,page:""};return Py(l,Qa(i)),o.hash&&(l.hash=o.hash.replace(/^#/,"")),g(g({},l),Za(o))}}function Py(t,r){Ja(r,[{path:`/~/revisions/:revision/:page${gi}`,onMatch:e=>{Object.assign(t,{page:e.params.page,revision:e.params.revision})}},{path:"/~/revisions/:revision/",onMatch:e=>{Object.assign(t,{revision:e.params.revision,page:""})}},{path:`/:page${gi}`,onMatch:e=>{Object.assign(t,{page:e.params.page,diff:!1})}},{path:"/",onMatch:e=>{Object.assign(t,{diff:!1,page:""})}}])}function si(t,r,e,n){let o=Lc(),i=(0,Sa.useMemo)(()=>Dp(t,r,e,n),[t.hostname,t.basePath,t.shareLink,r,e,n]),a=(0,Sa.useMemo)(()=>_p(t),[t.hostname,t.basePath,t.shareLink]);return{forceHardNavigation:!o,getNavigationScreenFromLocation:i,getLocationForNavigationScreen:a}}function Lp(t){let{collection:r,basePath:e,hostname:n,customToken:o,collectionSpaces:i,ssrRequestPath:a,ssrRouterContext:l,shareLink:c,assetHostname:u,preview:p=!1}=t,y=si({hostname:n,basePath:e,shareLink:c},void 0,r,i);if(!p&&r.publishingType!=="variants")throw new Error("we do not know how to render anything else than variants for now");return Re.createElement(rn,{mode:"public-content",preview:p,locale:r.language},Re.createElement(Jt,{primaryColor:r.primaryColor},Re.createElement(lr,null,Re.createElement(ei,{ssrRequestPath:a,ssrRouterContext:l},Re.createElement(Or,g({persist:!1},y),Re.createElement(Re.Suspense,{fallback:Re.createElement(Ee,{size:"large"})},o&&typeof window>"u"?Re.createElement(Ee,{size:"large"}):Re.createElement(Oy,{collection:r,collectionSpaces:i,assetHostname:u})))))))}function Oy(t){let{screen:r}=At();if(r.type!=="space")throw new Error("screen should be a space");qn();let[e]=tr([gr(r.space)]);if(!e)throw new Error("the space should exist");return Re.createElement(rn,{locale:e.language},Re.createElement(Jt,{primaryColor:e.primaryColor},Re.createElement(lr,null,Re.createElement(ai,x(g({},t),{space:e})))))}s();var at=w(T());function Mp(t){let{space:r,ssrRequestPath:e,ssrRouterContext:n,basePath:o,hostname:i,customToken:a,shareLink:l,assetHostname:c,preview:u=!1}=t,p=si({hostname:i,basePath:o,shareLink:l},r.key);return at.createElement(rn,{mode:"public-content",preview:u,locale:r.language},at.createElement(Jt,{primaryColor:r.primaryColor},at.createElement(lr,null,at.createElement(ei,{ssrRequestPath:e,ssrRouterContext:n},at.createElement(Or,g({persist:!1},p),at.createElement(at.Suspense,{fallback:at.createElement(Ee,{size:"large"})},a&&typeof window>"u"?at.createElement(Ee,{size:"large"}):at.createElement(ai,{space:r,assetHostname:c})))))))}s();var li=w(T());var wa=fr("preview:child");function Ap(t,r){let[e,n]=li.useState(t);return li.useEffect(()=>{!r||(window.addEventListener("message",o=>{if(o.data.source!=="gitbook-preview-parent"||(wa.info("receive message",o.origin,o.data),o.origin!=="http://localhost:5000"&&o.origin!==`https://${_t.firebase.authDomain}`))return;let i=Na(o.data.payload);wa.debug("update content with",i),n(i),window.parent.postMessage({source:"gitbook-preview-child"},"*")}),wa.info("notify parent that we are ready"),window.parent.postMessage({source:"gitbook-preview-child"},"*"))},[r]),e}function xy(t){let r="collection"in t?t.collection:t.space,e=Ap(r,!!t.preview),n=za(e.themeMode);return Gt.createElement(_n,null,Gt.createElement(Se,{theme:{color:n}},Gt.createElement(hs,{theme:{color:n}},Gt.createElement(Ao,null,Gt.createElement(po,null,"collection"in t?Gt.createElement(Lp,x(g({},t),{collection:e})):Gt.createElement(Mp,x(g({},t),{space:e})))))))}s();function $D(t){t!=null&&t.firestore&&wi.fromJS(t.firestore),t!=null&&t.head&&Ws.cache.fromJS(t.head),t!=null&&t.images&&(ol.fromJS(t.images.sizes),Rs.fromJS(t.images.uri)),t!=null&&t.contentURLs&&rr.fromJS(t.contentURLs),t!=null&&t.contentRefs&&tc.fromJS(t.contentRefs),t!=null&&t.screenToContentRefs&&rc.fromJS(t.screenToContentRefs),t!=null&&t.swaggers&&nc.fromJS(t.swaggers)}s();s();function i0(t){document.readyState==="interactive"||document.readyState==="complete"?t():document.addEventListener("DOMContentLoaded",()=>{t()})}export{Dh as a,xy as b,$D as c,i0 as d};
/** @license React v0.0.0-experimental-4ead6b530
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
//# sourceMappingURL=https://app.gitbook.com/public/app/chunks/chunk-5XNPTENU.min.js.map
