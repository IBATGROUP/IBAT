import{f as _m}from"static/js/chunk-4A5U2GP4.min.js";import"static/js/chunk-ERHUJP3G.min.js";import{s as of}from"static/js/chunk-FYAAXITJ.min.js";import{V as Tp,Y as km,q as xm,s as wm}from"static/js/chunk-4SZKWRVS.min.js";import"static/js/chunk-ICYT6H5B.min.js";import"static/js/chunk-6Z77QNA7.min.js";import{g as ym,i as Ug,l as sa}from"static/js/chunk-57DNK6NM.min.js";var Em=ym((af,Mp)=>{sa();(function(bi,Qn){typeof af=="object"&&typeof Mp=="object"?Mp.exports=Qn(xm(),wm()):typeof define=="function"&&define.amd?define(["react","react-dom"],Qn):typeof af=="object"?af.Excalidraw=Qn(xm(),wm()):bi.Excalidraw=Qn(bi.React,bi.ReactDOM)})(self,function(bi,Qn){return function(){var Nr,yi,ol,lf,Pp={7945:function(I,A,x){I.exports=x(1602)},200:function(I,A,x){var L="Expected a function",g=/^\s+|\s+$/g,D=/^[-+]0x[0-9a-f]+$/i,W=/^0b[01]+$/i,Q=/^0o[0-7]+$/i,ee=parseInt,C=typeof x.g=="object"&&x.g&&x.g.Object===Object&&x.g,He=typeof self=="object"&&self&&self.Object===Object&&self,le=C||He||Function("return this")(),Fe=Object.prototype.toString,ht=Math.max,R=Math.min,bn=function(){return le.Date.now()};function $(ke,Ae,qe){var Qe,nt,Gt,ft,Pt,S,p=0,zn=!1,nn=!1,Wt=!0;if(typeof ke!="function")throw new TypeError(L);function fe(at){var kt=Qe,Yt=nt;return Qe=nt=void 0,p=at,ft=ke.apply(Yt,kt)}function F(at){return p=at,Pt=setTimeout(De,Ae),zn?fe(at):ft}function de(at){var kt=at-S;return S===void 0||kt>=Ae||kt<0||nn&&at-p>=Gt}function De(){var at=bn();if(de(at))return Ze(at);Pt=setTimeout(De,function(kt){var Yt=Ae-(kt-S);return nn?R(Yt,Gt-(kt-p)):Yt}(at))}function Ze(at){return Pt=void 0,Wt&&Qe?fe(at):(Qe=nt=void 0,ft)}function Le(){var at=bn(),kt=de(at);if(Qe=arguments,nt=this,S=at,kt){if(Pt===void 0)return F(S);if(nn)return Pt=setTimeout(De,Ae),fe(S)}return Pt===void 0&&(Pt=setTimeout(De,Ae)),ft}return Ae=Ge(Ae)||0,Pe(qe)&&(zn=!!qe.leading,Gt=(nn="maxWait"in qe)?ht(Ge(qe.maxWait)||0,Ae):Gt,Wt="trailing"in qe?!!qe.trailing:Wt),Le.cancel=function(){Pt!==void 0&&clearTimeout(Pt),p=0,Qe=S=nt=Pt=void 0},Le.flush=function(){return Pt===void 0?ft:Ze(bn())},Le}function Pe(ke){var Ae=typeof ke;return!!ke&&(Ae=="object"||Ae=="function")}function Ge(ke){if(typeof ke=="number")return ke;if(function(Qe){return typeof Qe=="symbol"||function(nt){return!!nt&&typeof nt=="object"}(Qe)&&Fe.call(Qe)=="[object Symbol]"}(ke))return NaN;if(Pe(ke)){var Ae=typeof ke.valueOf=="function"?ke.valueOf():ke;ke=Pe(Ae)?Ae+"":Ae}if(typeof ke!="string")return ke===0?ke:+ke;ke=ke.replace(g,"");var qe=W.test(ke);return qe||Q.test(ke)?ee(ke.slice(2),qe?2:8):D.test(ke)?NaN:+ke}I.exports=function(ke,Ae,qe){var Qe=!0,nt=!0;if(typeof ke!="function")throw new TypeError(L);return Pe(qe)&&(Qe="leading"in qe?!!qe.leading:Qe,nt="trailing"in qe?!!qe.trailing:nt),$(ke,Ae,{leading:Qe,maxWait:Ae,trailing:nt})}},2891:function(I,A,x){var L;I=x.nmd(I),function(){var g,D="Expected a function",W="__lodash_hash_undefined__",Q="__lodash_placeholder__",ee=16,C=32,He=64,le=128,Fe=256,ht=1/0,R=9007199254740991,bn=NaN,$=4294967295,Pe=[["ary",le],["bind",1],["bindKey",2],["curry",8],["curryRight",ee],["flip",512],["partial",C],["partialRight",He],["rearg",Fe]],Ge="[object Arguments]",ke="[object Array]",Ae="[object Boolean]",qe="[object Date]",Qe="[object Error]",nt="[object Function]",Gt="[object GeneratorFunction]",ft="[object Map]",Pt="[object Number]",S="[object Object]",p="[object Promise]",zn="[object RegExp]",nn="[object Set]",Wt="[object String]",fe="[object Symbol]",F="[object WeakMap]",de="[object ArrayBuffer]",De="[object DataView]",Ze="[object Float32Array]",Le="[object Float64Array]",at="[object Int8Array]",kt="[object Int16Array]",Yt="[object Int32Array]",un="[object Uint8Array]",yt="[object Uint8ClampedArray]",rn="[object Uint16Array]",pn="[object Uint32Array]",xo=/\b__p \+= '';/g,xi=/\b(__p \+=) '' \+/g,Vo=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Hr=/&(?:amp|lt|gt|quot|#39);/g,il=/[&<>"']/g,Ss=RegExp(Hr.source),In=RegExp(il.source),At=/<%-([\s\S]+?)%>/g,al=/<%([\s\S]+?)%>/g,ll=/<%=([\s\S]+?)%>/g,js=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,qc=/^\w*$/,$c=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Go=/[\\^$.*+?()[\]{}|]/g,Qc=RegExp(Go.source),Cs=/^\s+/,Jc=/\s/,sl=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,sf=/\{\n\/\* \[wrapped with (.+)\] \*/,cf=/,? & /,eu=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Os=/[()=,{}\[\]\/\s]/,tu=/\\(\\)?/g,cl=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Zo=/\w*$/,nu=/^[-+]0x[0-9a-f]+$/i,ul=/^0b[01]+$/i,Ye=/^\[object .+?Constructor\]$/,no=/^0o[0-7]+$/i,ru=/^(?:0|[1-9]\d*)$/,ou=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Yo=/($^)/,iu=/['\n\r\u2028\u2029\\]/g,Is="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",uf="\\u2700-\\u27bf",wi="a-z\\xdf-\\xf6\\xf8-\\xff",ua="A-Z\\xc0-\\xd6\\xd8-\\xde",df="\\ufe0e\\ufe0f",wo="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ts="['\u2019]",ff="[\\ud800-\\udfff]",da="["+wo+"]",ki="["+Is+"]",Wn="\\d+",dl="[\\u2700-\\u27bf]",au="["+wi+"]",fa="[^\\ud800-\\udfff"+wo+Wn+uf+wi+ua+"]",Ms="\\ud83c[\\udffb-\\udfff]",Xo="[^\\ud800-\\udfff]",fl="(?:\\ud83c[\\udde6-\\uddff]){2}",mt="[\\ud800-\\udbff][\\udc00-\\udfff]",ko="["+ua+"]",Sr="(?:"+au+"|"+fa+")",_i="(?:"+ko+"|"+fa+")",St="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Br="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",lu="(?:"+ki+"|"+Ms+")?",Bt="[\\ufe0e\\ufe0f]?",_o=Bt+lu+("(?:\\u200d(?:"+[Xo,fl,mt].join("|")+")"+Bt+lu+")*"),Jn="(?:"+[dl,fl,mt].join("|")+")"+_o,su="(?:"+[Xo+ki+"?",ki,fl,mt,ff].join("|")+")",pa=RegExp(Ts,"g"),pl=RegExp(ki,"g"),dr=RegExp(Ms+"(?="+Ms+")|"+su+_o,"g"),gt=RegExp([ko+"?"+au+"+"+St+"(?="+[da,ko,"$"].join("|")+")",_i+"+"+Br+"(?="+[da,ko+Sr,"$"].join("|")+")",ko+"?"+Sr+"+"+St,ko+"+"+Br,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Wn,Jn].join("|"),"g"),ha=RegExp("[\\u200d\\ud800-\\udfff"+Is+df+"]"),Ps=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,fr=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Eo=-1,Ft={};Ft[Ze]=Ft[Le]=Ft[at]=Ft[kt]=Ft[Yt]=Ft[un]=Ft[yt]=Ft[rn]=Ft[pn]=!0,Ft[Ge]=Ft[ke]=Ft[de]=Ft[Ae]=Ft[De]=Ft[qe]=Ft[Qe]=Ft[nt]=Ft[ft]=Ft[Pt]=Ft[S]=Ft[zn]=Ft[nn]=Ft[Wt]=Ft[F]=!1;var Ct={};Ct[Ge]=Ct[ke]=Ct[de]=Ct[De]=Ct[Ae]=Ct[qe]=Ct[Ze]=Ct[Le]=Ct[at]=Ct[kt]=Ct[Yt]=Ct[ft]=Ct[Pt]=Ct[S]=Ct[zn]=Ct[nn]=Ct[Wt]=Ct[fe]=Ct[un]=Ct[yt]=Ct[rn]=Ct[pn]=!0,Ct[Qe]=Ct[nt]=Ct[F]=!1;var ma={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},pf=parseFloat,pr=parseInt,cu=typeof x.g=="object"&&x.g&&x.g.Object===Object&&x.g,hl=typeof self=="object"&&self&&self.Object===Object&&self,wn=cu||hl||Function("return this")(),As=A&&!A.nodeType&&A,pt=As&&I&&!I.nodeType&&I,So=pt&&pt.exports===As,Ei=So&&cu.process,Vn=function(){try{var X=pt&&pt.require&&pt.require("util").types;return X||Ei&&Ei.binding&&Ei.binding("util")}catch(H){}}(),uu=Vn&&Vn.isArrayBuffer,du=Vn&&Vn.isDate,Si=Vn&&Vn.isMap,hn=Vn&&Vn.isRegExp,qo=Vn&&Vn.isSet,Ls=Vn&&Vn.isTypedArray;function Tn(X,H,te){switch(te.length){case 0:return X.call(H);case 1:return X.call(H,te[0]);case 2:return X.call(H,te[0],te[1]);case 3:return X.call(H,te[0],te[1],te[2])}return X.apply(H,te)}function st(X,H,te,_e){for(var et=-1,_t=X==null?0:X.length;++et<_t;){var mn=X[et];H(_e,mn,te(mn),X)}return _e}function Gn(X,H){for(var te=-1,_e=X==null?0:X.length;++te<_e&&H(X[te],te,X)!==!1;);return X}function jo(X,H){for(var te=X==null?0:X.length;te--&&H(X[te],te,X)!==!1;);return X}function ro(X,H){for(var te=-1,_e=X==null?0:X.length;++te<_e;)if(!H(X[te],te,X))return!1;return!0}function En(X,H){for(var te=-1,_e=X==null?0:X.length,et=0,_t=[];++te<_e;){var mn=X[te];H(mn,te,X)&&(_t[et++]=mn)}return _t}function ga(X,H){return!!(X!=null&&X.length)&&Ci(X,H,0)>-1}function ml(X,H,te){for(var _e=-1,et=X==null?0:X.length;++_e<et;)if(te(H,X[_e]))return!0;return!1}function Zt(X,H){for(var te=-1,_e=X==null?0:X.length,et=Array(_e);++te<_e;)et[te]=H(X[te],te,X);return et}function Co(X,H){for(var te=-1,_e=H.length,et=X.length;++te<_e;)X[et+te]=H[te];return X}function Ds(X,H,te,_e){var et=-1,_t=X==null?0:X.length;for(_e&&_t&&(te=X[++et]);++et<_t;)te=H(te,X[et],et,X);return te}function hf(X,H,te,_e){var et=X==null?0:X.length;for(_e&&et&&(te=X[--et]);et--;)te=H(te,X[et],et,X);return te}function Rs(X,H){for(var te=-1,_e=X==null?0:X.length;++te<_e;)if(H(X[te],te,X))return!0;return!1}var gl=bl("length");function ji(X,H,te){var _e;return te(X,function(et,_t,mn){if(H(et,_t,mn))return _e=_t,!1}),_e}function vl(X,H,te,_e){for(var et=X.length,_t=te+(_e?1:-1);_e?_t--:++_t<et;)if(H(X[_t],_t,X))return _t;return-1}function Ci(X,H,te){return H==H?function(_e,et,_t){for(var mn=_t-1,Sn=_e.length;++mn<Sn;)if(_e[mn]===et)return mn;return-1}(X,H,te):vl(X,zs,te)}function mf(X,H,te,_e){for(var et=te-1,_t=X.length;++et<_t;)if(_e(X[et],H))return et;return-1}function zs(X){return X!=X}function fu(X,H){var te=X==null?0:X.length;return te?Bs(X,H)/te:bn}function bl(X){return function(H){return H==null?g:H[X]}}function Ns(X){return function(H){return X==null?g:X[H]}}function Hs(X,H,te,_e,et){return et(X,function(_t,mn,Sn){te=_e?(_e=!1,_t):H(te,_t,mn,Sn)}),te}function Bs(X,H){for(var te,_e=-1,et=X.length;++_e<et;){var _t=H(X[_e]);_t!==g&&(te=te===g?_t:te+_t)}return te}function Fs(X,H){for(var te=-1,_e=Array(X);++te<X;)_e[te]=H(te);return _e}function Us(X){return X&&X.slice(0,Cr(X)+1).replace(Cs,"")}function er(X){return function(H){return X(H)}}function Ks(X,H){return Zt(H,function(te){return X[te]})}function va(X,H){return X.has(H)}function re(X,H){for(var te=-1,_e=X.length;++te<_e&&Ci(H,X[te],0)>-1;);return te}function Oi(X,H){for(var te=X.length;te--&&Ci(H,X[te],0)>-1;);return te}function Ws(X,H){for(var te=X.length,_e=0;te--;)X[te]===H&&++_e;return _e}var ba=Ns({\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"}),pu=Ns({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function hu(X){return"\\"+ma[X]}function Ii(X){return ha.test(X)}function $o(X){var H=-1,te=Array(X.size);return X.forEach(function(_e,et){te[++H]=[et,_e]}),te}function oo(X,H){return function(te){return X(H(te))}}function jr(X,H){for(var te=-1,_e=X.length,et=0,_t=[];++te<_e;){var mn=X[te];mn!==H&&mn!==Q||(X[te]=Q,_t[et++]=te)}return _t}function dn(X){var H=-1,te=Array(X.size);return X.forEach(function(_e){te[++H]=_e}),te}function Vs(X){var H=-1,te=Array(X.size);return X.forEach(function(_e){te[++H]=[_e,_e]}),te}function Ti(X){return Ii(X)?function(H){for(var te=dr.lastIndex=0;dr.test(H);)++te;return te}(X):gl(X)}function on(X){return Ii(X)?function(H){return H.match(dr)||[]}(X):function(H){return H.split("")}(X)}function Cr(X){for(var H=X.length;H--&&Jc.test(X.charAt(H)););return H}var an=Ns({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Or=function X(H){var te,_e=(H=H==null?wn:Or.defaults(wn.Object(),H,Or.pick(wn,fr))).Array,et=H.Date,_t=H.Error,mn=H.Function,Sn=H.Math,Nt=H.Object,Qo=H.RegExp,Xt=H.String,Zn=H.TypeError,io=_e.prototype,tr=mn.prototype,Fr=Nt.prototype,ya=H["__core-js_shared__"],yl=tr.toString,Ot=Fr.hasOwnProperty,gf=0,Oo=(te=/[^.]+$/.exec(ya&&ya.keys&&ya.keys.IE_PROTO||""))?"Symbol(src)_1."+te:"",xl=Fr.toString,mu=yl.call(Nt),gu=wn._,vf=Qo("^"+yl.call(Ot).replace(Go,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),xa=So?H.Buffer:g,kn=H.Symbol,Nn=H.Uint8Array,hr=xa?xa.allocUnsafe:g,Io=oo(Nt.getPrototypeOf,Nt),vu=Nt.create,bu=Fr.propertyIsEnumerable,wa=io.splice,Gs=kn?kn.isConcatSpreadable:g,ka=kn?kn.iterator:g,Ir=kn?kn.toStringTag:g,Mi=function(){try{var i=Ro(Nt,"defineProperty");return i({},"",{}),i}catch(u){}}(),yu=H.clearTimeout!==wn.clearTimeout&&H.clearTimeout,Pi=et&&et.now!==wn.Date.now&&et.now,bf=H.setTimeout!==wn.setTimeout&&H.setTimeout,To=Sn.ceil,wl=Sn.floor,kl=Nt.getOwnPropertySymbols,Zs=xa?xa.isBuffer:g,_l=H.isFinite,Jo=io.join,Vt=oo(Nt.keys,Nt),ln=Sn.max,_n=Sn.min,xu=et.now,ao=H.parseInt,Ys=Sn.random,Xs=io.reverse,ei=Ro(H,"DataView"),Mo=Ro(H,"Map"),Ai=Ro(H,"Promise"),ti=Ro(H,"Set"),Li=Ro(H,"WeakMap"),_a=Ro(Nt,"create"),nr=Li&&new Li,Ur={},Kr=No(ei),wu=No(Mo),Po=No(Ai),ku=No(ti),yf=No(Li),Ea=kn?kn.prototype:g,Di=Ea?Ea.valueOf:g,_u=Ea?Ea.toString:g;function O(i){if(sn(i)&&!lt(i)&&!(i instanceof vt)){if(i instanceof rr)return i;if(Ot.call(i,"__wrapped__"))return Wl(i)}return new rr(i)}var ni=function(){function i(){}return function(u){if(!Jt(u))return{};if(vu)return vu(u);i.prototype=u;var h=new i;return i.prototype=g,h}}();function Sa(){}function rr(i,u){this.__wrapped__=i,this.__actions__=[],this.__chain__=!!u,this.__index__=0,this.__values__=g}function vt(i){this.__wrapped__=i,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=$,this.__views__=[]}function lo(i){var u=-1,h=i==null?0:i.length;for(this.clear();++u<h;){var w=i[u];this.set(w[0],w[1])}}function mr(i){var u=-1,h=i==null?0:i.length;for(this.clear();++u<h;){var w=i[u];this.set(w[0],w[1])}}function fn(i){var u=-1,h=i==null?0:i.length;for(this.clear();++u<h;){var w=i[u];this.set(w[0],w[1])}}function gr(i){var u=-1,h=i==null?0:i.length;for(this.__data__=new fn;++u<h;)this.add(i[u])}function Hn(i){var u=this.__data__=new mr(i);this.size=u.size}function vr(i,u){var h=lt(i),w=!h&&fi(i),E=!h&&!w&&Bo(i),T=!h&&!w&&!E&&Gi(i),z=h||w||E||T,B=z?Fs(i.length,Xt):[],Z=B.length;for(var Y in i)!u&&!Ot.call(i,Y)||z&&(Y=="length"||E&&(Y=="offset"||Y=="parent")||T&&(Y=="buffer"||Y=="byteLength"||Y=="byteOffset")||Zr(Y,Z))||B.push(Y);return B}function ja(i){var u=i.length;return u?i[Tl(0,u-1)]:g}function Eu(i,u){return di(Fn(i),oi(u,0,i.length))}function Su(i){return di(Fn(i))}function El(i,u,h){(h!==g&&!Lr(i[u],h)||h===g&&!(u in i))&&Tr(i,u,h)}function ri(i,u,h){var w=i[u];Ot.call(i,u)&&Lr(w,h)&&(h!==g||u in i)||Tr(i,u,h)}function Sl(i,u){for(var h=i.length;h--;)if(Lr(i[h][0],u))return h;return-1}function ju(i,u,h,w){return so(i,function(E,T,z){u(w,E,h(E),z)}),w}function qs(i,u){return i&&ir(u,xn(u),i)}function Tr(i,u,h){u=="__proto__"&&Mi?Mi(i,u,{configurable:!0,enumerable:!0,value:h,writable:!0}):i[u]=h}function jl(i,u){for(var h=-1,w=u.length,E=_e(w),T=i==null;++h<w;)E[h]=T?g:Oc(i,u[h]);return E}function oi(i,u,h){return i==i&&(h!==g&&(i=i<=h?i:h),u!==g&&(i=i>=u?i:u)),i}function br(i,u,h,w,E,T){var z,B=1&u,Z=2&u,Y=4&u;if(h&&(z=E?h(i,w,E,T):h(i)),z!==g)return z;if(!Jt(i))return i;var se=lt(i);if(se){if(z=function(ne){var xe=ne.length,ge=new ne.constructor(xe);return xe&&typeof ne[0]=="string"&&Ot.call(ne,"index")&&(ge.index=ne.index,ge.input=ne.input),ge}(i),!B)return Fn(i,z)}else{var me=Pn(i),Me=me==nt||me==Gt;if(Bo(i))return ic(i,B);if(me==S||me==Ge||Me&&!E){if(z=Z||Me?{}:zo(i),!B)return Z?function(ne,xe){return ir(ne,Lt(ne),xe)}(i,function(ne,xe){return ne&&ir(xe,Ln(xe),ne)}(z,i)):function(ne,xe){return ir(ne,$t(ne),xe)}(i,qs(z,i))}else{if(!Ct[me])return E?i:{};z=function(ne,xe,ge){var Te=ne.constructor;switch(xe){case de:return ac(ne);case Ae:case qe:return new Te(+ne);case De:return function(Be,bt){var Ke=bt?ac(Be.buffer):Be.buffer;return new Be.constructor(Ke,Be.byteOffset,Be.byteLength)}(ne,ge);case Ze:case Le:case at:case kt:case Yt:case un:case yt:case rn:case pn:return lc(ne,ge);case ft:case nn:return new Te;case Pt:case Wt:return new Te(ne);case zn:return function(Be){var bt=new Be.constructor(Be.source,Zo.exec(Be));return bt.lastIndex=Be.lastIndex,bt}(ne);case fe:return Je=ne,Di?Nt(Di.call(Je)):{}}var Je}(i,me,B)}}T||(T=new Hn);var Re=T.get(i);if(Re)return Re;T.set(i,z),yd(i)?i.forEach(function(ne){z.add(br(ne,u,h,ne,i,T))}):Ql(i)&&i.forEach(function(ne,xe){z.set(xe,br(ne,u,h,xe,i,T))});var Xe=se?g:(Y?Z?Fa:cc:Z?Ln:xn)(i);return Gn(Xe||i,function(ne,xe){Xe&&(ne=i[xe=ne]),ri(z,xe,br(ne,u,h,xe,i,T))}),z}function Cu(i,u,h){var w=h.length;if(i==null)return!w;for(i=Nt(i);w--;){var E=h[w],T=u[E],z=i[E];if(z===g&&!(E in i)||!T(z))return!1}return!0}function ii(i,u,h){if(typeof i!="function")throw new Zn(D);return Va(function(){i.apply(g,h)},u)}function Bn(i,u,h,w){var E=-1,T=ga,z=!0,B=i.length,Z=[],Y=u.length;if(!B)return Z;h&&(u=Zt(u,er(h))),w?(T=ml,z=!1):u.length>=200&&(T=va,z=!1,u=new gr(u));e:for(;++E<B;){var se=i[E],me=h==null?se:h(se);if(se=w||se!==0?se:0,z&&me==me){for(var Me=Y;Me--;)if(u[Me]===me)continue e;Z.push(se)}else T(u,me,w)||Z.push(se)}return Z}O.templateSettings={escape:At,evaluate:al,interpolate:ll,variable:"",imports:{_:O}},O.prototype=Sa.prototype,O.prototype.constructor=O,rr.prototype=ni(Sa.prototype),rr.prototype.constructor=rr,vt.prototype=ni(Sa.prototype),vt.prototype.constructor=vt,lo.prototype.clear=function(){this.__data__=_a?_a(null):{},this.size=0},lo.prototype.delete=function(i){var u=this.has(i)&&delete this.__data__[i];return this.size-=u?1:0,u},lo.prototype.get=function(i){var u=this.__data__;if(_a){var h=u[i];return h===W?g:h}return Ot.call(u,i)?u[i]:g},lo.prototype.has=function(i){var u=this.__data__;return _a?u[i]!==g:Ot.call(u,i)},lo.prototype.set=function(i,u){var h=this.__data__;return this.size+=this.has(i)?0:1,h[i]=_a&&u===g?W:u,this},mr.prototype.clear=function(){this.__data__=[],this.size=0},mr.prototype.delete=function(i){var u=this.__data__,h=Sl(u,i);return!(h<0)&&(h==u.length-1?u.pop():wa.call(u,h,1),--this.size,!0)},mr.prototype.get=function(i){var u=this.__data__,h=Sl(u,i);return h<0?g:u[h][1]},mr.prototype.has=function(i){return Sl(this.__data__,i)>-1},mr.prototype.set=function(i,u){var h=this.__data__,w=Sl(h,i);return w<0?(++this.size,h.push([i,u])):h[w][1]=u,this},fn.prototype.clear=function(){this.size=0,this.__data__={hash:new lo,map:new(Mo||mr),string:new lo}},fn.prototype.delete=function(i){var u=Fl(this,i).delete(i);return this.size-=u?1:0,u},fn.prototype.get=function(i){return Fl(this,i).get(i)},fn.prototype.has=function(i){return Fl(this,i).has(i)},fn.prototype.set=function(i,u){var h=Fl(this,i),w=h.size;return h.set(i,u),this.size+=h.size==w?0:1,this},gr.prototype.add=gr.prototype.push=function(i){return this.__data__.set(i,W),this},gr.prototype.has=function(i){return this.__data__.has(i)},Hn.prototype.clear=function(){this.__data__=new mr,this.size=0},Hn.prototype.delete=function(i){var u=this.__data__,h=u.delete(i);return this.size=u.size,h},Hn.prototype.get=function(i){return this.__data__.get(i)},Hn.prototype.has=function(i){return this.__data__.has(i)},Hn.prototype.set=function(i,u){var h=this.__data__;if(h instanceof mr){var w=h.__data__;if(!Mo||w.length<199)return w.push([i,u]),this.size=++h.size,this;h=this.__data__=new fn(w)}return h.set(i,u),this.size=h.size,this};var so=zu(Yn),Ri=zu(Qs,!0);function je(i,u){var h=!0;return so(i,function(w,E,T){return h=!!u(w,E,T)}),h}function It(i,u,h){for(var w=-1,E=i.length;++w<E;){var T=i[w],z=u(T);if(z!=null&&(B===g?z==z&&!ar(z):h(z,B)))var B=z,Z=T}return Z}function Ca(i,u){var h=[];return so(i,function(w,E,T){u(w,E,T)&&h.push(w)}),h}function qt(i,u,h,w,E){var T=-1,z=i.length;for(h||(h=Ka),E||(E=[]);++T<z;){var B=i[T];u>0&&h(B)?u>1?qt(B,u-1,h,w,E):Co(E,B):w||(E[E.length]=B)}return E}var Oa=Ba(),$s=Ba(!0);function Yn(i,u){return i&&Oa(i,u,xn)}function Qs(i,u){return i&&$s(i,u,xn)}function Ia(i,u){return En(u,function(h){return go(i[h])})}function Ao(i,u){for(var h=0,w=(u=po(u,i)).length;i!=null&&h<w;)i=i[Ar(u[h++])];return h&&h==w?i:g}function jn(i,u,h){var w=u(i);return lt(i)?w:Co(w,h(i))}function Mn(i){return i==null?i===g?"[object Undefined]":"[object Null]":Ir&&Ir in Nt(i)?function(u){var h=Ot.call(u,Ir),w=u[Ir];try{u[Ir]=g;var E=!0}catch(z){}var T=xl.call(u);return E&&(h?u[Ir]=w:delete u[Ir]),T}(i):function(u){return xl.call(u)}(i)}function Ta(i,u){return i>u}function Ou(i,u){return i!=null&&Ot.call(i,u)}function zi(i,u){return i!=null&&u in Nt(i)}function yr(i,u,h){for(var w=h?ml:ga,E=i[0].length,T=i.length,z=T,B=_e(T),Z=1/0,Y=[];z--;){var se=i[z];z&&u&&(se=Zt(se,er(u))),Z=_n(se.length,Z),B[z]=!h&&(u||E>=120&&se.length>=120)?new gr(z&&se):g}se=i[0];var me=-1,Me=B[0];e:for(;++me<E&&Y.length<Z;){var Re=se[me],Xe=u?u(Re):Re;if(Re=h||Re!==0?Re:0,!(Me?va(Me,Xe):w(Y,Xe,h))){for(z=T;--z;){var ne=B[z];if(!(ne?va(ne,Xe):w(i[z],Xe,h)))continue e}Me&&Me.push(Xe),Y.push(Re)}}return Y}function co(i,u,h){var w=(i=mo(i,u=po(u,i)))==null?i:i[Ar(xr(u))];return w==null?g:Tn(w,i,h)}function Wr(i){return sn(i)&&Mn(i)==Ge}function Ma(i,u,h,w,E){return i===u||(i==null||u==null||!sn(i)&&!sn(u)?i!=i&&u!=u:function(T,z,B,Z,Y,se){var me=lt(T),Me=lt(z),Re=me?ke:Pn(T),Xe=Me?ke:Pn(z),ne=(Re=Re==Ge?S:Re)==S,xe=(Xe=Xe==Ge?S:Xe)==S,ge=Re==Xe;if(ge&&Bo(T)){if(!Bo(z))return!1;me=!0,ne=!1}if(ge&&!ne)return se||(se=new Hn),me||Gi(T)?sc(T,z,B,Z,Y,se):function(Ke,$e,gn,sr,Rr,vn,Qr){switch(gn){case De:if(Ke.byteLength!=$e.byteLength||Ke.byteOffset!=$e.byteOffset)return!1;Ke=Ke.buffer,$e=$e.buffer;case de:return!(Ke.byteLength!=$e.byteLength||!vn(new Nn(Ke),new Nn($e)));case Ae:case qe:case Pt:return Lr(+Ke,+$e);case Qe:return Ke.name==$e.name&&Ke.message==$e.message;case zn:case Wt:return Ke==$e+"";case ft:var Fo=$o;case nn:var Xa=1&sr;if(Fo||(Fo=dn),Ke.size!=$e.size&&!Xa)return!1;var ls=Qr.get(Ke);if(ls)return ls==$e;sr|=2,Qr.set(Ke,$e);var qi=sc(Fo(Ke),Fo($e),sr,Rr,vn,Qr);return Qr.delete(Ke),qi;case fe:if(Di)return Di.call(Ke)==Di.call($e)}return!1}(T,z,Re,B,Z,Y,se);if(!(1&B)){var Te=ne&&Ot.call(T,"__wrapped__"),Je=xe&&Ot.call(z,"__wrapped__");if(Te||Je){var Be=Te?T.value():T,bt=Je?z.value():z;return se||(se=new Hn),Y(Be,bt,B,Z,se)}}return ge?(se||(se=new Hn),function(Ke,$e,gn,sr,Rr,vn){var Qr=1&gn,Fo=cc(Ke),Xa=Fo.length,ls=cc($e).length;if(Xa!=ls&&!Qr)return!1;for(var qi=Xa;qi--;){var gi=Fo[qi];if(!(Qr?gi in $e:Ot.call($e,gi)))return!1}var Rd=vn.get(Ke),zd=vn.get($e);if(Rd&&zd)return Rd==$e&&zd==Ke;var ss=!0;vn.set(Ke,$e),vn.set($e,Ke);for(var cs=Qr;++qi<Xa;){var qa=Ke[gi=Fo[qi]],us=$e[gi];if(sr)var zc=Qr?sr(us,qa,gi,$e,Ke,vn):sr(qa,us,gi,Ke,$e,vn);if(!(zc===g?qa===us||Rr(qa,us,gn,sr,vn):zc)){ss=!1;break}cs||(cs=gi=="constructor")}if(ss&&!cs){var vi=Ke.constructor,ds=$e.constructor;vi==ds||!("constructor"in Ke)||!("constructor"in $e)||typeof vi=="function"&&vi instanceof vi&&typeof ds=="function"&&ds instanceof ds||(ss=!1)}return vn.delete(Ke),vn.delete($e),ss}(T,z,B,Z,Y,se)):!1}(i,u,h,w,Ma,E))}function Cl(i,u,h,w){var E=h.length,T=E,z=!w;if(i==null)return!T;for(i=Nt(i);E--;){var B=h[E];if(z&&B[2]?B[1]!==i[B[0]]:!(B[0]in i))return!1}for(;++E<T;){var Z=(B=h[E])[0],Y=i[Z],se=B[1];if(z&&B[2]){if(Y===g&&!(Z in i))return!1}else{var me=new Hn;if(w)var Me=w(Y,se,Z,i,u,me);if(!(Me===g?Ma(se,Y,3,w,me):Me))return!1}}return!0}function Iu(i){return!(!Jt(i)||(u=i,Oo&&Oo in u))&&(go(i)?vf:Ye).test(No(i));var u}function Js(i){return typeof i=="function"?i:i==null?Dn:typeof i=="object"?lt(i)?Tu(i[0],i[1]):ai(i):Dr(i)}function Mr(i){if(!ui(i))return Vt(i);var u=[];for(var h in Nt(i))Ot.call(i,h)&&h!="constructor"&&u.push(h);return u}function Pa(i){if(!Jt(i))return function(E){var T=[];if(E!=null)for(var z in Nt(E))T.push(z);return T}(i);var u=ui(i),h=[];for(var w in i)(w!="constructor"||!u&&Ot.call(i,w))&&h.push(w);return h}function Ni(i,u){return i<u}function ec(i,u){var h=-1,w=Xn(i)?_e(i.length):[];return so(i,function(E,T,z){w[++h]=u(E,T,z)}),w}function ai(i){var u=Ul(i);return u.length==1&&u[0][2]?hc(u[0][0],u[0][1]):function(h){return h===i||Cl(h,i,u)}}function Tu(i,u){return dc(i)&&pc(u)?hc(Ar(i),u):function(h){var w=Oc(h,i);return w===g&&w===u?Ic(h,i):Ma(u,w,3)}}function uo(i,u,h,w,E){i!==u&&Oa(u,function(T,z){if(E||(E=new Hn),Jt(T))(function(Z,Y,se,me,Me,Re,Xe){var ne=Yr(Z,se),xe=Yr(Y,se),ge=Xe.get(xe);if(ge)return void El(Z,se,ge);var Te=Re?Re(ne,xe,se+"",Z,Y,Xe):g,Je=Te===g;if(Je){var Be=lt(xe),bt=!Be&&Bo(xe),Ke=!Be&&!bt&&Gi(xe);Te=xe,Be||bt||Ke?lt(ne)?Te=ne:Qt(ne)?Te=Fn(ne):bt?(Je=!1,Te=ic(xe,!0)):Ke?(Je=!1,Te=lc(xe,!0)):Te=[]:Za(xe)||fi(xe)?(Te=ne,fi(ne)?Te=wd(ne):Jt(ne)&&!go(ne)||(Te=zo(xe))):Je=!1}Je&&(Xe.set(xe,Te),Me(Te,xe,me,Re,Xe),Xe.delete(xe)),El(Z,se,Te)})(i,u,z,h,uo,w,E);else{var B=w?w(Yr(i,z),T,z+"",i,u,E):g;B===g&&(B=T),El(i,z,B)}},Ln)}function Aa(i,u){var h=i.length;if(h)return Zr(u+=u<0?h:0,h)?i[u]:g}function Ol(i,u,h){u=u.length?Zt(u,function(T){return lt(T)?function(z){return Ao(z,T.length===1?T[0]:T)}:T}):[Dn];var w=-1;u=Zt(u,er(Ve()));var E=ec(i,function(T,z,B){var Z=Zt(u,function(Y){return Y(T)});return{criteria:Z,index:++w,value:T}});return function(T,z){var B=T.length;for(T.sort(z);B--;)T[B]=T[B].value;return T}(E,function(T,z){return function(B,Z,Y){for(var se=-1,me=B.criteria,Me=Z.criteria,Re=me.length,Xe=Y.length;++se<Re;){var ne=za(me[se],Me[se]);if(ne)return se>=Xe?ne:ne*(Y[se]=="desc"?-1:1)}return B.index-Z.index}(T,z,h)})}function tc(i,u,h){for(var w=-1,E=u.length,T={};++w<E;){var z=u[w],B=Ao(i,z);h(B,z)&&yn(T,po(z,i),B)}return T}function Il(i,u,h,w){var E=w?mf:Ci,T=-1,z=u.length,B=i;for(i===u&&(u=Fn(u)),h&&(B=Zt(i,er(h)));++T<z;)for(var Z=0,Y=u[T],se=h?h(Y):Y;(Z=E(B,se,Z,w))>-1;)B!==i&&wa.call(B,Z,1),wa.call(i,Z,1);return i}function Mu(i,u){for(var h=i?u.length:0,w=h-1;h--;){var E=u[h];if(h==w||E!==T){var T=E;Zr(E)?wa.call(i,E,1):li(i,E)}}return i}function Tl(i,u){return i+wl(Ys()*(u-i+1))}function La(i,u){var h="";if(!i||u<1||u>R)return h;do u%2&&(h+=i),(u=wl(u/2))&&(i+=i);while(u);return h}function rt(i,u){return Kl(Gu(i,u,Dn),i+"")}function nc(i){return ja(pi(i))}function rc(i,u){var h=pi(i);return di(h,oi(u,0,h.length))}function yn(i,u,h,w){if(!Jt(i))return i;for(var E=-1,T=(u=po(u,i)).length,z=T-1,B=i;B!=null&&++E<T;){var Z=Ar(u[E]),Y=h;if(Z==="__proto__"||Z==="constructor"||Z==="prototype")return i;if(E!=z){var se=B[Z];(Y=w?w(se,Z,B):g)===g&&(Y=Jt(se)?se:Zr(u[E+1])?[]:{})}ri(B,Z,Y),B=B[Z]}return i}var Lo=nr?function(i,u){return nr.set(i,u),i}:Dn,Ml=Mi?function(i,u){return Mi(i,"toString",{configurable:!0,enumerable:!1,value:tt(u),writable:!0})}:Dn;function Pu(i){return di(pi(i))}function Cn(i,u,h){var w=-1,E=i.length;u<0&&(u=-u>E?0:E+u),(h=h>E?E:h)<0&&(h+=E),E=u>h?0:h-u>>>0,u>>>=0;for(var T=_e(E);++w<E;)T[w]=i[w+u];return T}function xf(i,u){var h;return so(i,function(w,E,T){return!(h=u(w,E,T))}),!!h}function Da(i,u,h){var w=0,E=i==null?w:i.length;if(typeof u=="number"&&u==u&&E<=2147483647){for(;w<E;){var T=w+E>>>1,z=i[T];z!==null&&!ar(z)&&(h?z<=u:z<u)?w=T+1:E=T}return E}return Pl(i,u,Dn,h)}function Pl(i,u,h,w){var E=0,T=i==null?0:i.length;if(T===0)return 0;for(var z=(u=h(u))!=u,B=u===null,Z=ar(u),Y=u===g;E<T;){var se=wl((E+T)/2),me=h(i[se]),Me=me!==g,Re=me===null,Xe=me==me,ne=ar(me);if(z)var xe=w||Xe;else xe=Y?Xe&&(w||Me):B?Xe&&Me&&(w||!Re):Z?Xe&&Me&&!Re&&(w||!ne):!Re&&!ne&&(w?me<=u:me<u);xe?E=se+1:T=se}return _n(T,4294967294)}function oc(i,u){for(var h=-1,w=i.length,E=0,T=[];++h<w;){var z=i[h],B=u?u(z):z;if(!h||!Lr(B,Z)){var Z=B;T[E++]=z===0?0:z}}return T}function Ra(i){return typeof i=="number"?i:ar(i)?bn:+i}function or(i){if(typeof i=="string")return i;if(lt(i))return Zt(i,or)+"";if(ar(i))return _u?_u.call(i):"";var u=i+"";return u=="0"&&1/i==-1/0?"-0":u}function Vr(i,u,h){var w=-1,E=ga,T=i.length,z=!0,B=[],Z=B;if(h)z=!1,E=ml;else if(T>=200){var Y=u?null:wf(i);if(Y)return dn(Y);z=!1,E=va,Z=new gr}else Z=u?[]:B;e:for(;++w<T;){var se=i[w],me=u?u(se):se;if(se=h||se!==0?se:0,z&&me==me){for(var Me=Z.length;Me--;)if(Z[Me]===me)continue e;u&&Z.push(me),B.push(se)}else E(Z,me,h)||(Z!==B&&Z.push(me),B.push(se))}return B}function li(i,u){return(i=mo(i,u=po(u,i)))==null||delete i[Ar(xr(u))]}function Hi(i,u,h,w){return yn(i,u,h(Ao(i,u)),w)}function Al(i,u,h,w){for(var E=i.length,T=w?E:-1;(w?T--:++T<E)&&u(i[T],T,i););return h?Cn(i,w?0:T,w?T+1:E):Cn(i,w?T+1:0,w?E:T)}function si(i,u){var h=i;return h instanceof vt&&(h=h.value()),Ds(u,function(w,E){return E.func.apply(E.thisArg,Co([w],E.args))},h)}function fo(i,u,h){var w=i.length;if(w<2)return w?Vr(i[0]):[];for(var E=-1,T=_e(w);++E<w;)for(var z=i[E],B=-1;++B<w;)B!=E&&(T[E]=Bn(T[E]||z,i[B],u,h));return Vr(qt(T,1),u,h)}function Au(i,u,h){for(var w=-1,E=i.length,T=u.length,z={};++w<E;){var B=w<T?u[w]:g;h(z,i[w],B)}return z}function Ll(i){return Qt(i)?i:[]}function Pr(i){return typeof i=="function"?i:Dn}function po(i,u){return lt(i)?i:dc(i,u)?[i]:gc(Tt(i))}var Lu=rt;function On(i,u,h){var w=i.length;return h=h===g?w:h,!u&&h>=w?i:Cn(i,u,h)}var Du=yu||function(i){return wn.clearTimeout(i)};function ic(i,u){if(u)return i.slice();var h=i.length,w=hr?hr(h):new i.constructor(h);return i.copy(w),w}function ac(i){var u=new i.constructor(i.byteLength);return new Nn(u).set(new Nn(i)),u}function lc(i,u){var h=u?ac(i.buffer):i.buffer;return new i.constructor(h,i.byteOffset,i.length)}function za(i,u){if(i!==u){var h=i!==g,w=i===null,E=i==i,T=ar(i),z=u!==g,B=u===null,Z=u==u,Y=ar(u);if(!B&&!Y&&!T&&i>u||T&&z&&Z&&!B&&!Y||w&&z&&Z||!h&&Z||!E)return 1;if(!w&&!T&&!Y&&i<u||Y&&h&&E&&!w&&!T||B&&h&&E||!z&&E||!Z)return-1}return 0}function Ru(i,u,h,w){for(var E=-1,T=i.length,z=h.length,B=-1,Z=u.length,Y=ln(T-z,0),se=_e(Z+Y),me=!w;++B<Z;)se[B]=u[B];for(;++E<z;)(me||E<T)&&(se[h[E]]=i[E]);for(;Y--;)se[B++]=i[E++];return se}function Na(i,u,h,w){for(var E=-1,T=i.length,z=-1,B=h.length,Z=-1,Y=u.length,se=ln(T-B,0),me=_e(se+Y),Me=!w;++E<se;)me[E]=i[E];for(var Re=E;++Z<Y;)me[Re+Z]=u[Z];for(;++z<B;)(Me||E<T)&&(me[Re+h[z]]=i[E++]);return me}function Fn(i,u){var h=-1,w=i.length;for(u||(u=_e(w));++h<w;)u[h]=i[h];return u}function ir(i,u,h,w){var E=!h;h||(h={});for(var T=-1,z=u.length;++T<z;){var B=u[T],Z=w?w(h[B],i[B],B,h,i):g;Z===g&&(Z=i[B]),E?Tr(h,B,Z):ri(h,B,Z)}return h}function Ha(i,u){return function(h,w){var E=lt(h)?st:ju,T=u?u():{};return E(h,i,Ve(w,2),T)}}function ci(i){return rt(function(u,h){var w=-1,E=h.length,T=E>1?h[E-1]:g,z=E>2?h[2]:g;for(T=i.length>3&&typeof T=="function"?(E--,T):g,z&&An(h[0],h[1],z)&&(T=E<3?g:T,E=1),u=Nt(u);++w<E;){var B=h[w];B&&i(u,B,w,T)}return u})}function zu(i,u){return function(h,w){if(h==null)return h;if(!Xn(h))return i(h,w);for(var E=h.length,T=u?E:-1,z=Nt(h);(u?T--:++T<E)&&w(z[T],T,z)!==!1;);return h}}function Ba(i){return function(u,h,w){for(var E=-1,T=Nt(u),z=w(u),B=z.length;B--;){var Z=z[i?B:++E];if(h(T[Z],Z,T)===!1)break}return u}}function Nu(i){return function(u){var h=Ii(u=Tt(u))?on(u):g,w=h?h[0]:u.charAt(0),E=h?On(h,1).join(""):u.slice(1);return w[i]()+E}}function Bi(i){return function(u){return Ds(Lc(qn(u).replace(pa,"")),i,"")}}function Fi(i){return function(){var u=arguments;switch(u.length){case 0:return new i;case 1:return new i(u[0]);case 2:return new i(u[0],u[1]);case 3:return new i(u[0],u[1],u[2]);case 4:return new i(u[0],u[1],u[2],u[3]);case 5:return new i(u[0],u[1],u[2],u[3],u[4]);case 6:return new i(u[0],u[1],u[2],u[3],u[4],u[5]);case 7:return new i(u[0],u[1],u[2],u[3],u[4],u[5],u[6])}var h=ni(i.prototype),w=i.apply(h,u);return Jt(w)?w:h}}function Hu(i){return function(u,h,w){var E=Nt(u);if(!Xn(u)){var T=Ve(h,3);u=xn(u),h=function(B){return T(E[B],B,E)}}var z=i(u,h,w);return z>-1?E[T?u[z]:z]:g}}function Bu(i){return Gr(function(u){var h=u.length,w=h,E=rr.prototype.thru;for(i&&u.reverse();w--;){var T=u[w];if(typeof T!="function")throw new Zn(D);if(E&&!z&&Ua(T)=="wrapper")var z=new rr([],!0)}for(w=z?w:h;++w<h;){var B=Ua(T=u[w]),Z=B=="wrapper"?Bl(T):g;z=Z&&Wa(Z[0])&&Z[1]==424&&!Z[4].length&&Z[9]==1?z[Ua(Z[0])].apply(z,Z[3]):T.length==1&&Wa(T)?z[B]():z.thru(T)}return function(){var Y=arguments,se=Y[0];if(z&&Y.length==1&&lt(se))return z.plant(se).value();for(var me=0,Me=h?u[me].apply(this,Y):se;++me<h;)Me=u[me].call(this,Me);return Me}})}function Dl(i,u,h,w,E,T,z,B,Z,Y){var se=u&le,me=1&u,Me=2&u,Re=24&u,Xe=512&u,ne=Me?g:Fi(i);return function xe(){for(var ge=arguments.length,Te=_e(ge),Je=ge;Je--;)Te[Je]=arguments[Je];if(Re)var Be=Do(xe),bt=Ws(Te,Be);if(w&&(Te=Ru(Te,w,E,Re)),T&&(Te=Na(Te,T,z,Re)),ge-=bt,Re&&ge<Y){var Ke=jr(Te,Be);return Uu(i,u,Dl,xe.placeholder,h,Te,Ke,B,Z,Y-ge)}var $e=me?h:this,gn=Me?$e[i]:i;return ge=Te.length,B?Te=_f(Te,B):Xe&&ge>1&&Te.reverse(),se&&Z<ge&&(Te.length=Z),this&&this!==wn&&this instanceof xe&&(gn=ne||Fi(gn)),gn.apply($e,Te)}}function Fu(i,u){return function(h,w){return function(E,T,z,B){return Yn(E,function(Z,Y,se){T(B,z(Z),Y,se)}),B}(h,i,u(w),{})}}function Rl(i,u){return function(h,w){var E;if(h===g&&w===g)return u;if(h!==g&&(E=h),w!==g){if(E===g)return w;typeof h=="string"||typeof w=="string"?(h=or(h),w=or(w)):(h=Ra(h),w=Ra(w)),E=i(h,w)}return E}}function Ui(i){return Gr(function(u){return u=Zt(u,er(Ve())),rt(function(h){var w=this;return i(u,function(E){return Tn(E,w,h)})})})}function Ki(i,u){var h=(u=u===g?" ":or(u)).length;if(h<2)return h?La(u,i):u;var w=La(u,To(i/Ti(u)));return Ii(u)?On(on(w),0,i).join(""):w.slice(0,i)}function zl(i){return function(u,h,w){return w&&typeof w!="number"&&An(u,h,w)&&(h=w=g),u=qr(u),h===g?(h=u,u=0):h=qr(h),function(E,T,z,B){for(var Z=-1,Y=ln(To((T-E)/(z||1)),0),se=_e(Y);Y--;)se[B?Y:++Z]=E,E+=z;return se}(u,h,w=w===g?u<h?1:-1:qr(w),i)}}function Nl(i){return function(u,h){return typeof u=="string"&&typeof h=="string"||(u=wr(u),h=wr(h)),i(u,h)}}function Uu(i,u,h,w,E,T,z,B,Z,Y){var se=8&u;u|=se?C:He,4&(u&=~(se?He:C))||(u&=-4);var me=[i,u,E,se?T:g,se?z:g,se?g:T,se?g:z,B,Z,Y],Me=h.apply(g,me);return Wa(i)&&Zu(Me,me),Me.placeholder=w,mc(Me,i,u)}function Hl(i){var u=Sn[i];return function(h,w){if(h=wr(h),(w=w==null?0:_n(ct(w),292))&&_l(h)){var E=(Tt(h)+"e").split("e");return+((E=(Tt(u(E[0]+"e"+(+E[1]+w)))+"e").split("e"))[0]+"e"+(+E[1]-w))}return u(h)}}var wf=ti&&1/dn(new ti([,-0]))[1]==ht?function(i){return new ti(i)}:os;function Ku(i){return function(u){var h=Pn(u);return h==ft?$o(u):h==nn?Vs(u):function(w,E){return Zt(E,function(T){return[T,w[T]]})}(u,i(u))}}function ho(i,u,h,w,E,T,z,B){var Z=2&u;if(!Z&&typeof i!="function")throw new Zn(D);var Y=w?w.length:0;if(Y||(u&=-97,w=E=g),z=z===g?z:ln(ct(z),0),B=B===g?B:ct(B),Y-=E?E.length:0,u&He){var se=w,me=E;w=E=g}var Me=Z?g:Bl(i),Re=[i,u,h,w,E,se,me,T,z,B];if(Me&&function(ne,xe){var ge=ne[1],Te=xe[1],Je=ge|Te,Be=Je<131,bt=Te==le&&ge==8||Te==le&&ge==Fe&&ne[7].length<=xe[8]||Te==384&&xe[7].length<=xe[8]&&ge==8;if(!Be&&!bt)return ne;1&Te&&(ne[2]=xe[2],Je|=1&ge?0:4);var Ke=xe[3];if(Ke){var $e=ne[3];ne[3]=$e?Ru($e,Ke,xe[4]):Ke,ne[4]=$e?jr(ne[3],Q):xe[4]}(Ke=xe[5])&&($e=ne[5],ne[5]=$e?Na($e,Ke,xe[6]):Ke,ne[6]=$e?jr(ne[5],Q):xe[6]),(Ke=xe[7])&&(ne[7]=Ke),Te&le&&(ne[8]=ne[8]==null?xe[8]:_n(ne[8],xe[8])),ne[9]==null&&(ne[9]=xe[9]),ne[0]=xe[0],ne[1]=Je}(Re,Me),i=Re[0],u=Re[1],h=Re[2],w=Re[3],E=Re[4],!(B=Re[9]=Re[9]===g?Z?0:i.length:ln(Re[9]-Y,0))&&24&u&&(u&=-25),u&&u!=1)Xe=u==8||u==ee?function(ne,xe,ge){var Te=Fi(ne);return function Je(){for(var Be=arguments.length,bt=_e(Be),Ke=Be,$e=Do(Je);Ke--;)bt[Ke]=arguments[Ke];var gn=Be<3&&bt[0]!==$e&&bt[Be-1]!==$e?[]:jr(bt,$e);return(Be-=gn.length)<ge?Uu(ne,xe,Dl,Je.placeholder,g,bt,gn,g,g,ge-Be):Tn(this&&this!==wn&&this instanceof Je?Te:ne,this,bt)}}(i,u,B):u!=C&&u!=33||E.length?Dl.apply(g,Re):function(ne,xe,ge,Te){var Je=1&xe,Be=Fi(ne);return function bt(){for(var Ke=-1,$e=arguments.length,gn=-1,sr=Te.length,Rr=_e(sr+$e),vn=this&&this!==wn&&this instanceof bt?Be:ne;++gn<sr;)Rr[gn]=Te[gn];for(;$e--;)Rr[gn++]=arguments[++Ke];return Tn(vn,Je?ge:this,Rr)}}(i,u,h,w);else var Xe=function(ne,xe,ge){var Te=1&xe,Je=Fi(ne);return function Be(){return(this&&this!==wn&&this instanceof Be?Je:ne).apply(Te?ge:this,arguments)}}(i,u,h);return mc((Me?Lo:Zu)(Xe,Re),i,u)}function Wu(i,u,h,w){return i===g||Lr(i,Fr[h])&&!Ot.call(w,h)?u:i}function Vu(i,u,h,w,E,T){return Jt(i)&&Jt(u)&&(T.set(u,i),uo(i,u,g,Vu,T),T.delete(u)),i}function kf(i){return Za(i)?g:i}function sc(i,u,h,w,E,T){var z=1&h,B=i.length,Z=u.length;if(B!=Z&&!(z&&Z>B))return!1;var Y=T.get(i),se=T.get(u);if(Y&&se)return Y==u&&se==i;var me=-1,Me=!0,Re=2&h?new gr:g;for(T.set(i,u),T.set(u,i);++me<B;){var Xe=i[me],ne=u[me];if(w)var xe=z?w(ne,Xe,me,u,i,T):w(Xe,ne,me,i,u,T);if(xe!==g){if(xe)continue;Me=!1;break}if(Re){if(!Rs(u,function(ge,Te){if(!va(Re,Te)&&(Xe===ge||E(Xe,ge,h,w,T)))return Re.push(Te)})){Me=!1;break}}else if(Xe!==ne&&!E(Xe,ne,h,w,T)){Me=!1;break}}return T.delete(i),T.delete(u),Me}function Gr(i){return Kl(Gu(i,g,Xr),i+"")}function cc(i){return jn(i,xn,$t)}function Fa(i){return jn(i,Ln,Lt)}var Bl=nr?function(i){return nr.get(i)}:os;function Ua(i){for(var u=i.name+"",h=Ur[u],w=Ot.call(Ur,u)?h.length:0;w--;){var E=h[w],T=E.func;if(T==null||T==i)return E.name}return u}function Do(i){return(Ot.call(O,"placeholder")?O:i).placeholder}function Ve(){var i=O.iteratee||hi;return i=i===hi?Js:i,arguments.length?i(arguments[0],arguments[1]):i}function Fl(i,u){var h,w,E=i.__data__;return((w=typeof(h=u))=="string"||w=="number"||w=="symbol"||w=="boolean"?h!=="__proto__":h===null)?E[typeof u=="string"?"string":"hash"]:E.map}function Ul(i){for(var u=xn(i),h=u.length;h--;){var w=u[h],E=i[w];u[h]=[w,E,pc(E)]}return u}function Ro(i,u){var h=function(w,E){return w==null?g:w[E]}(i,u);return Iu(h)?h:g}var $t=kl?function(i){return i==null?[]:(i=Nt(i),En(kl(i),function(u){return bu.call(i,u)}))}:$r,Lt=kl?function(i){for(var u=[];i;)Co(u,$t(i)),i=Io(i);return u}:$r,Pn=Mn;function uc(i,u,h){for(var w=-1,E=(u=po(u,i)).length,T=!1;++w<E;){var z=Ar(u[w]);if(!(T=i!=null&&h(i,z)))break;i=i[z]}return T||++w!=E?T:!!(E=i==null?0:i.length)&&$l(E)&&Zr(z,E)&&(lt(i)||fi(i))}function zo(i){return typeof i.constructor!="function"||ui(i)?{}:ni(Io(i))}function Ka(i){return lt(i)||fi(i)||!!(Gs&&i&&i[Gs])}function Zr(i,u){var h=typeof i;return!!(u=u==null?R:u)&&(h=="number"||h!="symbol"&&ru.test(i))&&i>-1&&i%1==0&&i<u}function An(i,u,h){if(!Jt(h))return!1;var w=typeof u;return!!(w=="number"?Xn(h)&&Zr(u,h.length):w=="string"&&u in h)&&Lr(h[u],i)}function dc(i,u){if(lt(i))return!1;var h=typeof i;return!(h!="number"&&h!="symbol"&&h!="boolean"&&i!=null&&!ar(i))||qc.test(i)||!js.test(i)||u!=null&&i in Nt(u)}function Wa(i){var u=Ua(i),h=O[u];if(typeof h!="function"||!(u in vt.prototype))return!1;if(i===h)return!0;var w=Bl(h);return!!w&&i===w[0]}(ei&&Pn(new ei(new ArrayBuffer(1)))!=De||Mo&&Pn(new Mo)!=ft||Ai&&Pn(Ai.resolve())!=p||ti&&Pn(new ti)!=nn||Li&&Pn(new Li)!=F)&&(Pn=function(i){var u=Mn(i),h=u==S?i.constructor:g,w=h?No(h):"";if(w)switch(w){case Kr:return De;case wu:return ft;case Po:return p;case ku:return nn;case yf:return F}return u});var fc=ya?go:Rc;function ui(i){var u=i&&i.constructor;return i===(typeof u=="function"&&u.prototype||Fr)}function pc(i){return i==i&&!Jt(i)}function hc(i,u){return function(h){return h!=null&&h[i]===u&&(u!==g||i in Nt(h))}}function Gu(i,u,h){return u=ln(u===g?i.length-1:u,0),function(){for(var w=arguments,E=-1,T=ln(w.length-u,0),z=_e(T);++E<T;)z[E]=w[u+E];E=-1;for(var B=_e(u+1);++E<u;)B[E]=w[E];return B[u]=h(z),Tn(i,this,B)}}function mo(i,u){return u.length<2?i:Ao(i,Cn(u,0,-1))}function _f(i,u){for(var h=i.length,w=_n(u.length,h),E=Fn(i);w--;){var T=u[w];i[w]=Zr(T,h)?E[T]:g}return i}function Yr(i,u){if((u!=="constructor"||typeof i[u]!="function")&&u!="__proto__")return i[u]}var Zu=Yu(Lo),Va=bf||function(i,u){return wn.setTimeout(i,u)},Kl=Yu(Ml);function mc(i,u,h){var w=u+"";return Kl(i,function(E,T){var z=T.length;if(!z)return E;var B=z-1;return T[B]=(z>1?"& ":"")+T[B],T=T.join(z>2?", ":" "),E.replace(sl,`{
/* [wrapped with `+T+`] */
`)}(w,function(E,T){return Gn(Pe,function(z){var B="_."+z[0];T&z[1]&&!ga(E,B)&&E.push(B)}),E.sort()}(function(E){var T=E.match(sf);return T?T[1].split(cf):[]}(w),h)))}function Yu(i){var u=0,h=0;return function(){var w=xu(),E=16-(w-h);if(h=w,E>0){if(++u>=800)return arguments[0]}else u=0;return i.apply(g,arguments)}}function di(i,u){var h=-1,w=i.length,E=w-1;for(u=u===g?w:u;++h<u;){var T=Tl(h,E),z=i[T];i[T]=i[h],i[h]=z}return i.length=u,i}var gc=function(i){var u=Xl(i,function(w){return h.size===500&&h.clear(),w}),h=u.cache;return u}(function(i){var u=[];return i.charCodeAt(0)===46&&u.push(""),i.replace($c,function(h,w,E,T){u.push(E?T.replace(tu,"$1"):w||h)}),u});function Ar(i){if(typeof i=="string"||ar(i))return i;var u=i+"";return u=="0"&&1/i==-1/0?"-0":u}function No(i){if(i!=null){try{return yl.call(i)}catch(u){}try{return i+""}catch(u){}}return""}function Wl(i){if(i instanceof vt)return i.clone();var u=new rr(i.__wrapped__,i.__chain__);return u.__actions__=Fn(i.__actions__),u.__index__=i.__index__,u.__values__=i.__values__,u}var Xu=rt(function(i,u){return Qt(i)?Bn(i,qt(u,1,Qt,!0)):[]}),vc=rt(function(i,u){var h=xr(u);return Qt(h)&&(h=g),Qt(i)?Bn(i,qt(u,1,Qt,!0),Ve(h,2)):[]}),qu=rt(function(i,u){var h=xr(u);return Qt(h)&&(h=g),Qt(i)?Bn(i,qt(u,1,Qt,!0),g,h):[]});function bc(i,u,h){var w=i==null?0:i.length;if(!w)return-1;var E=h==null?0:ct(h);return E<0&&(E=ln(w+E,0)),vl(i,Ve(u,3),E)}function Wi(i,u,h){var w=i==null?0:i.length;if(!w)return-1;var E=w-1;return h!==g&&(E=ct(h),E=h<0?ln(w+E,0):_n(E,w-1)),vl(i,Ve(u,3),E,!0)}function Xr(i){return i!=null&&i.length?qt(i,1):[]}function $u(i){return i&&i.length?i[0]:g}var Ef=rt(function(i){var u=Zt(i,Ll);return u.length&&u[0]===i[0]?yr(u):[]}),Qu=rt(function(i){var u=xr(i),h=Zt(i,Ll);return u===xr(h)?u=g:h.pop(),h.length&&h[0]===i[0]?yr(h,Ve(u,2)):[]}),Ju=rt(function(i){var u=xr(i),h=Zt(i,Ll);return(u=typeof u=="function"?u:g)&&h.pop(),h.length&&h[0]===i[0]?yr(h,g,u):[]});function xr(i){var u=i==null?0:i.length;return u?i[u-1]:g}var ed=rt(td);function td(i,u){return i&&i.length&&u&&u.length?Il(i,u):i}var Sf=Gr(function(i,u){var h=i==null?0:i.length,w=jl(i,u);return Mu(i,Zt(u,function(E){return Zr(E,h)?+E:E}).sort(za)),w});function Vl(i){return i==null?i:Xs.call(i)}var nd=rt(function(i){return Vr(qt(i,1,Qt,!0))}),Ho=rt(function(i){var u=xr(i);return Qt(u)&&(u=g),Vr(qt(i,1,Qt,!0),Ve(u,2))}),yc=rt(function(i){var u=xr(i);return u=typeof u=="function"?u:g,Vr(qt(i,1,Qt,!0),g,u)});function Gl(i){if(!i||!i.length)return[];var u=0;return i=En(i,function(h){if(Qt(h))return u=ln(h.length,u),!0}),Fs(u,function(h){return Zt(i,bl(h))})}function Vi(i,u){if(!i||!i.length)return[];var h=Gl(i);return u==null?h:Zt(h,function(w){return Tn(u,g,w)})}var jf=rt(function(i,u){return Qt(i)?Bn(i,u):[]}),rd=rt(function(i){return fo(En(i,Qt))}),xc=rt(function(i){var u=xr(i);return Qt(u)&&(u=g),fo(En(i,Qt),Ve(u,2))}),od=rt(function(i){var u=xr(i);return u=typeof u=="function"?u:g,fo(En(i,Qt),g,u)}),id=rt(Gl),Cf=rt(function(i){var u=i.length,h=u>1?i[u-1]:g;return h=typeof h=="function"?(i.pop(),h):g,Vi(i,h)});function wc(i){var u=O(i);return u.__chain__=!0,u}function Ht(i,u){return u(i)}var ad=Gr(function(i){var u=i.length,h=u?i[0]:0,w=this.__wrapped__,E=function(T){return jl(T,i)};return!(u>1||this.__actions__.length)&&w instanceof vt&&Zr(h)?((w=w.slice(h,+h+(u?1:0))).__actions__.push({func:Ht,args:[E],thisArg:g}),new rr(w,this.__chain__).thru(function(T){return u&&!T.length&&T.push(g),T})):this.thru(E)}),Ce=Ha(function(i,u,h){Ot.call(i,h)?++i[h]:Tr(i,h,1)}),Of=Hu(bc),ld=Hu(Wi);function sd(i,u){return(lt(i)?Gn:so)(i,Ve(u,3))}function cd(i,u){return(lt(i)?jo:Ri)(i,Ve(u,3))}var ud=Ha(function(i,u,h){Ot.call(i,h)?i[h].push(u):Tr(i,h,[u])}),If=rt(function(i,u,h){var w=-1,E=typeof u=="function",T=Xn(i)?_e(i.length):[];return so(i,function(z){T[++w]=E?Tn(u,z,h):co(z,u,h)}),T}),Zl=Ha(function(i,u,h){Tr(i,h,u)});function Yl(i,u){return(lt(i)?Zt:ec)(i,Ve(u,3))}var Tf=Ha(function(i,u,h){i[h?0:1].push(u)},function(){return[[],[]]}),Mf=rt(function(i,u){if(i==null)return[];var h=u.length;return h>1&&An(i,u[0],u[1])?u=[]:h>2&&An(u[0],u[1],u[2])&&(u=[u[0]]),Ol(i,qt(u,1),[])}),Ga=Pi||function(){return wn.Date.now()};function dd(i,u,h){return u=h?g:u,u=i&&u==null?i.length:u,ho(i,le,g,g,g,g,u)}function fd(i,u){var h;if(typeof u!="function")throw new Zn(D);return i=ct(i),function(){return--i>0&&(h=u.apply(this,arguments)),i<=1&&(u=g),h}}var kc=rt(function(i,u,h){var w=1;if(h.length){var E=jr(h,Do(kc));w|=C}return ho(i,w,u,h,E)}),pd=rt(function(i,u,h){var w=3;if(h.length){var E=jr(h,Do(pd));w|=C}return ho(u,w,i,h,E)});function hd(i,u,h){var w,E,T,z,B,Z,Y=0,se=!1,me=!1,Me=!0;if(typeof i!="function")throw new Zn(D);function Re(Je){var Be=w,bt=E;return w=E=g,Y=Je,z=i.apply(bt,Be)}function Xe(Je){return Y=Je,B=Va(xe,u),se?Re(Je):z}function ne(Je){var Be=Je-Z;return Z===g||Be>=u||Be<0||me&&Je-Y>=T}function xe(){var Je=Ga();if(ne(Je))return ge(Je);B=Va(xe,function(Be){var bt=u-(Be-Z);return me?_n(bt,T-(Be-Y)):bt}(Je))}function ge(Je){return B=g,Me&&w?Re(Je):(w=E=g,z)}function Te(){var Je=Ga(),Be=ne(Je);if(w=arguments,E=this,Z=Je,Be){if(B===g)return Xe(Z);if(me)return Du(B),B=Va(xe,u),Re(Z)}return B===g&&(B=Va(xe,u)),z}return u=wr(u)||0,Jt(h)&&(se=!!h.leading,T=(me="maxWait"in h)?ln(wr(h.maxWait)||0,u):T,Me="trailing"in h?!!h.trailing:Me),Te.cancel=function(){B!==g&&Du(B),Y=0,w=Z=E=B=g},Te.flush=function(){return B===g?z:ge(Ga())},Te}var Pf=rt(function(i,u){return ii(i,1,u)}),md=rt(function(i,u,h){return ii(i,wr(u)||0,h)});function Xl(i,u){if(typeof i!="function"||u!=null&&typeof u!="function")throw new Zn(D);var h=function(){var w=arguments,E=u?u.apply(this,w):w[0],T=h.cache;if(T.has(E))return T.get(E);var z=i.apply(this,w);return h.cache=T.set(E,z)||T,z};return h.cache=new(Xl.Cache||fn),h}function ql(i){if(typeof i!="function")throw new Zn(D);return function(){var u=arguments;switch(u.length){case 0:return!i.call(this);case 1:return!i.call(this,u[0]);case 2:return!i.call(this,u[0],u[1]);case 3:return!i.call(this,u[0],u[1],u[2])}return!i.apply(this,u)}}Xl.Cache=fn;var Af=Lu(function(i,u){var h=(u=u.length==1&&lt(u[0])?Zt(u[0],er(Ve())):Zt(qt(u,1),er(Ve()))).length;return rt(function(w){for(var E=-1,T=_n(w.length,h);++E<T;)w[E]=u[E].call(this,w[E]);return Tn(i,this,w)})}),_c=rt(function(i,u){var h=jr(u,Do(_c));return ho(i,C,g,u,h)}),gd=rt(function(i,u){var h=jr(u,Do(gd));return ho(i,He,g,u,h)}),Lf=Gr(function(i,u){return ho(i,Fe,g,g,g,u)});function Lr(i,u){return i===u||i!=i&&u!=u}var Df=Nl(Ta),Rf=Nl(function(i,u){return i>=u}),fi=Wr(function(){return arguments}())?Wr:function(i){return sn(i)&&Ot.call(i,"callee")&&!bu.call(i,"callee")},lt=_e.isArray,zf=uu?er(uu):function(i){return sn(i)&&Mn(i)==de};function Xn(i){return i!=null&&$l(i.length)&&!go(i)}function Qt(i){return sn(i)&&Xn(i)}var Bo=Zs||Rc,Nf=du?er(du):function(i){return sn(i)&&Mn(i)==qe};function Ec(i){if(!sn(i))return!1;var u=Mn(i);return u==Qe||u=="[object DOMException]"||typeof i.message=="string"&&typeof i.name=="string"&&!Za(i)}function go(i){if(!Jt(i))return!1;var u=Mn(i);return u==nt||u==Gt||u=="[object AsyncFunction]"||u=="[object Proxy]"}function vd(i){return typeof i=="number"&&i==ct(i)}function $l(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=R}function Jt(i){var u=typeof i;return i!=null&&(u=="object"||u=="function")}function sn(i){return i!=null&&typeof i=="object"}var Ql=Si?er(Si):function(i){return sn(i)&&Pn(i)==ft};function bd(i){return typeof i=="number"||sn(i)&&Mn(i)==Pt}function Za(i){if(!sn(i)||Mn(i)!=S)return!1;var u=Io(i);if(u===null)return!0;var h=Ot.call(u,"constructor")&&u.constructor;return typeof h=="function"&&h instanceof h&&yl.call(h)==mu}var Sc=hn?er(hn):function(i){return sn(i)&&Mn(i)==zn},yd=qo?er(qo):function(i){return sn(i)&&Pn(i)==nn};function Jl(i){return typeof i=="string"||!lt(i)&&sn(i)&&Mn(i)==Wt}function ar(i){return typeof i=="symbol"||sn(i)&&Mn(i)==fe}var Gi=Ls?er(Ls):function(i){return sn(i)&&$l(i.length)&&!!Ft[Mn(i)]},Hf=Nl(Ni),xd=Nl(function(i,u){return i<=u});function jc(i){if(!i)return[];if(Xn(i))return Jl(i)?on(i):Fn(i);if(ka&&i[ka])return function(h){for(var w,E=[];!(w=h.next()).done;)E.push(w.value);return E}(i[ka]());var u=Pn(i);return(u==ft?$o:u==nn?dn:pi)(i)}function qr(i){return i?(i=wr(i))===ht||i===-1/0?17976931348623157e292*(i<0?-1:1):i==i?i:0:i===0?i:0}function ct(i){var u=qr(i),h=u%1;return u==u?h?u-h:u:0}function Cc(i){return i?oi(ct(i),0,$):0}function wr(i){if(typeof i=="number")return i;if(ar(i))return bn;if(Jt(i)){var u=typeof i.valueOf=="function"?i.valueOf():i;i=Jt(u)?u+"":u}if(typeof i!="string")return i===0?i:+i;i=Us(i);var h=ul.test(i);return h||no.test(i)?pr(i.slice(2),h?2:8):nu.test(i)?bn:+i}function wd(i){return ir(i,Ln(i))}function Tt(i){return i==null?"":or(i)}var Bf=ci(function(i,u){if(ui(u)||Xn(u))ir(u,xn(u),i);else for(var h in u)Ot.call(u,h)&&ri(i,h,u[h])}),kd=ci(function(i,u){ir(u,Ln(u),i)}),es=ci(function(i,u,h,w){ir(u,Ln(u),i,w)}),Ff=ci(function(i,u,h,w){ir(u,xn(u),i,w)}),Uf=Gr(jl),Kf=rt(function(i,u){i=Nt(i);var h=-1,w=u.length,E=w>2?u[2]:g;for(E&&An(u[0],u[1],E)&&(w=1);++h<w;)for(var T=u[h],z=Ln(T),B=-1,Z=z.length;++B<Z;){var Y=z[B],se=i[Y];(se===g||Lr(se,Fr[Y])&&!Ot.call(i,Y))&&(i[Y]=T[Y])}return i}),Wf=rt(function(i){return i.push(g,Vu),Tn(Ya,g,i)});function Oc(i,u,h){var w=i==null?g:Ao(i,u);return w===g?h:w}function Ic(i,u){return i!=null&&uc(i,u,zi)}var Zi=Fu(function(i,u,h){u!=null&&typeof u.toString!="function"&&(u=xl.call(u)),i[u]=h},tt(Dn)),Tc=Fu(function(i,u,h){u!=null&&typeof u.toString!="function"&&(u=xl.call(u)),Ot.call(i,u)?i[u].push(h):i[u]=[h]},Ve),_d=rt(co);function xn(i){return Xn(i)?vr(i):Mr(i)}function Ln(i){return Xn(i)?vr(i,!0):Pa(i)}var Ed=ci(function(i,u,h){uo(i,u,h)}),Ya=ci(function(i,u,h,w){uo(i,u,h,w)}),Vf=Gr(function(i,u){var h={};if(i==null)return h;var w=!1;u=Zt(u,function(T){return T=po(T,i),w||(w=T.length>1),T}),ir(i,Fa(i),h),w&&(h=br(h,7,kf));for(var E=u.length;E--;)li(h,u[E]);return h}),Gf=Gr(function(i,u){return i==null?{}:function(h,w){return tc(h,w,function(E,T){return Ic(h,T)})}(i,u)});function Mc(i,u){if(i==null)return{};var h=Zt(Fa(i),function(w){return[w]});return u=Ve(u),tc(i,h,function(w,E){return u(w,E[0])})}var ts=Ku(xn),Ie=Ku(Ln);function pi(i){return i==null?[]:Ks(i,xn(i))}var Rt=Bi(function(i,u,h){return u=u.toLowerCase(),i+(h?lr(u):u)});function lr(i){return rs(Tt(i).toLowerCase())}function qn(i){return(i=Tt(i))&&i.replace(ou,ba).replace(pl,"")}var Pc=Bi(function(i,u,h){return i+(h?"-":"")+u.toLowerCase()}),Sd=Bi(function(i,u,h){return i+(h?" ":"")+u.toLowerCase()}),jd=Nu("toLowerCase"),Zf=Bi(function(i,u,h){return i+(h?"_":"")+u.toLowerCase()}),Ac=Bi(function(i,u,h){return i+(h?" ":"")+rs(u)}),ns=Bi(function(i,u,h){return i+(h?" ":"")+u.toUpperCase()}),rs=Nu("toUpperCase");function Lc(i,u,h){return i=Tt(i),(u=h?g:u)===g?function(w){return Ps.test(w)}(i)?function(w){return w.match(gt)||[]}(i):function(w){return w.match(eu)||[]}(i):i.match(u)||[]}var Dc=rt(function(i,u){try{return Tn(i,g,u)}catch(h){return Ec(h)?h:new _t(h)}}),Cd=Gr(function(i,u){return Gn(u,function(h){h=Ar(h),Tr(i,h,kc(i[h],i))}),i});function tt(i){return function(){return i}}var Od=Bu(),Id=Bu(!0);function Dn(i){return i}function hi(i){return Js(typeof i=="function"?i:br(i,1))}var Yi=rt(function(i,u){return function(h){return co(h,i,u)}}),Xi=rt(function(i,u){return function(h){return co(i,h,u)}});function mi(i,u,h){var w=xn(u),E=Ia(u,w);h!=null||Jt(u)&&(E.length||!w.length)||(h=u,u=i,i=this,E=Ia(u,xn(u)));var T=!(Jt(h)&&"chain"in h&&!h.chain),z=go(i);return Gn(E,function(B){var Z=u[B];i[B]=Z,z&&(i.prototype[B]=function(){var Y=this.__chain__;if(T||Y){var se=i(this.__wrapped__),me=se.__actions__=Fn(this.__actions__);return me.push({func:Z,args:arguments,thisArg:i}),se.__chain__=Y,se}return Z.apply(i,Co([this.value()],arguments))})}),i}function os(){}var is=Ui(Zt),Td=Ui(ro),Yf=Ui(Rs);function Dr(i){return dc(i)?bl(Ar(i)):function(u){return function(h){return Ao(h,u)}}(i)}var Xf=zl(),qf=zl(!0);function $r(){return[]}function Rc(){return!1}var Md=Rl(function(i,u){return i+u},0),Pd=Hl("ceil"),Ad=Rl(function(i,u){return i/u},1),$f=Hl("floor"),as,Un=Rl(function(i,u){return i*u},1),Ld=Hl("round"),Dd=Rl(function(i,u){return i-u},0);return O.after=function(i,u){if(typeof u!="function")throw new Zn(D);return i=ct(i),function(){if(--i<1)return u.apply(this,arguments)}},O.ary=dd,O.assign=Bf,O.assignIn=kd,O.assignInWith=es,O.assignWith=Ff,O.at=Uf,O.before=fd,O.bind=kc,O.bindAll=Cd,O.bindKey=pd,O.castArray=function(){if(!arguments.length)return[];var i=arguments[0];return lt(i)?i:[i]},O.chain=wc,O.chunk=function(i,u,h){u=(h?An(i,u,h):u===g)?1:ln(ct(u),0);var w=i==null?0:i.length;if(!w||u<1)return[];for(var E=0,T=0,z=_e(To(w/u));E<w;)z[T++]=Cn(i,E,E+=u);return z},O.compact=function(i){for(var u=-1,h=i==null?0:i.length,w=0,E=[];++u<h;){var T=i[u];T&&(E[w++]=T)}return E},O.concat=function(){var i=arguments.length;if(!i)return[];for(var u=_e(i-1),h=arguments[0],w=i;w--;)u[w-1]=arguments[w];return Co(lt(h)?Fn(h):[h],qt(u,1))},O.cond=function(i){var u=i==null?0:i.length,h=Ve();return i=u?Zt(i,function(w){if(typeof w[1]!="function")throw new Zn(D);return[h(w[0]),w[1]]}):[],rt(function(w){for(var E=-1;++E<u;){var T=i[E];if(Tn(T[0],this,w))return Tn(T[1],this,w)}})},O.conforms=function(i){return function(u){var h=xn(u);return function(w){return Cu(w,u,h)}}(br(i,1))},O.constant=tt,O.countBy=Ce,O.create=function(i,u){var h=ni(i);return u==null?h:qs(h,u)},O.curry=function i(u,h,w){var E=ho(u,8,g,g,g,g,g,h=w?g:h);return E.placeholder=i.placeholder,E},O.curryRight=function i(u,h,w){var E=ho(u,ee,g,g,g,g,g,h=w?g:h);return E.placeholder=i.placeholder,E},O.debounce=hd,O.defaults=Kf,O.defaultsDeep=Wf,O.defer=Pf,O.delay=md,O.difference=Xu,O.differenceBy=vc,O.differenceWith=qu,O.drop=function(i,u,h){var w=i==null?0:i.length;return w?Cn(i,(u=h||u===g?1:ct(u))<0?0:u,w):[]},O.dropRight=function(i,u,h){var w=i==null?0:i.length;return w?Cn(i,0,(u=w-(u=h||u===g?1:ct(u)))<0?0:u):[]},O.dropRightWhile=function(i,u){return i&&i.length?Al(i,Ve(u,3),!0,!0):[]},O.dropWhile=function(i,u){return i&&i.length?Al(i,Ve(u,3),!0):[]},O.fill=function(i,u,h,w){var E=i==null?0:i.length;return E?(h&&typeof h!="number"&&An(i,u,h)&&(h=0,w=E),function(T,z,B,Z){var Y=T.length;for((B=ct(B))<0&&(B=-B>Y?0:Y+B),(Z=Z===g||Z>Y?Y:ct(Z))<0&&(Z+=Y),Z=B>Z?0:Cc(Z);B<Z;)T[B++]=z;return T}(i,u,h,w)):[]},O.filter=function(i,u){return(lt(i)?En:Ca)(i,Ve(u,3))},O.flatMap=function(i,u){return qt(Yl(i,u),1)},O.flatMapDeep=function(i,u){return qt(Yl(i,u),ht)},O.flatMapDepth=function(i,u,h){return h=h===g?1:ct(h),qt(Yl(i,u),h)},O.flatten=Xr,O.flattenDeep=function(i){return i!=null&&i.length?qt(i,ht):[]},O.flattenDepth=function(i,u){return i!=null&&i.length?qt(i,u=u===g?1:ct(u)):[]},O.flip=function(i){return ho(i,512)},O.flow=Od,O.flowRight=Id,O.fromPairs=function(i){for(var u=-1,h=i==null?0:i.length,w={};++u<h;){var E=i[u];w[E[0]]=E[1]}return w},O.functions=function(i){return i==null?[]:Ia(i,xn(i))},O.functionsIn=function(i){return i==null?[]:Ia(i,Ln(i))},O.groupBy=ud,O.initial=function(i){return i!=null&&i.length?Cn(i,0,-1):[]},O.intersection=Ef,O.intersectionBy=Qu,O.intersectionWith=Ju,O.invert=Zi,O.invertBy=Tc,O.invokeMap=If,O.iteratee=hi,O.keyBy=Zl,O.keys=xn,O.keysIn=Ln,O.map=Yl,O.mapKeys=function(i,u){var h={};return u=Ve(u,3),Yn(i,function(w,E,T){Tr(h,u(w,E,T),w)}),h},O.mapValues=function(i,u){var h={};return u=Ve(u,3),Yn(i,function(w,E,T){Tr(h,E,u(w,E,T))}),h},O.matches=function(i){return ai(br(i,1))},O.matchesProperty=function(i,u){return Tu(i,br(u,1))},O.memoize=Xl,O.merge=Ed,O.mergeWith=Ya,O.method=Yi,O.methodOf=Xi,O.mixin=mi,O.negate=ql,O.nthArg=function(i){return i=ct(i),rt(function(u){return Aa(u,i)})},O.omit=Vf,O.omitBy=function(i,u){return Mc(i,ql(Ve(u)))},O.once=function(i){return fd(2,i)},O.orderBy=function(i,u,h,w){return i==null?[]:(lt(u)||(u=u==null?[]:[u]),lt(h=w?g:h)||(h=h==null?[]:[h]),Ol(i,u,h))},O.over=is,O.overArgs=Af,O.overEvery=Td,O.overSome=Yf,O.partial=_c,O.partialRight=gd,O.partition=Tf,O.pick=Gf,O.pickBy=Mc,O.property=Dr,O.propertyOf=function(i){return function(u){return i==null?g:Ao(i,u)}},O.pull=ed,O.pullAll=td,O.pullAllBy=function(i,u,h){return i&&i.length&&u&&u.length?Il(i,u,Ve(h,2)):i},O.pullAllWith=function(i,u,h){return i&&i.length&&u&&u.length?Il(i,u,g,h):i},O.pullAt=Sf,O.range=Xf,O.rangeRight=qf,O.rearg=Lf,O.reject=function(i,u){return(lt(i)?En:Ca)(i,ql(Ve(u,3)))},O.remove=function(i,u){var h=[];if(!i||!i.length)return h;var w=-1,E=[],T=i.length;for(u=Ve(u,3);++w<T;){var z=i[w];u(z,w,i)&&(h.push(z),E.push(w))}return Mu(i,E),h},O.rest=function(i,u){if(typeof i!="function")throw new Zn(D);return rt(i,u=u===g?u:ct(u))},O.reverse=Vl,O.sampleSize=function(i,u,h){return u=(h?An(i,u,h):u===g)?1:ct(u),(lt(i)?Eu:rc)(i,u)},O.set=function(i,u,h){return i==null?i:yn(i,u,h)},O.setWith=function(i,u,h,w){return w=typeof w=="function"?w:g,i==null?i:yn(i,u,h,w)},O.shuffle=function(i){return(lt(i)?Su:Pu)(i)},O.slice=function(i,u,h){var w=i==null?0:i.length;return w?(h&&typeof h!="number"&&An(i,u,h)?(u=0,h=w):(u=u==null?0:ct(u),h=h===g?w:ct(h)),Cn(i,u,h)):[]},O.sortBy=Mf,O.sortedUniq=function(i){return i&&i.length?oc(i):[]},O.sortedUniqBy=function(i,u){return i&&i.length?oc(i,Ve(u,2)):[]},O.split=function(i,u,h){return h&&typeof h!="number"&&An(i,u,h)&&(u=h=g),(h=h===g?$:h>>>0)?(i=Tt(i))&&(typeof u=="string"||u!=null&&!Sc(u))&&!(u=or(u))&&Ii(i)?On(on(i),0,h):i.split(u,h):[]},O.spread=function(i,u){if(typeof i!="function")throw new Zn(D);return u=u==null?0:ln(ct(u),0),rt(function(h){var w=h[u],E=On(h,0,u);return w&&Co(E,w),Tn(i,this,E)})},O.tail=function(i){var u=i==null?0:i.length;return u?Cn(i,1,u):[]},O.take=function(i,u,h){return i&&i.length?Cn(i,0,(u=h||u===g?1:ct(u))<0?0:u):[]},O.takeRight=function(i,u,h){var w=i==null?0:i.length;return w?Cn(i,(u=w-(u=h||u===g?1:ct(u)))<0?0:u,w):[]},O.takeRightWhile=function(i,u){return i&&i.length?Al(i,Ve(u,3),!1,!0):[]},O.takeWhile=function(i,u){return i&&i.length?Al(i,Ve(u,3)):[]},O.tap=function(i,u){return u(i),i},O.throttle=function(i,u,h){var w=!0,E=!0;if(typeof i!="function")throw new Zn(D);return Jt(h)&&(w="leading"in h?!!h.leading:w,E="trailing"in h?!!h.trailing:E),hd(i,u,{leading:w,maxWait:u,trailing:E})},O.thru=Ht,O.toArray=jc,O.toPairs=ts,O.toPairsIn=Ie,O.toPath=function(i){return lt(i)?Zt(i,Ar):ar(i)?[i]:Fn(gc(Tt(i)))},O.toPlainObject=wd,O.transform=function(i,u,h){var w=lt(i),E=w||Bo(i)||Gi(i);if(u=Ve(u,4),h==null){var T=i&&i.constructor;h=E?w?new T:[]:Jt(i)&&go(T)?ni(Io(i)):{}}return(E?Gn:Yn)(i,function(z,B,Z){return u(h,z,B,Z)}),h},O.unary=function(i){return dd(i,1)},O.union=nd,O.unionBy=Ho,O.unionWith=yc,O.uniq=function(i){return i&&i.length?Vr(i):[]},O.uniqBy=function(i,u){return i&&i.length?Vr(i,Ve(u,2)):[]},O.uniqWith=function(i,u){return u=typeof u=="function"?u:g,i&&i.length?Vr(i,g,u):[]},O.unset=function(i,u){return i==null||li(i,u)},O.unzip=Gl,O.unzipWith=Vi,O.update=function(i,u,h){return i==null?i:Hi(i,u,Pr(h))},O.updateWith=function(i,u,h,w){return w=typeof w=="function"?w:g,i==null?i:Hi(i,u,Pr(h),w)},O.values=pi,O.valuesIn=function(i){return i==null?[]:Ks(i,Ln(i))},O.without=jf,O.words=Lc,O.wrap=function(i,u){return _c(Pr(u),i)},O.xor=rd,O.xorBy=xc,O.xorWith=od,O.zip=id,O.zipObject=function(i,u){return Au(i||[],u||[],ri)},O.zipObjectDeep=function(i,u){return Au(i||[],u||[],yn)},O.zipWith=Cf,O.entries=ts,O.entriesIn=Ie,O.extend=kd,O.extendWith=es,mi(O,O),O.add=Md,O.attempt=Dc,O.camelCase=Rt,O.capitalize=lr,O.ceil=Pd,O.clamp=function(i,u,h){return h===g&&(h=u,u=g),h!==g&&(h=(h=wr(h))==h?h:0),u!==g&&(u=(u=wr(u))==u?u:0),oi(wr(i),u,h)},O.clone=function(i){return br(i,4)},O.cloneDeep=function(i){return br(i,5)},O.cloneDeepWith=function(i,u){return br(i,5,u=typeof u=="function"?u:g)},O.cloneWith=function(i,u){return br(i,4,u=typeof u=="function"?u:g)},O.conformsTo=function(i,u){return u==null||Cu(i,u,xn(u))},O.deburr=qn,O.defaultTo=function(i,u){return i==null||i!=i?u:i},O.divide=Ad,O.endsWith=function(i,u,h){i=Tt(i),u=or(u);var w=i.length,E=h=h===g?w:oi(ct(h),0,w);return(h-=u.length)>=0&&i.slice(h,E)==u},O.eq=Lr,O.escape=function(i){return(i=Tt(i))&&In.test(i)?i.replace(il,pu):i},O.escapeRegExp=function(i){return(i=Tt(i))&&Qc.test(i)?i.replace(Go,"\\$&"):i},O.every=function(i,u,h){var w=lt(i)?ro:je;return h&&An(i,u,h)&&(u=g),w(i,Ve(u,3))},O.find=Of,O.findIndex=bc,O.findKey=function(i,u){return ji(i,Ve(u,3),Yn)},O.findLast=ld,O.findLastIndex=Wi,O.findLastKey=function(i,u){return ji(i,Ve(u,3),Qs)},O.floor=$f,O.forEach=sd,O.forEachRight=cd,O.forIn=function(i,u){return i==null?i:Oa(i,Ve(u,3),Ln)},O.forInRight=function(i,u){return i==null?i:$s(i,Ve(u,3),Ln)},O.forOwn=function(i,u){return i&&Yn(i,Ve(u,3))},O.forOwnRight=function(i,u){return i&&Qs(i,Ve(u,3))},O.get=Oc,O.gt=Df,O.gte=Rf,O.has=function(i,u){return i!=null&&uc(i,u,Ou)},O.hasIn=Ic,O.head=$u,O.identity=Dn,O.includes=function(i,u,h,w){i=Xn(i)?i:pi(i),h=h&&!w?ct(h):0;var E=i.length;return h<0&&(h=ln(E+h,0)),Jl(i)?h<=E&&i.indexOf(u,h)>-1:!!E&&Ci(i,u,h)>-1},O.indexOf=function(i,u,h){var w=i==null?0:i.length;if(!w)return-1;var E=h==null?0:ct(h);return E<0&&(E=ln(w+E,0)),Ci(i,u,E)},O.inRange=function(i,u,h){return u=qr(u),h===g?(h=u,u=0):h=qr(h),function(w,E,T){return w>=_n(E,T)&&w<ln(E,T)}(i=wr(i),u,h)},O.invoke=_d,O.isArguments=fi,O.isArray=lt,O.isArrayBuffer=zf,O.isArrayLike=Xn,O.isArrayLikeObject=Qt,O.isBoolean=function(i){return i===!0||i===!1||sn(i)&&Mn(i)==Ae},O.isBuffer=Bo,O.isDate=Nf,O.isElement=function(i){return sn(i)&&i.nodeType===1&&!Za(i)},O.isEmpty=function(i){if(i==null)return!0;if(Xn(i)&&(lt(i)||typeof i=="string"||typeof i.splice=="function"||Bo(i)||Gi(i)||fi(i)))return!i.length;var u=Pn(i);if(u==ft||u==nn)return!i.size;if(ui(i))return!Mr(i).length;for(var h in i)if(Ot.call(i,h))return!1;return!0},O.isEqual=function(i,u){return Ma(i,u)},O.isEqualWith=function(i,u,h){var w=(h=typeof h=="function"?h:g)?h(i,u):g;return w===g?Ma(i,u,g,h):!!w},O.isError=Ec,O.isFinite=function(i){return typeof i=="number"&&_l(i)},O.isFunction=go,O.isInteger=vd,O.isLength=$l,O.isMap=Ql,O.isMatch=function(i,u){return i===u||Cl(i,u,Ul(u))},O.isMatchWith=function(i,u,h){return h=typeof h=="function"?h:g,Cl(i,u,Ul(u),h)},O.isNaN=function(i){return bd(i)&&i!=+i},O.isNative=function(i){if(fc(i))throw new _t("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Iu(i)},O.isNil=function(i){return i==null},O.isNull=function(i){return i===null},O.isNumber=bd,O.isObject=Jt,O.isObjectLike=sn,O.isPlainObject=Za,O.isRegExp=Sc,O.isSafeInteger=function(i){return vd(i)&&i>=-9007199254740991&&i<=R},O.isSet=yd,O.isString=Jl,O.isSymbol=ar,O.isTypedArray=Gi,O.isUndefined=function(i){return i===g},O.isWeakMap=function(i){return sn(i)&&Pn(i)==F},O.isWeakSet=function(i){return sn(i)&&Mn(i)=="[object WeakSet]"},O.join=function(i,u){return i==null?"":Jo.call(i,u)},O.kebabCase=Pc,O.last=xr,O.lastIndexOf=function(i,u,h){var w=i==null?0:i.length;if(!w)return-1;var E=w;return h!==g&&(E=(E=ct(h))<0?ln(w+E,0):_n(E,w-1)),u==u?function(T,z,B){for(var Z=B+1;Z--;)if(T[Z]===z)return Z;return Z}(i,u,E):vl(i,zs,E,!0)},O.lowerCase=Sd,O.lowerFirst=jd,O.lt=Hf,O.lte=xd,O.max=function(i){return i&&i.length?It(i,Dn,Ta):g},O.maxBy=function(i,u){return i&&i.length?It(i,Ve(u,2),Ta):g},O.mean=function(i){return fu(i,Dn)},O.meanBy=function(i,u){return fu(i,Ve(u,2))},O.min=function(i){return i&&i.length?It(i,Dn,Ni):g},O.minBy=function(i,u){return i&&i.length?It(i,Ve(u,2),Ni):g},O.stubArray=$r,O.stubFalse=Rc,O.stubObject=function(){return{}},O.stubString=function(){return""},O.stubTrue=function(){return!0},O.multiply=Un,O.nth=function(i,u){return i&&i.length?Aa(i,ct(u)):g},O.noConflict=function(){return wn._===this&&(wn._=gu),this},O.noop=os,O.now=Ga,O.pad=function(i,u,h){i=Tt(i);var w=(u=ct(u))?Ti(i):0;if(!u||w>=u)return i;var E=(u-w)/2;return Ki(wl(E),h)+i+Ki(To(E),h)},O.padEnd=function(i,u,h){i=Tt(i);var w=(u=ct(u))?Ti(i):0;return u&&w<u?i+Ki(u-w,h):i},O.padStart=function(i,u,h){i=Tt(i);var w=(u=ct(u))?Ti(i):0;return u&&w<u?Ki(u-w,h)+i:i},O.parseInt=function(i,u,h){return h||u==null?u=0:u&&(u=+u),ao(Tt(i).replace(Cs,""),u||0)},O.random=function(i,u,h){if(h&&typeof h!="boolean"&&An(i,u,h)&&(u=h=g),h===g&&(typeof u=="boolean"?(h=u,u=g):typeof i=="boolean"&&(h=i,i=g)),i===g&&u===g?(i=0,u=1):(i=qr(i),u===g?(u=i,i=0):u=qr(u)),i>u){var w=i;i=u,u=w}if(h||i%1||u%1){var E=Ys();return _n(i+E*(u-i+pf("1e-"+((E+"").length-1))),u)}return Tl(i,u)},O.reduce=function(i,u,h){var w=lt(i)?Ds:Hs,E=arguments.length<3;return w(i,Ve(u,4),h,E,so)},O.reduceRight=function(i,u,h){var w=lt(i)?hf:Hs,E=arguments.length<3;return w(i,Ve(u,4),h,E,Ri)},O.repeat=function(i,u,h){return u=(h?An(i,u,h):u===g)?1:ct(u),La(Tt(i),u)},O.replace=function(){var i=arguments,u=Tt(i[0]);return i.length<3?u:u.replace(i[1],i[2])},O.result=function(i,u,h){var w=-1,E=(u=po(u,i)).length;for(E||(E=1,i=g);++w<E;){var T=i==null?g:i[Ar(u[w])];T===g&&(w=E,T=h),i=go(T)?T.call(i):T}return i},O.round=Ld,O.runInContext=X,O.sample=function(i){return(lt(i)?ja:nc)(i)},O.size=function(i){if(i==null)return 0;if(Xn(i))return Jl(i)?Ti(i):i.length;var u=Pn(i);return u==ft||u==nn?i.size:Mr(i).length},O.snakeCase=Zf,O.some=function(i,u,h){var w=lt(i)?Rs:xf;return h&&An(i,u,h)&&(u=g),w(i,Ve(u,3))},O.sortedIndex=function(i,u){return Da(i,u)},O.sortedIndexBy=function(i,u,h){return Pl(i,u,Ve(h,2))},O.sortedIndexOf=function(i,u){var h=i==null?0:i.length;if(h){var w=Da(i,u);if(w<h&&Lr(i[w],u))return w}return-1},O.sortedLastIndex=function(i,u){return Da(i,u,!0)},O.sortedLastIndexBy=function(i,u,h){return Pl(i,u,Ve(h,2),!0)},O.sortedLastIndexOf=function(i,u){if(i!=null&&i.length){var h=Da(i,u,!0)-1;if(Lr(i[h],u))return h}return-1},O.startCase=Ac,O.startsWith=function(i,u,h){return i=Tt(i),h=h==null?0:oi(ct(h),0,i.length),u=or(u),i.slice(h,h+u.length)==u},O.subtract=Dd,O.sum=function(i){return i&&i.length?Bs(i,Dn):0},O.sumBy=function(i,u){return i&&i.length?Bs(i,Ve(u,2)):0},O.template=function(i,u,h){var w=O.templateSettings;h&&An(i,u,h)&&(u=g),i=Tt(i),u=es({},u,w,Wu);var E,T,z=es({},u.imports,w.imports,Wu),B=xn(z),Z=Ks(z,B),Y=0,se=u.interpolate||Yo,me="__p += '",Me=Qo((u.escape||Yo).source+"|"+se.source+"|"+(se===ll?cl:Yo).source+"|"+(u.evaluate||Yo).source+"|$","g"),Re="//# sourceURL="+(Ot.call(u,"sourceURL")?(u.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Eo+"]")+`
`;i.replace(Me,function(xe,ge,Te,Je,Be,bt){return Te||(Te=Je),me+=i.slice(Y,bt).replace(iu,hu),ge&&(E=!0,me+=`' +
__e(`+ge+`) +
'`),Be&&(T=!0,me+=`';
`+Be+`;
__p += '`),Te&&(me+=`' +
((__t = (`+Te+`)) == null ? '' : __t) +
'`),Y=bt+xe.length,xe}),me+=`';
`;var Xe=Ot.call(u,"variable")&&u.variable;if(Xe){if(Os.test(Xe))throw new _t("Invalid `variable` option passed into `_.template`")}else me=`with (obj) {
`+me+`
}
`;me=(T?me.replace(xo,""):me).replace(xi,"$1").replace(Vo,"$1;"),me="function("+(Xe||"obj")+`) {
`+(Xe?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(E?", __e = _.escape":"")+(T?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+me+`return __p
}`;var ne=Dc(function(){return mn(B,Re+"return "+me).apply(g,Z)});if(ne.source=me,Ec(ne))throw ne;return ne},O.times=function(i,u){if((i=ct(i))<1||i>R)return[];var h=$,w=_n(i,$);u=Ve(u),i-=$;for(var E=Fs(w,u);++h<i;)u(h);return E},O.toFinite=qr,O.toInteger=ct,O.toLength=Cc,O.toLower=function(i){return Tt(i).toLowerCase()},O.toNumber=wr,O.toSafeInteger=function(i){return i?oi(ct(i),-9007199254740991,R):i===0?i:0},O.toString=Tt,O.toUpper=function(i){return Tt(i).toUpperCase()},O.trim=function(i,u,h){if((i=Tt(i))&&(h||u===g))return Us(i);if(!i||!(u=or(u)))return i;var w=on(i),E=on(u);return On(w,re(w,E),Oi(w,E)+1).join("")},O.trimEnd=function(i,u,h){if((i=Tt(i))&&(h||u===g))return i.slice(0,Cr(i)+1);if(!i||!(u=or(u)))return i;var w=on(i);return On(w,0,Oi(w,on(u))+1).join("")},O.trimStart=function(i,u,h){if((i=Tt(i))&&(h||u===g))return i.replace(Cs,"");if(!i||!(u=or(u)))return i;var w=on(i);return On(w,re(w,on(u))).join("")},O.truncate=function(i,u){var h=30,w="...";if(Jt(u)){var E="separator"in u?u.separator:E;h="length"in u?ct(u.length):h,w="omission"in u?or(u.omission):w}var T=(i=Tt(i)).length;if(Ii(i)){var z=on(i);T=z.length}if(h>=T)return i;var B=h-Ti(w);if(B<1)return w;var Z=z?On(z,0,B).join(""):i.slice(0,B);if(E===g)return Z+w;if(z&&(B+=Z.length-B),Sc(E)){if(i.slice(B).search(E)){var Y,se=Z;for(E.global||(E=Qo(E.source,Tt(Zo.exec(E))+"g")),E.lastIndex=0;Y=E.exec(se);)var me=Y.index;Z=Z.slice(0,me===g?B:me)}}else if(i.indexOf(or(E),B)!=B){var Me=Z.lastIndexOf(E);Me>-1&&(Z=Z.slice(0,Me))}return Z+w},O.unescape=function(i){return(i=Tt(i))&&Ss.test(i)?i.replace(Hr,an):i},O.uniqueId=function(i){var u=++gf;return Tt(i)+u},O.upperCase=ns,O.upperFirst=rs,O.each=sd,O.eachRight=cd,O.first=$u,mi(O,(as={},Yn(O,function(i,u){Ot.call(O.prototype,u)||(as[u]=i)}),as),{chain:!1}),O.VERSION="4.17.21",Gn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(i){O[i].placeholder=O}),Gn(["drop","take"],function(i,u){vt.prototype[i]=function(h){h=h===g?1:ln(ct(h),0);var w=this.__filtered__&&!u?new vt(this):this.clone();return w.__filtered__?w.__takeCount__=_n(h,w.__takeCount__):w.__views__.push({size:_n(h,$),type:i+(w.__dir__<0?"Right":"")}),w},vt.prototype[i+"Right"]=function(h){return this.reverse()[i](h).reverse()}}),Gn(["filter","map","takeWhile"],function(i,u){var h=u+1,w=h==1||h==3;vt.prototype[i]=function(E){var T=this.clone();return T.__iteratees__.push({iteratee:Ve(E,3),type:h}),T.__filtered__=T.__filtered__||w,T}}),Gn(["head","last"],function(i,u){var h="take"+(u?"Right":"");vt.prototype[i]=function(){return this[h](1).value()[0]}}),Gn(["initial","tail"],function(i,u){var h="drop"+(u?"":"Right");vt.prototype[i]=function(){return this.__filtered__?new vt(this):this[h](1)}}),vt.prototype.compact=function(){return this.filter(Dn)},vt.prototype.find=function(i){return this.filter(i).head()},vt.prototype.findLast=function(i){return this.reverse().find(i)},vt.prototype.invokeMap=rt(function(i,u){return typeof i=="function"?new vt(this):this.map(function(h){return co(h,i,u)})}),vt.prototype.reject=function(i){return this.filter(ql(Ve(i)))},vt.prototype.slice=function(i,u){i=ct(i);var h=this;return h.__filtered__&&(i>0||u<0)?new vt(h):(i<0?h=h.takeRight(-i):i&&(h=h.drop(i)),u!==g&&(h=(u=ct(u))<0?h.dropRight(-u):h.take(u-i)),h)},vt.prototype.takeRightWhile=function(i){return this.reverse().takeWhile(i).reverse()},vt.prototype.toArray=function(){return this.take($)},Yn(vt.prototype,function(i,u){var h=/^(?:filter|find|map|reject)|While$/.test(u),w=/^(?:head|last)$/.test(u),E=O[w?"take"+(u=="last"?"Right":""):u],T=w||/^find/.test(u);E&&(O.prototype[u]=function(){var z=this.__wrapped__,B=w?[1]:arguments,Z=z instanceof vt,Y=B[0],se=Z||lt(z),me=function(ge){var Te=E.apply(O,Co([ge],B));return w&&Me?Te[0]:Te};se&&h&&typeof Y=="function"&&Y.length!=1&&(Z=se=!1);var Me=this.__chain__,Re=!!this.__actions__.length,Xe=T&&!Me,ne=Z&&!Re;if(!T&&se){z=ne?z:new vt(this);var xe=i.apply(z,B);return xe.__actions__.push({func:Ht,args:[me],thisArg:g}),new rr(xe,Me)}return Xe&&ne?i.apply(this,B):(xe=this.thru(me),Xe?w?xe.value()[0]:xe.value():xe)})}),Gn(["pop","push","shift","sort","splice","unshift"],function(i){var u=io[i],h=/^(?:push|sort|unshift)$/.test(i)?"tap":"thru",w=/^(?:pop|shift)$/.test(i);O.prototype[i]=function(){var E=arguments;if(w&&!this.__chain__){var T=this.value();return u.apply(lt(T)?T:[],E)}return this[h](function(z){return u.apply(lt(z)?z:[],E)})}}),Yn(vt.prototype,function(i,u){var h=O[u];if(h){var w=h.name+"";Ot.call(Ur,w)||(Ur[w]=[]),Ur[w].push({name:u,func:h})}}),Ur[Dl(g,2).name]=[{name:"wrapper",func:g}],vt.prototype.clone=function(){var i=new vt(this.__wrapped__);return i.__actions__=Fn(this.__actions__),i.__dir__=this.__dir__,i.__filtered__=this.__filtered__,i.__iteratees__=Fn(this.__iteratees__),i.__takeCount__=this.__takeCount__,i.__views__=Fn(this.__views__),i},vt.prototype.reverse=function(){if(this.__filtered__){var i=new vt(this);i.__dir__=-1,i.__filtered__=!0}else(i=this.clone()).__dir__*=-1;return i},vt.prototype.value=function(){var i=this.__wrapped__.value(),u=this.__dir__,h=lt(i),w=u<0,E=h?i.length:0,T=function(bt,Ke,$e){for(var gn=-1,sr=$e.length;++gn<sr;){var Rr=$e[gn],vn=Rr.size;switch(Rr.type){case"drop":bt+=vn;break;case"dropRight":Ke-=vn;break;case"take":Ke=_n(Ke,bt+vn);break;case"takeRight":bt=ln(bt,Ke-vn)}}return{start:bt,end:Ke}}(0,E,this.__views__),z=T.start,B=T.end,Z=B-z,Y=w?B:z-1,se=this.__iteratees__,me=se.length,Me=0,Re=_n(Z,this.__takeCount__);if(!h||!w&&E==Z&&Re==Z)return si(i,this.__actions__);var Xe=[];e:for(;Z--&&Me<Re;){for(var ne=-1,xe=i[Y+=u];++ne<me;){var ge=se[ne],Te=ge.iteratee,Je=ge.type,Be=Te(xe);if(Je==2)xe=Be;else if(!Be){if(Je==1)continue e;break e}}Xe[Me++]=xe}return Xe},O.prototype.at=ad,O.prototype.chain=function(){return wc(this)},O.prototype.commit=function(){return new rr(this.value(),this.__chain__)},O.prototype.next=function(){this.__values__===g&&(this.__values__=jc(this.value()));var i=this.__index__>=this.__values__.length;return{done:i,value:i?g:this.__values__[this.__index__++]}},O.prototype.plant=function(i){for(var u,h=this;h instanceof Sa;){var w=Wl(h);w.__index__=0,w.__values__=g,u?E.__wrapped__=w:u=w;var E=w;h=h.__wrapped__}return E.__wrapped__=i,u},O.prototype.reverse=function(){var i=this.__wrapped__;if(i instanceof vt){var u=i;return this.__actions__.length&&(u=new vt(this)),(u=u.reverse()).__actions__.push({func:Ht,args:[Vl],thisArg:g}),new rr(u,this.__chain__)}return this.thru(Vl)},O.prototype.toJSON=O.prototype.valueOf=O.prototype.value=function(){return si(this.__wrapped__,this.__actions__)},O.prototype.first=O.prototype.head,ka&&(O.prototype[ka]=function(){return this}),O}();wn._=Or,(L=function(){return Or}.call(A,x,A,I))===g||(I.exports=L)}.call(this)},4516:function(I){"use strict";var A=Object.getOwnPropertySymbols,x=Object.prototype.hasOwnProperty,L=Object.prototype.propertyIsEnumerable;function g(D){if(D==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(D)}I.exports=function(){try{if(!Object.assign)return!1;var D=new String("abc");if(D[5]="de",Object.getOwnPropertyNames(D)[0]==="5")return!1;for(var W={},Q=0;Q<10;Q++)W["_"+String.fromCharCode(Q)]=Q;if(Object.getOwnPropertyNames(W).map(function(C){return W[C]}).join("")!=="0123456789")return!1;var ee={};return"abcdefghijklmnopqrst".split("").forEach(function(C){ee[C]=C}),Object.keys(Object.assign({},ee)).join("")==="abcdefghijklmnopqrst"}catch(C){return!1}}()?Object.assign:function(D,W){for(var Q,ee,C=g(D),He=1;He<arguments.length;He++){for(var le in Q=Object(arguments[He]))x.call(Q,le)&&(C[le]=Q[le]);if(A){ee=A(Q);for(var Fe=0;Fe<ee.length;Fe++)L.call(Q,ee[Fe])&&(C[ee[Fe]]=Q[ee[Fe]])}}return C}},6094:function(I,A,x){"use strict";x(4516);var L=x(9787),g=60103;if(A.Fragment=60107,typeof Symbol=="function"&&Symbol.for){var D=Symbol.for;g=D("react.element"),A.Fragment=D("react.fragment")}var W=L.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Q=Object.prototype.hasOwnProperty,ee={key:!0,ref:!0,__self:!0,__source:!0};function C(He,le,Fe){var ht,R={},bn=null,$=null;for(ht in Fe!==void 0&&(bn=""+Fe),le.key!==void 0&&(bn=""+le.key),le.ref!==void 0&&($=le.ref),le)Q.call(le,ht)&&!ee.hasOwnProperty(ht)&&(R[ht]=le[ht]);if(He&&He.defaultProps)for(ht in le=He.defaultProps)R[ht]===void 0&&(R[ht]=le[ht]);return{$$typeof:g,type:He,key:bn,ref:$,props:R,_owner:W.current}}A.jsx=C,A.jsxs=C},4512:function(I,A,x){"use strict";I.exports=x(6094)},1602:function(I){var A=function(x){"use strict";var L,g=Object.prototype,D=g.hasOwnProperty,W=typeof Symbol=="function"?Symbol:{},Q=W.iterator||"@@iterator",ee=W.asyncIterator||"@@asyncIterator",C=W.toStringTag||"@@toStringTag";function He(F,de,De){return Object.defineProperty(F,de,{value:De,enumerable:!0,configurable:!0,writable:!0}),F[de]}try{He({},"")}catch(F){He=function(de,De,Ze){return de[De]=Ze}}function le(F,de,De,Ze){var Le=de&&de.prototype instanceof Ge?de:Ge,at=Object.create(Le.prototype),kt=new nn(Ze||[]);return at._invoke=function(Yt,un,yt){var rn=ht;return function(pn,xo){if(rn===bn)throw new Error("Generator is already running");if(rn===$){if(pn==="throw")throw xo;return fe()}for(yt.method=pn,yt.arg=xo;;){var xi=yt.delegate;if(xi){var Vo=S(xi,yt);if(Vo){if(Vo===Pe)continue;return Vo}}if(yt.method==="next")yt.sent=yt._sent=yt.arg;else if(yt.method==="throw"){if(rn===ht)throw rn=$,yt.arg;yt.dispatchException(yt.arg)}else yt.method==="return"&&yt.abrupt("return",yt.arg);rn=bn;var Hr=Fe(Yt,un,yt);if(Hr.type==="normal"){if(rn=yt.done?$:R,Hr.arg===Pe)continue;return{value:Hr.arg,done:yt.done}}Hr.type==="throw"&&(rn=$,yt.method="throw",yt.arg=Hr.arg)}}}(F,De,kt),at}function Fe(F,de,De){try{return{type:"normal",arg:F.call(de,De)}}catch(Ze){return{type:"throw",arg:Ze}}}x.wrap=le;var ht="suspendedStart",R="suspendedYield",bn="executing",$="completed",Pe={};function Ge(){}function ke(){}function Ae(){}var qe={};qe[Q]=function(){return this};var Qe=Object.getPrototypeOf,nt=Qe&&Qe(Qe(Wt([])));nt&&nt!==g&&D.call(nt,Q)&&(qe=nt);var Gt=Ae.prototype=Ge.prototype=Object.create(qe);function ft(F){["next","throw","return"].forEach(function(de){He(F,de,function(De){return this._invoke(de,De)})})}function Pt(F,de){function De(Le,at,kt,Yt){var un=Fe(F[Le],F,at);if(un.type!=="throw"){var yt=un.arg,rn=yt.value;return rn&&typeof rn=="object"&&D.call(rn,"__await")?de.resolve(rn.__await).then(function(pn){De("next",pn,kt,Yt)},function(pn){De("throw",pn,kt,Yt)}):de.resolve(rn).then(function(pn){yt.value=pn,kt(yt)},function(pn){return De("throw",pn,kt,Yt)})}Yt(un.arg)}var Ze;this._invoke=function(Le,at){function kt(){return new de(function(Yt,un){De(Le,at,Yt,un)})}return Ze=Ze?Ze.then(kt,kt):kt()}}function S(F,de){var De=F.iterator[de.method];if(De===L){if(de.delegate=null,de.method==="throw"){if(F.iterator.return&&(de.method="return",de.arg=L,S(F,de),de.method==="throw"))return Pe;de.method="throw",de.arg=new TypeError("The iterator does not provide a 'throw' method")}return Pe}var Ze=Fe(De,F.iterator,de.arg);if(Ze.type==="throw")return de.method="throw",de.arg=Ze.arg,de.delegate=null,Pe;var Le=Ze.arg;return Le?Le.done?(de[F.resultName]=Le.value,de.next=F.nextLoc,de.method!=="return"&&(de.method="next",de.arg=L),de.delegate=null,Pe):Le:(de.method="throw",de.arg=new TypeError("iterator result is not an object"),de.delegate=null,Pe)}function p(F){var de={tryLoc:F[0]};1 in F&&(de.catchLoc=F[1]),2 in F&&(de.finallyLoc=F[2],de.afterLoc=F[3]),this.tryEntries.push(de)}function zn(F){var de=F.completion||{};de.type="normal",delete de.arg,F.completion=de}function nn(F){this.tryEntries=[{tryLoc:"root"}],F.forEach(p,this),this.reset(!0)}function Wt(F){if(F){var de=F[Q];if(de)return de.call(F);if(typeof F.next=="function")return F;if(!isNaN(F.length)){var De=-1,Ze=function Le(){for(;++De<F.length;)if(D.call(F,De))return Le.value=F[De],Le.done=!1,Le;return Le.value=L,Le.done=!0,Le};return Ze.next=Ze}}return{next:fe}}function fe(){return{value:L,done:!0}}return ke.prototype=Gt.constructor=Ae,Ae.constructor=ke,ke.displayName=He(Ae,C,"GeneratorFunction"),x.isGeneratorFunction=function(F){var de=typeof F=="function"&&F.constructor;return!!de&&(de===ke||(de.displayName||de.name)==="GeneratorFunction")},x.mark=function(F){return Object.setPrototypeOf?Object.setPrototypeOf(F,Ae):(F.__proto__=Ae,He(F,C,"GeneratorFunction")),F.prototype=Object.create(Gt),F},x.awrap=function(F){return{__await:F}},ft(Pt.prototype),Pt.prototype[ee]=function(){return this},x.AsyncIterator=Pt,x.async=function(F,de,De,Ze,Le){Le===void 0&&(Le=Promise);var at=new Pt(le(F,de,De,Ze),Le);return x.isGeneratorFunction(de)?at:at.next().then(function(kt){return kt.done?kt.value:at.next()})},ft(Gt),He(Gt,C,"Generator"),Gt[Q]=function(){return this},Gt.toString=function(){return"[object Generator]"},x.keys=function(F){var de=[];for(var De in F)de.push(De);return de.reverse(),function Ze(){for(;de.length;){var Le=de.pop();if(Le in F)return Ze.value=Le,Ze.done=!1,Ze}return Ze.done=!0,Ze}},x.values=Wt,nn.prototype={constructor:nn,reset:function(F){if(this.prev=0,this.next=0,this.sent=this._sent=L,this.done=!1,this.delegate=null,this.method="next",this.arg=L,this.tryEntries.forEach(zn),!F)for(var de in this)de.charAt(0)==="t"&&D.call(this,de)&&!isNaN(+de.slice(1))&&(this[de]=L)},stop:function(){this.done=!0;var F=this.tryEntries[0].completion;if(F.type==="throw")throw F.arg;return this.rval},dispatchException:function(F){if(this.done)throw F;var de=this;function De(un,yt){return at.type="throw",at.arg=F,de.next=un,yt&&(de.method="next",de.arg=L),!!yt}for(var Ze=this.tryEntries.length-1;Ze>=0;--Ze){var Le=this.tryEntries[Ze],at=Le.completion;if(Le.tryLoc==="root")return De("end");if(Le.tryLoc<=this.prev){var kt=D.call(Le,"catchLoc"),Yt=D.call(Le,"finallyLoc");if(kt&&Yt){if(this.prev<Le.catchLoc)return De(Le.catchLoc,!0);if(this.prev<Le.finallyLoc)return De(Le.finallyLoc)}else if(kt){if(this.prev<Le.catchLoc)return De(Le.catchLoc,!0)}else{if(!Yt)throw new Error("try statement without catch or finally");if(this.prev<Le.finallyLoc)return De(Le.finallyLoc)}}}},abrupt:function(F,de){for(var De=this.tryEntries.length-1;De>=0;--De){var Ze=this.tryEntries[De];if(Ze.tryLoc<=this.prev&&D.call(Ze,"finallyLoc")&&this.prev<Ze.finallyLoc){var Le=Ze;break}}Le&&(F==="break"||F==="continue")&&Le.tryLoc<=de&&de<=Le.finallyLoc&&(Le=null);var at=Le?Le.completion:{};return at.type=F,at.arg=de,Le?(this.method="next",this.next=Le.finallyLoc,Pe):this.complete(at)},complete:function(F,de){if(F.type==="throw")throw F.arg;return F.type==="break"||F.type==="continue"?this.next=F.arg:F.type==="return"?(this.rval=this.arg=F.arg,this.method="return",this.next="end"):F.type==="normal"&&de&&(this.next=de),Pe},finish:function(F){for(var de=this.tryEntries.length-1;de>=0;--de){var De=this.tryEntries[de];if(De.finallyLoc===F)return this.complete(De.completion,De.afterLoc),zn(De),Pe}},catch:function(F){for(var de=this.tryEntries.length-1;de>=0;--de){var De=this.tryEntries[de];if(De.tryLoc===F){var Ze=De.completion;if(Ze.type==="throw"){var Le=Ze.arg;zn(De)}return Le}}throw new Error("illegal catch attempt")},delegateYield:function(F,de,De){return this.delegate={iterator:Wt(F),resultName:de,nextLoc:De},this.method==="next"&&(this.arg=L),Pe}},x}(I.exports);try{regeneratorRuntime=A}catch(x){Function("r","regeneratorRuntime = r")(A)}},8336:function(I,A,x){var L=x(487),g=x(4295);typeof(g=g.__esModule?g.default:g)=="string"&&(g=[[I.id,g,""]]);var D={insert:"head",singleton:!1};L(g,D),I.exports=g.locals||{}},554:function(I,A,x){var L=x(487),g=x(9135);typeof(g=g.__esModule?g.default:g)=="string"&&(g=[[I.id,g,""]]);var D={insert:"head",singleton:!1};L(g,D),I.exports=g.locals||{}},2789:function(I,A,x){var L=x(487),g=x(3729);typeof(g=g.__esModule?g.default:g)=="string"&&(g=[[I.id,g,""]]);var D={insert:"head",singleton:!1};L(g,D),I.exports=g.locals||{}},5080:function(I,A,x){var L=x(487),g=x(4241);typeof(g=g.__esModule?g.default:g)=="string"&&(g=[[I.id,g,""]]);var D={insert:"head",singleton:!1};L(g,D),I.exports=g.locals||{}},7225:function(I,A,x){var L=x(487),g=x(6029);typeof(g=g.__esModule?g.default:g)=="string"&&(g=[[I.id,g,""]]);var D={insert:"head",singleton:!1};L(g,D),I.exports=g.locals||{}},778:function(I,A,x){var L=x(487),g=x(9609);typeof(g=g.__esModule?g.default:g)=="string"&&(g=[[I.id,g,""]]);var D={insert:"head",singleton:!1};L(g,D),I.exports=g.locals||{}},4220:function(I,A,x){var L=x(487),g=x(2345);typeof(g=g.__esModule?g.default:g)=="string"&&(g=[[I.id,g,""]]);var D={insert:"head",singleton:!1};L(g,D),I.exports=g.locals||{}},4678:function(I,A,x){var L=x(487),g=x(9393);typeof(g=g.__esModule?g.default:g)=="string"&&(g=[[I.id,g,""]]);var D={insert:"head",singleton:!1};L(g,D),I.exports=g.locals||{}},1292:function(I,A,x){var L=x(487),g=x(6578);typeof(g=g.__esModule?g.default:g)=="string"&&(g=[[I.id,g,""]]);var D={insert:"head",singleton:!1};L(g,D),I.exports=g.locals||{}},196:function(I,A,x){var L=x(487),g=x(9482);typeof(g=g.__esModule?g.default:g)=="string"&&(g=[[I.id,g,""]]);var D={insert:"head",singleton:!1};L(g,D),I.exports=g.locals||{}},2205:function(I,A,x){var L=x(487),g=x(7955);typeof(g=g.__esModule?g.default:g)=="string"&&(g=[[I.id,g,""]]);var D={insert:"head",singleton:!1};L(g,D),I.exports=g.locals||{}},1310:function(I,A,x){var L=x(487),g=x(3195);typeof(g=g.__esModule?g.default:g)=="string"&&(g=[[I.id,g,""]]);var D={insert:"head",singleton:!1};L(g,D),I.exports=g.locals||{}},3922:function(I,A,x){var L=x(487),g=x(2978);typeof(g=g.__esModule?g.default:g)=="string"&&(g=[[I.id,g,""]]);var D={insert:"head",singleton:!1};L(g,D),I.exports=g.locals||{}},7096:function(I,A,x){var L=x(487),g=x(1587);typeof(g=g.__esModule?g.default:g)=="string"&&(g=[[I.id,g,""]]);var D={insert:"head",singleton:!1};L(g,D),I.exports=g.locals||{}},7117:function(I,A,x){var L=x(487),g=x(9478);typeof(g=g.__esModule?g.default:g)=="string"&&(g=[[I.id,g,""]]);var D={insert:"head",singleton:!1};L(g,D),I.exports=g.locals||{}},1106:function(I,A,x){var L=x(487),g=x(7369);typeof(g=g.__esModule?g.default:g)=="string"&&(g=[[I.id,g,""]]);var D={insert:"head",singleton:!1};L(g,D),I.exports=g.locals||{}},3336:function(I,A,x){var L=x(487),g=x(1434);typeof(g=g.__esModule?g.default:g)=="string"&&(g=[[I.id,g,""]]);var D={insert:"head",singleton:!1};L(g,D),I.exports=g.locals||{}},4406:function(I,A,x){var L=x(487),g=x(8923);typeof(g=g.__esModule?g.default:g)=="string"&&(g=[[I.id,g,""]]);var D={insert:"head",singleton:!1};L(g,D),I.exports=g.locals||{}},6043:function(I,A,x){var L=x(487),g=x(5605);typeof(g=g.__esModule?g.default:g)=="string"&&(g=[[I.id,g,""]]);var D={insert:"head",singleton:!1};L(g,D),I.exports=g.locals||{}},694:function(I,A,x){var L=x(487),g=x(5644);typeof(g=g.__esModule?g.default:g)=="string"&&(g=[[I.id,g,""]]);var D={insert:"head",singleton:!1};L(g,D),I.exports=g.locals||{}},8328:function(I,A,x){var L=x(487),g=x(6843);typeof(g=g.__esModule?g.default:g)=="string"&&(g=[[I.id,g,""]]);var D={insert:"head",singleton:!1};L(g,D),I.exports=g.locals||{}},8051:function(I,A,x){var L=x(487),g=x(8461);typeof(g=g.__esModule?g.default:g)=="string"&&(g=[[I.id,g,""]]);var D={insert:"head",singleton:!1};L(g,D),I.exports=g.locals||{}},4301:function(I,A,x){var L=x(487),g=x(9935);typeof(g=g.__esModule?g.default:g)=="string"&&(g=[[I.id,g,""]]);var D={insert:"head",singleton:!1};L(g,D),I.exports=g.locals||{}},9966:function(I,A,x){var L=x(487),g=x(532);typeof(g=g.__esModule?g.default:g)=="string"&&(g=[[I.id,g,""]]);var D={insert:"head",singleton:!1};L(g,D),I.exports=g.locals||{}},9295:function(I,A,x){var L=x(487),g=x(7589);typeof(g=g.__esModule?g.default:g)=="string"&&(g=[[I.id,g,""]]);var D={insert:"head",singleton:!1};L(g,D),I.exports=g.locals||{}},9781:function(I,A,x){var L=x(487),g=x(8465);typeof(g=g.__esModule?g.default:g)=="string"&&(g=[[I.id,g,""]]);var D={insert:"head",singleton:!1};L(g,D),I.exports=g.locals||{}},371:function(I,A,x){var L=x(487),g=x(5892);typeof(g=g.__esModule?g.default:g)=="string"&&(g=[[I.id,g,""]]);var D={insert:"head",singleton:!1};L(g,D),I.exports=g.locals||{}},4623:function(I,A,x){var L=x(487),g=x(3874);typeof(g=g.__esModule?g.default:g)=="string"&&(g=[[I.id,g,""]]);var D={insert:"head",singleton:!1};L(g,D),I.exports=g.locals||{}},1528:function(I,A,x){var L=x(487),g=x(2681);typeof(g=g.__esModule?g.default:g)=="string"&&(g=[[I.id,g,""]]);var D={insert:"head",singleton:!1};L(g,D),I.exports=g.locals||{}},518:function(I,A,x){var L=x(487),g=x(6759);typeof(g=g.__esModule?g.default:g)=="string"&&(g=[[I.id,g,""]]);var D={insert:"head",singleton:!1};L(g,D),I.exports=g.locals||{}},9757:function(I,A,x){var L=x(487),g=x(9650);typeof(g=g.__esModule?g.default:g)=="string"&&(g=[[I.id,g,""]]);var D={insert:"head",singleton:!1};L(g,D),I.exports=g.locals||{}},5422:function(I,A,x){var L=x(487),g=x(2044);typeof(g=g.__esModule?g.default:g)=="string"&&(g=[[I.id,g,""]]);var D={insert:"head",singleton:!1};L(g,D),I.exports=g.locals||{}},276:function(I,A,x){var L=x(487),g=x(9144);typeof(g=g.__esModule?g.default:g)=="string"&&(g=[[I.id,g,""]]);var D={insert:"head",singleton:!1};L(g,D),I.exports=g.locals||{}},6781:function(I,A,x){var L=x(487),g=x(6626);typeof(g=g.__esModule?g.default:g)=="string"&&(g=[[I.id,g,""]]);var D={insert:"head",singleton:!1};L(g,D),I.exports=g.locals||{}},580:function(I,A,x){var L=x(487),g=x(6359);typeof(g=g.__esModule?g.default:g)=="string"&&(g=[[I.id,g,""]]);var D={insert:"head",singleton:!1};L(g,D),I.exports=g.locals||{}},4285:function(I,A,x){var L=x(487),g=x(9915);typeof(g=g.__esModule?g.default:g)=="string"&&(g=[[I.id,g,""]]);var D={insert:"head",singleton:!1};L(g,D),I.exports=g.locals||{}},3313:function(I,A,x){var L=x(487),g=x(9310);typeof(g=g.__esModule?g.default:g)=="string"&&(g=[[I.id,g,""]]);var D={insert:"head",singleton:!1};L(g,D),I.exports=g.locals||{}},8635:function(I,A,x){var L=x(487),g=x(6464);typeof(g=g.__esModule?g.default:g)=="string"&&(g=[[I.id,g,""]]);var D={insert:"head",singleton:!1};L(g,D),I.exports=g.locals||{}},4404:function(I,A,x){var L=x(487),g=x(5260);typeof(g=g.__esModule?g.default:g)=="string"&&(g=[[I.id,g,""]]);var D={insert:"head",singleton:!1};L(g,D),I.exports=g.locals||{}},487:function(I,A,x){"use strict";var L,g=function(){return L===void 0&&(L=Boolean(window&&document&&document.all&&!window.atob)),L},D=function(){var Pe={};return function(Ge){if(Pe[Ge]===void 0){var ke=document.querySelector(Ge);if(window.HTMLIFrameElement&&ke instanceof window.HTMLIFrameElement)try{ke=ke.contentDocument.head}catch(Ae){ke=null}Pe[Ge]=ke}return Pe[Ge]}}(),W=[];function Q(Pe){for(var Ge=-1,ke=0;ke<W.length;ke++)if(W[ke].identifier===Pe){Ge=ke;break}return Ge}function ee(Pe,Ge){for(var ke={},Ae=[],qe=0;qe<Pe.length;qe++){var Qe=Pe[qe],nt=Ge.base?Qe[0]+Ge.base:Qe[0],Gt=ke[nt]||0,ft="".concat(nt," ").concat(Gt);ke[nt]=Gt+1;var Pt=Q(ft),S={css:Qe[1],media:Qe[2],sourceMap:Qe[3]};Pt!==-1?(W[Pt].references++,W[Pt].updater(S)):W.push({identifier:ft,updater:$(S,Ge),references:1}),Ae.push(ft)}return Ae}function C(Pe){var Ge=document.createElement("style"),ke=Pe.attributes||{};if(ke.nonce===void 0){var Ae=x.nc;Ae&&(ke.nonce=Ae)}if(Object.keys(ke).forEach(function(Qe){Ge.setAttribute(Qe,ke[Qe])}),typeof Pe.insert=="function")Pe.insert(Ge);else{var qe=D(Pe.insert||"head");if(!qe)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");qe.appendChild(Ge)}return Ge}var He,le=(He=[],function(Pe,Ge){return He[Pe]=Ge,He.filter(Boolean).join(`
`)});function Fe(Pe,Ge,ke,Ae){var qe=ke?"":Ae.media?"@media ".concat(Ae.media," {").concat(Ae.css,"}"):Ae.css;if(Pe.styleSheet)Pe.styleSheet.cssText=le(Ge,qe);else{var Qe=document.createTextNode(qe),nt=Pe.childNodes;nt[Ge]&&Pe.removeChild(nt[Ge]),nt.length?Pe.insertBefore(Qe,nt[Ge]):Pe.appendChild(Qe)}}function ht(Pe,Ge,ke){var Ae=ke.css,qe=ke.media,Qe=ke.sourceMap;if(qe?Pe.setAttribute("media",qe):Pe.removeAttribute("media"),Qe&&typeof btoa<"u"&&(Ae+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(Qe))))," */")),Pe.styleSheet)Pe.styleSheet.cssText=Ae;else{for(;Pe.firstChild;)Pe.removeChild(Pe.firstChild);Pe.appendChild(document.createTextNode(Ae))}}var R=null,bn=0;function $(Pe,Ge){var ke,Ae,qe;if(Ge.singleton){var Qe=bn++;ke=R||(R=C(Ge)),Ae=Fe.bind(null,ke,Qe,!1),qe=Fe.bind(null,ke,Qe,!0)}else ke=C(Ge),Ae=ht.bind(null,ke,Ge),qe=function(){(function(nt){if(nt.parentNode===null)return!1;nt.parentNode.removeChild(nt)})(ke)};return Ae(Pe),function(nt){if(nt){if(nt.css===Pe.css&&nt.media===Pe.media&&nt.sourceMap===Pe.sourceMap)return;Ae(Pe=nt)}else qe()}}I.exports=function(Pe,Ge){(Ge=Ge||{}).singleton||typeof Ge.singleton=="boolean"||(Ge.singleton=g());var ke=ee(Pe=Pe||[],Ge);return function(Ae){if(Ae=Ae||[],Object.prototype.toString.call(Ae)==="[object Array]"){for(var qe=0;qe<ke.length;qe++){var Qe=Q(ke[qe]);W[Qe].references--}for(var nt=ee(Ae,Ge),Gt=0;Gt<ke.length;Gt++){var ft=Q(ke[Gt]);W[ft].references===0&&(W[ft].updater(),W.splice(ft,1))}ke=nt}}}},788:function(I,A,x){var L={"./ar-SA.json":[7822,558],"./bg-BG.json":[1203,384],"./bn-BD.json":[8525,603],"./ca-ES.json":[510,351],"./cs-CZ.json":[7605,387],"./da-DK.json":[2392,617],"./de-DE.json":[2853,43],"./el-GR.json":[9876,526],"./en.json":[1463],"./es-ES.json":[2264,317],"./eu-ES.json":[5658,431],"./fa-IR.json":[3747,710],"./fi-FI.json":[9490,472],"./fr-FR.json":[7830,364],"./he-IL.json":[1994,262],"./hi-IN.json":[4646,933],"./hu-HU.json":[6373,661],"./id-ID.json":[3247,491],"./it-IT.json":[3257,465],"./ja-JP.json":[198,137],"./kab-KAB.json":[228,164],"./kk-KZ.json":[8972,649],"./ko-KR.json":[7596,60],"./lt-LT.json":[3755,58],"./lv-LV.json":[2327,899],"./my-MM.json":[7704,242],"./nb-NO.json":[1167,246],"./nl-NL.json":[290,196],"./nn-NO.json":[4481,920],"./oc-FR.json":[2284,565],"./pa-IN.json":[6773,280],"./percentages.json":[4451],"./pl-PL.json":[3661,852],"./pt-BR.json":[8881,381],"./pt-PT.json":[5622,149],"./ro-RO.json":[2013,752],"./ru-RU.json":[2253,869],"./si-LK.json":[5497,90],"./sk-SK.json":[4570,401],"./sv-SE.json":[6006,698],"./ta-IN.json":[3952,395],"./tr-TR.json":[7315,213],"./uk-UA.json":[334,583],"./zh-CN.json":[1037,304],"./zh-HK.json":[5334,9],"./zh-TW.json":[931,62]};function g(D){if(!x.o(L,D))return Promise.resolve().then(function(){var ee=new Error("Cannot find module '"+D+"'");throw ee.code="MODULE_NOT_FOUND",ee});var W=L[D],Q=W[0];return Promise.all(W.slice(1).map(x.e)).then(function(){return x.t(Q,19)})}g.keys=function(){return Object.keys(L)},g.id=788,I.exports=g},9713:function(I){I.exports=function(A,x,L){return x in A?Object.defineProperty(A,x,{value:L,enumerable:!0,configurable:!0,writable:!0}):A[x]=L,A}},6479:function(I,A,x){var L=x(7316);I.exports=function(g,D){if(g==null)return{};var W,Q,ee=L(g,D);if(Object.getOwnPropertySymbols){var C=Object.getOwnPropertySymbols(g);for(Q=0;Q<C.length;Q++)W=C[Q],D.indexOf(W)>=0||Object.prototype.propertyIsEnumerable.call(g,W)&&(ee[W]=g[W])}return ee}},7316:function(I){I.exports=function(A,x){if(A==null)return{};var L,g,D={},W=Object.keys(A);for(g=0;g<W.length;g++)L=W[g],x.indexOf(L)>=0||(D[L]=A[L]);return D}},4295:function(I,A,x){"use strict";x.r(A);var L=x(8081),g=x.n(L),D=x(3645),W=x.n(D),Q=x(1667),ee=x.n(Q),C=new URL(x(3940),x.b),He=new URL(x(3147),x.b),le=W()(g()),Fe=ee()(C),ht=ee()(He);le.push([I.id,'@font-face{font-family:"Virgil";src:url('+Fe+');font-display:swap}@font-face{font-family:"Cascadia";src:url('+ht+");font-display:swap}",""]),A.default=le},9135:function(I,A,x){"use strict";x.r(A);var L=x(8081),g=x.n(L),D=x(3645),W=x.n(D)()(g());W.push([I.id,".excalidraw .ActiveFile .ActiveFile__fileName{display:flex;align-items:center}.excalidraw .ActiveFile .ActiveFile__fileName span{text-overflow:ellipsis;overflow:hidden;white-space:nowrap;width:9.3em}.excalidraw .ActiveFile .ActiveFile__fileName svg{width:1.15em;-webkit-margin-end:.3em;margin-inline-end:.3em;-webkit-transform:scaleY(0.9);transform:scaleY(0.9)}",""]),A.default=W},3729:function(I,A,x){"use strict";x.r(A);var L=x(8081),g=x.n(L),D=x(3645),W=x.n(D)()(g());W.push([I.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Avatar{width:2.5rem;height:2.5rem;border-radius:1.25rem;display:flex;justify-content:center;align-items:center;color:#fff;cursor:pointer;font-size:.8rem;font-weight:500}",""]),A.default=W},4241:function(I,A,x){"use strict";x.r(A);var L=x(8081),g=x.n(L),D=x(3645),W=x.n(D)()(g());W.push([I.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Card{display:flex;flex-direction:column;align-items:center;max-width:290px;margin:1em;text-align:center}.excalidraw .Card .Card-icon{font-size:2.6em;display:flex;flex:0 0 auto;padding:1.4rem;border-radius:50%;background:var(--card-color);color:#fff}.excalidraw .Card .Card-icon svg{width:2.8rem;height:2.8rem}.excalidraw .Card .Card-details{font-size:.96em;min-height:90px;padding:0 1em;margin-bottom:auto}.excalidraw .Card .Card-button.ToolIcon_type_button{height:2.5rem;margin-top:1em;margin-bottom:.3em;background-color:var(--card-color)}.excalidraw .Card .Card-button.ToolIcon_type_button:hover{background-color:var(--card-color-darker)}.excalidraw .Card .Card-button.ToolIcon_type_button:active{background-color:var(--card-color-darkest)}.excalidraw .Card .Card-button.ToolIcon_type_button .ToolIcon__label{color:#fff}.excalidraw .Card .Card-button.ToolIcon_type_button .Spinner{--spinner-color: #fff}",""]),A.default=W},6029:function(I,A,x){"use strict";x.r(A);var L=x(8081),g=x.n(L),D=x(3645),W=x.n(D)()(g());W.push([I.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Checkbox{margin:4px .3em;display:flex;align-items:center;cursor:pointer;-webkit-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent}.excalidraw .Checkbox:hover:not(.is-checked) .Checkbox-box:not(:focus){box-shadow:0 0 0 2px #4dabf7}.excalidraw .Checkbox:hover:not(.is-checked) .Checkbox-box:not(:focus) svg{display:block;opacity:.3}.excalidraw .Checkbox:active .Checkbox-box{box-shadow:0 0 2px 1px inset #1c7ed6 !important}.excalidraw .Checkbox:hover .Checkbox-box{background-color:rgba(208,235,255,.2)}.excalidraw .Checkbox.is-checked .Checkbox-box{background-color:#d0ebff}.excalidraw .Checkbox.is-checked .Checkbox-box svg{display:block}.excalidraw .Checkbox.is-checked:hover .Checkbox-box{background-color:#a5d8ff}.excalidraw .Checkbox .Checkbox-box{width:22px;height:22px;padding:0;flex:0 0 auto;margin:0 1em;display:flex;align-items:center;justify-content:center;box-shadow:0 0 0 2px #1c7ed6;background-color:transparent;border-radius:4px;color:#1c7ed6}.excalidraw .Checkbox .Checkbox-box:focus{box-shadow:0 0 0 3px #1c7ed6}.excalidraw .Checkbox .Checkbox-box svg{display:none;width:16px;height:16px;stroke-width:3px}.excalidraw .Checkbox .Checkbox-label{display:flex;align-items:center}.excalidraw .Checkbox .excalidraw-tooltip-icon{width:1em;height:1em}",""]),A.default=W},9609:function(I,A,x){"use strict";x.r(A);var L=x(8081),g=x.n(L),D=x(3645),W=x.n(D)()(g());W.push([I.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw .CollabButton.is-collaborating{background-color:var(--button-special-active-bg-color)}.excalidraw .CollabButton.is-collaborating .ToolIcon__icon svg,.excalidraw .CollabButton.is-collaborating .ToolIcon__label{color:var(--icon-green-fill-color)}.excalidraw .CollabButton-collaborators{min-width:1em;position:absolute;bottom:-5px;padding:3px;border-radius:50%;background-color:#40c057;color:#fff;font-size:.7em;font-family:var(--ui-font)}:root[dir=ltr] .excalidraw .CollabButton-collaborators{right:-5px}:root[dir=rtl] .excalidraw .CollabButton-collaborators{left:-5px}",""]),A.default=W},2345:function(I,A,x){"use strict";x.r(A);var L=x(8081),g=x.n(L),D=x(3645),W=x.n(D),Q=x(1667),ee=x.n(Q),C=new URL(x(9669),x.b),He=W()(g()),le=ee()(C);He.push([I.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw .color-picker{background:var(--popup-bg-color);border:0 solid rgba(255,255,255,.25);box-shadow:rgba(0,0,0,.25) 0 1px 4px;border-radius:4px;position:absolute}:root[dir=ltr] .excalidraw .color-picker{left:-5.5px}:root[dir=rtl] .excalidraw .color-picker{right:-5.5px}.excalidraw .color-picker-control-container{display:grid;grid-template-columns:auto 1fr;align-items:center}.excalidraw .color-picker-triangle{width:0;height:0;border-style:solid;border-width:0 9px 10px;border-color:transparent transparent var(--popup-bg-color);position:absolute;top:-10px}:root[dir=ltr] .excalidraw .color-picker-triangle{left:12px}:root[dir=rtl] .excalidraw .color-picker-triangle{right:12px}.excalidraw .color-picker-triangle-shadow{border-color:transparent transparent rgba(0,0,0,.1);top:-11px}.excalidraw .color-picker-content{padding:.5rem;display:grid;grid-template-columns:repeat(5, auto);grid-gap:.5rem;border-radius:4px}.excalidraw .color-picker-content:focus{outline:none;box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .color-picker-content .color-input-container{grid-column:1/span 5}.excalidraw .color-picker-swatch{position:relative;height:1.875rem;width:1.875rem;cursor:pointer;border-radius:4px;margin:0;box-sizing:border-box;border:1px solid #ddd;background-color:currentColor !important;-webkit-filter:var(--theme-filter);filter:var(--theme-filter)}.excalidraw .color-picker-swatch:focus{box-shadow:0 0 4px 1px currentColor;border-color:var(--select-highlight-color)}.excalidraw .color-picker-transparent{border-radius:4px;box-shadow:rgba(0,0,0,.1) 0 0 0 1px inset;position:absolute;top:0;right:0;bottom:0;left:0}.excalidraw .color-picker-transparent,.excalidraw .color-picker-label-swatch{background:url("+le+') left center}.excalidraw .color-picker-hash{background:var(--input-border-color);height:1.875rem;width:1.875rem;color:var(--input-label-color);display:flex;align-items:center;justify-content:center;position:relative}:root[dir=ltr] .excalidraw .color-picker-hash{border-radius:4px 0 0 4px}:root[dir=rtl] .excalidraw .color-picker-hash{border-radius:0 4px 4px 0}.excalidraw .color-input-container:focus-within .color-picker-hash{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .color-input-container:focus-within .color-picker-hash::before,.excalidraw .color-input-container:focus-within .color-picker-hash::after{content:"";width:1px;height:100%;position:absolute;top:0}.excalidraw .color-input-container:focus-within .color-picker-hash::before{background:var(--input-border-color)}:root[dir=ltr] .excalidraw .color-input-container:focus-within .color-picker-hash::before{right:-1px}:root[dir=rtl] .excalidraw .color-input-container:focus-within .color-picker-hash::before{left:-1px}.excalidraw .color-input-container:focus-within .color-picker-hash::after{background:var(--input-bg-color)}:root[dir=ltr] .excalidraw .color-input-container:focus-within .color-picker-hash::after{right:-2px}:root[dir=rtl] .excalidraw .color-input-container:focus-within .color-picker-hash::after{left:-2px}.excalidraw .color-input-container{display:flex}.excalidraw .color-picker-input{width:11ch;margin:0;font-size:1rem;background-color:var(--input-bg-color);color:var(--text-primary-color);border:0;outline:none;height:1.75em;box-shadow:var(--input-border-color) 0 0 0 1px inset;float:left;padding:1px;-webkit-padding-start:.5em;padding-inline-start:.5em;-webkit-appearance:none;appearance:none}:root[dir=ltr] .excalidraw .color-picker-input{border-radius:0 4px 4px 0}:root[dir=rtl] .excalidraw .color-picker-input{border-radius:4px 0 0 4px}.excalidraw .color-picker-label-swatch{height:1.875rem;width:1.875rem;-webkit-margin-end:.25rem;margin-inline-end:.25rem;border:1px solid #dee2e6;position:relative;overflow:hidden;background-color:transparent !important;-webkit-filter:var(--theme-filter);filter:var(--theme-filter)}.excalidraw .color-picker-label-swatch:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:var(--swatch-color)}.excalidraw .color-picker-keybinding{position:absolute;bottom:2px;font-size:.7em}:root[dir=ltr] .excalidraw .color-picker-keybinding{right:2px}:root[dir=rtl] .excalidraw .color-picker-keybinding{left:2px}.excalidraw--mobile.excalidraw .color-picker-keybinding{display:none}.excalidraw .color-picker-type-canvasBackground .color-picker-keybinding{color:#aaa}.excalidraw .color-picker-type-elementBackground .color-picker-keybinding{color:#fff}.excalidraw .color-picker-swatch[aria-label=transparent] .color-picker-keybinding{color:#aaa}.excalidraw .color-picker-type-elementStroke .color-picker-keybinding{color:#d4d4d4}.excalidraw.theme--dark .color-picker-type-elementBackground .color-picker-keybinding{color:#000}.excalidraw.theme--dark .color-picker-swatch[aria-label=transparent] .color-picker-keybinding{color:#000}',""]),A.default=He},9393:function(I,A,x){"use strict";x.r(A);var L=x(8081),g=x.n(L),D=x(3645),W=x.n(D)()(g());W.push([I.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw .confirm-dialog-buttons{display:flex;padding:.2rem 0;justify-content:flex-end}.excalidraw .confirm-dialog .ToolIcon__icon{min-width:2.5rem;width:auto;font-size:1rem}.excalidraw .confirm-dialog .ToolIcon_type_button{margin-left:.8rem;padding:0 .5rem}.excalidraw .confirm-dialog__content{font-size:1rem}.excalidraw .confirm-dialog--confirm.ToolIcon_type_button{background-color:#fa5252}.excalidraw .confirm-dialog--confirm.ToolIcon_type_button:hover{background-color:#e03131}.excalidraw .confirm-dialog--confirm.ToolIcon_type_button .ToolIcon__icon{color:#fff}",""]),A.default=W},6578:function(I,A,x){"use strict";x.r(A);var L=x(8081),g=x.n(L),D=x(3645),W=x.n(D)()(g());W.push([I.id,':export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw .context-menu{position:relative;border-radius:4px;box-shadow:0 3px 10px rgba(0,0,0,.2);padding:0;list-style:none;-webkit-user-select:none;user-select:none;margin:-0.25rem 0 0 .125rem;padding:.5rem 0;background-color:var(--popup-secondary-bg-color);border:1px solid var(--button-gray-3);cursor:default}.excalidraw .context-menu button{color:var(--popup-text-color)}.excalidraw .context-menu-option{position:relative;width:100%;min-width:9.5rem;margin:0;padding:.25rem 1rem .25rem 1.25rem;text-align:start;border-radius:0;background-color:transparent;border:none;white-space:nowrap;display:grid;grid-template-columns:1fr .2fr;align-items:center}.excalidraw .context-menu-option.checkmark::before{position:absolute;left:6px;margin-bottom:1px;content:"\u2713"}.excalidraw .context-menu-option.dangerous .context-menu-option__label{color:#f03e3e}.excalidraw .context-menu-option .context-menu-option__label{justify-self:start;-webkit-margin-end:20px;margin-inline-end:20px}.excalidraw .context-menu-option .context-menu-option__shortcut{justify-self:end;opacity:.6;font-family:inherit;font-size:.7rem}.excalidraw .context-menu-option:hover{color:var(--popup-bg-color);background-color:var(--select-highlight-color)}.excalidraw .context-menu-option:hover.dangerous{background-color:#fa5252}.excalidraw .context-menu-option:hover.dangerous .context-menu-option__label{color:var(--popup-bg-color)}.excalidraw .context-menu-option:focus{z-index:1}.excalidraw--mobile.excalidraw .context-menu-option{display:block}.excalidraw--mobile.excalidraw .context-menu-option .context-menu-option__label{-webkit-margin-end:0;margin-inline-end:0}.excalidraw--mobile.excalidraw .context-menu-option .context-menu-option__shortcut{display:none}.excalidraw .context-menu-option-separator{border:none;border-top:1px solid #adb5bd}',""]),A.default=W},9482:function(I,A,x){"use strict";x.r(A);var L=x(8081),g=x.n(L),D=x(3645),W=x.n(D)()(g());W.push([I.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Dialog{-webkit-user-select:text;user-select:text;cursor:auto}.excalidraw .Dialog__title{display:grid;align-items:center;margin-top:0;grid-template-columns:1fr calc(var(--space-factor)*7);grid-gap:var(--metric);padding:calc(var(--space-factor)*2);text-align:center;font-variant:small-caps;font-size:1.2em}.excalidraw .Dialog__titleContent{flex:1}.excalidraw .Dialog .Modal__close{color:var(--icon-fill-color);margin:0}.excalidraw .Dialog__content{padding:0 16px 16px}.excalidraw--mobile.excalidraw .Dialog{--metric: calc(var(--space-factor) * 4);--inset-left: max(var(--metric), var(--sal));--inset-right: max(var(--metric), var(--sar))}.excalidraw--mobile.excalidraw .Dialog__title{grid-template-columns:calc(var(--space-factor)*7) 1fr calc(var(--space-factor)*7);position:-webkit-sticky;position:sticky;top:0;padding:calc(var(--space-factor)*2);background:var(--island-bg-color);font-size:1.25em;box-sizing:border-box;border-bottom:1px solid var(--button-gray-2);z-index:1}.excalidraw--mobile.excalidraw .Dialog__titleContent{text-align:center}.excalidraw--mobile.excalidraw .Dialog .Island{width:100vw;height:100%;box-sizing:border-box;overflow-y:auto;padding-left:max(calc(var(--padding) * var(--space-factor)), var(--sal));padding-right:max(calc(var(--padding) * var(--space-factor)), var(--sar));padding-bottom:max(calc(var(--padding) * var(--space-factor)), var(--sab))}.excalidraw--mobile.excalidraw .Dialog .Modal__close{order:-1}",""]),A.default=W},7955:function(I,A,x){"use strict";x.r(A);var L=x(8081),g=x.n(L),D=x(3645),W=x.n(D),Q=x(1667),ee=x.n(Q),C=new URL(x(9669),x.b),He=W()(g()),le=ee()(C);He.push([I.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw .ExportDialog__preview{--preview-padding: calc(var(--space-factor) * 4);background:url("+le+") left center;text-align:center;padding:var(--preview-padding);margin-bottom:calc(var(--space-factor)*3)}.excalidraw .ExportDialog__preview canvas{max-width:calc(100% - var(--preview-padding)*2);max-height:25rem}.excalidraw.theme--dark .ExportDialog__preview canvas{-webkit-filter:none;filter:none}.excalidraw .ExportDialog__actions{width:100%;display:flex;grid-gap:calc(var(--space-factor)*2);align-items:top;justify-content:space-between}.excalidraw--mobile.excalidraw .ExportDialog{display:flex;flex-direction:column}.excalidraw--mobile.excalidraw .ExportDialog__actions{flex-direction:column;align-items:center}.excalidraw--mobile.excalidraw .ExportDialog__actions>*{margin-bottom:calc(var(--space-factor)*3)}.excalidraw--mobile.excalidraw .ExportDialog__preview canvas{max-height:30vh}.excalidraw--mobile.excalidraw .ExportDialog__dialog,.excalidraw--mobile.excalidraw .ExportDialog__dialog .Island{height:100%;box-sizing:border-box}.excalidraw--mobile.excalidraw .ExportDialog__dialog .Island{overflow-y:auto}.excalidraw .ExportDialog--json .ExportDialog-cards{display:grid;grid-template-columns:repeat(auto-fit, minmax(200px, 1fr));justify-items:center;row-gap:2em}@media(max-width: 460px){.excalidraw .ExportDialog--json .ExportDialog-cards{grid-template-columns:repeat(auto-fit, minmax(240px, 1fr))}.excalidraw .ExportDialog--json .ExportDialog-cards .Card-details{min-height:40px}}.excalidraw .ExportDialog--json .ExportDialog-cards .ProjectName{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;margin:1em auto;align-items:flex-start;flex-direction:column}.excalidraw .ExportDialog--json .ExportDialog-cards .ProjectName .TextInput{width:auto}.excalidraw .ExportDialog--json .ExportDialog-cards .ProjectName-label{margin:.625em 0;font-weight:bold}.excalidraw button.ExportDialog-imageExportButton{width:5rem;height:5rem;margin:0 .2em;border-radius:1rem;background-color:var(--button-color);box-shadow:0 3px 5px -1px rgba(0,0,0,.28),0 6px 10px 0 rgba(0,0,0,.14);font-family:Cascadia;font-size:1.8em;color:#fff}.excalidraw button.ExportDialog-imageExportButton:hover{background-color:var(--button-color-darker)}.excalidraw button.ExportDialog-imageExportButton:active{background-color:var(--button-color-darkest);box-shadow:none}.excalidraw button.ExportDialog-imageExportButton svg{width:.9em}",""]),A.default=He},3195:function(I,A,x){"use strict";x.r(A);var L=x(8081),g=x.n(L),D=x(3645),W=x.n(D)()(g());W.push([I.id,".excalidraw .FixedSideContainer{position:absolute;pointer-events:none}.excalidraw .FixedSideContainer>*{pointer-events:all}.excalidraw .FixedSideContainer_side_top{left:var(--space-factor);top:var(--space-factor);right:var(--space-factor);z-index:2}.excalidraw .FixedSideContainer_side_top.zen-mode{right:42px}",""]),A.default=W},2978:function(I,A,x){"use strict";x.r(A);var L=x(8081),g=x.n(L),D=x(3645),W=x.n(D)()(g());W.push([I.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw .HelpDialog h3{border-bottom:1px solid var(--button-gray-2);padding-bottom:4px}.excalidraw .HelpDialog--island{border:1px solid var(--button-gray-2);margin-bottom:16px}.excalidraw .HelpDialog--island-title{margin:0;padding:4px;background-color:var(--button-gray-1);text-align:center}.excalidraw .HelpDialog--shortcut{border-top:1px solid var(--button-gray-2)}.excalidraw .HelpDialog--key{word-break:keep-all;border:1px solid var(--button-gray-2);padding:2px 8px;margin:auto 4px;background-color:var(--button-gray-1);border-radius:2px;font-size:.8em;min-height:26px;box-sizing:border-box;display:flex;align-items:center;font-family:inherit}.excalidraw .HelpDialog--header{display:flex;flex-direction:row;justify-content:space-evenly;margin-bottom:32px;padding-bottom:16px}.excalidraw .HelpDialog--btn{border:1px solid var(--link-color);padding:8px 32px;border-radius:4px}.excalidraw .HelpDialog--btn:hover{text-decoration:none}",""]),A.default=W},1587:function(I,A,x){"use strict";x.r(A);var L=x(8081),g=x.n(L),D=x(3645),W=x.n(D)()(g());W.push([I.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw .HintViewer{pointer-events:none;box-sizing:border-box;position:absolute;display:flex;justify-content:center;left:0;top:100%;max-width:100%;width:100%;margin-top:6px;text-align:center;color:#868e96;font-size:.8rem}.excalidraw--mobile.excalidraw .HintViewer{position:static;padding-right:2em}.excalidraw .HintViewer>span{padding:.2rem .4rem;background-color:var(--overlay-bg-color);border-radius:4px}",""]),A.default=W},9478:function(I,A,x){"use strict";x.r(A);var L=x(8081),g=x.n(L),D=x(3645),W=x.n(D)()(g());W.push([I.id,':export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw .picker-container{display:inline-block;box-sizing:border-box;margin-right:.25rem}.excalidraw .picker{background:var(--popup-bg-color);border:0 solid rgba(255,255,255,.25);box-shadow:rgba(0,0,0,.25) 0 1px 4px;border-radius:4px;position:absolute}.excalidraw .picker-container button,.excalidraw .picker button{position:relative;display:flex;align-items:center;justify-content:center}.excalidraw .picker-container button:focus-visible,.excalidraw .picker button:focus-visible{outline:transparent;background-color:var(--button-gray-2)}.excalidraw .picker-container button:focus-visible svg,.excalidraw .picker button:focus-visible svg{opacity:1}.excalidraw .picker-container button:hover,.excalidraw .picker button:hover{background-color:var(--button-gray-2)}.excalidraw .picker-container button:active,.excalidraw .picker button:active{background-color:var(--button-gray-3)}.excalidraw .picker-container button:disabled,.excalidraw .picker button:disabled{cursor:not-allowed}.excalidraw .picker-container button svg,.excalidraw .picker button svg{margin:0;width:36px;height:18px;opacity:.6;pointer-events:none}.excalidraw .picker button{padding:.25rem .28rem .35rem .25rem}.excalidraw .picker-triangle{width:0;height:0;position:relative;top:-10px;z-index:10}:root[dir=ltr] .excalidraw .picker-triangle{left:12px}:root[dir=rtl] .excalidraw .picker-triangle{right:12px}.excalidraw .picker-triangle:before{content:"";position:absolute;border-style:solid;border-width:0 9px 10px;border-color:transparent transparent rgba(0,0,0,.1);top:-1px}.excalidraw .picker-triangle:after{content:"";position:absolute;border-style:solid;border-width:0 9px 10px;border-color:transparent transparent var(--popup-bg-color)}.excalidraw .picker-content{padding:.5rem;display:grid;grid-template-columns:repeat(3, auto);grid-gap:.5rem;border-radius:4px}:root[dir=rtl] .excalidraw .picker-content{padding:.4rem}.excalidraw .picker-keybinding{position:absolute;bottom:2px;font-size:.7em;color:var(--keybinding-color)}:root[dir=ltr] .excalidraw .picker-keybinding{right:2px}:root[dir=rtl] .excalidraw .picker-keybinding{left:2px}.excalidraw--mobile.excalidraw .picker-keybinding{display:none}.excalidraw .picker-type-canvasBackground .picker-keybinding{color:#aaa}.excalidraw .picker-type-elementBackground .picker-keybinding{color:#fff}.excalidraw .picker-swatch[aria-label=transparent] .picker-keybinding{color:#aaa}.excalidraw .picker-type-elementStroke .picker-keybinding{color:#d4d4d4}.excalidraw.theme--dark .picker-type-elementBackground .picker-keybinding{color:#000}.excalidraw.theme--dark .picker-swatch[aria-label=transparent] .picker-keybinding{color:#000}',""]),A.default=W},7369:function(I,A,x){"use strict";x.r(A);var L=x(8081),g=x.n(L),D=x(3645),W=x.n(D)()(g());W.push([I.id,".excalidraw .Island{--padding: 0;background-color:var(--island-bg-color);box-shadow:var(--shadow-island);border-radius:var(--border-radius-lg);padding:calc(var(--padding)*var(--space-factor));position:relative;transition:box-shadow .5s ease-in-out}.excalidraw .Island.zen-mode{box-shadow:none}",""]),A.default=W},1434:function(I,A,x){"use strict";x.r(A);var L=x(8081),g=x.n(L),D=x(3645),W=x.n(D)()(g());W.push([I.id,".excalidraw .layer-ui__wrapper{z-index:var(--zIndex-layerUI)}.excalidraw .layer-ui__wrapper__top-right{display:flex}.excalidraw .layer-ui__wrapper__footer{width:100%}.excalidraw .layer-ui__wrapper__footer-right{z-index:100;display:flex}.excalidraw .layer-ui__wrapper .zen-mode-transition{transition:-webkit-transform .5s ease-in-out;transition:transform .5s ease-in-out;transition:transform .5s ease-in-out, -webkit-transform .5s ease-in-out}:root[dir=ltr] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-left{-webkit-transform:translate(-999px, 0);transform:translate(-999px, 0)}:root[dir=ltr] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-right{-webkit-transform:translate(999px, 0);transform:translate(999px, 0)}:root[dir=rtl] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-left{-webkit-transform:translate(999px, 0);transform:translate(999px, 0)}:root[dir=rtl] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-right{-webkit-transform:translate(-999px, 0);transform:translate(-999px, 0)}:root[dir=ltr] .excalidraw .layer-ui__wrapper .zen-mode-transition.layer-ui__wrapper__footer-left--transition-left{-webkit-transform:translate(-76px, 0);transform:translate(-76px, 0)}:root[dir=rtl] .excalidraw .layer-ui__wrapper .zen-mode-transition.layer-ui__wrapper__footer-left--transition-left{-webkit-transform:translate(76px, 0);transform:translate(76px, 0)}.excalidraw .layer-ui__wrapper .zen-mode-transition.layer-ui__wrapper__footer-left--transition-bottom{-webkit-transform:translate(0, 92px);transform:translate(0, 92px)}.excalidraw .layer-ui__wrapper .disable-zen-mode{height:30px;position:absolute;bottom:10px;font-size:10px;padding:10px;font-weight:500;opacity:0;visibility:hidden;transition:visibility 0s linear 0s,opacity .5s}[dir=ltr] .excalidraw .layer-ui__wrapper .disable-zen-mode{right:15px}[dir=rtl] .excalidraw .layer-ui__wrapper .disable-zen-mode{left:15px}.excalidraw .layer-ui__wrapper .disable-zen-mode--visible{opacity:1;visibility:visible;transition:visibility 0s linear 300ms,opacity .5s;transition-delay:.8s}.excalidraw .layer-ui__wrapper .layer-ui__wrapper__footer-center{pointer-events:none}.excalidraw .layer-ui__wrapper .layer-ui__wrapper__footer-center>*{pointer-events:all}.excalidraw .layer-ui__wrapper .layer-ui__wrapper__footer-left,.excalidraw .layer-ui__wrapper .layer-ui__wrapper__footer-right,.excalidraw .layer-ui__wrapper .disable-zen-mode--visible{pointer-events:all}.excalidraw .layer-ui__wrapper .layer-ui__wrapper__footer-left{margin-bottom:.2em}.excalidraw .layer-ui__wrapper .layer-ui__wrapper__footer-right{margin-top:auto;margin-bottom:auto;-webkit-margin-end:1em;margin-inline-end:1em}",""]),A.default=W},8923:function(I,A,x){"use strict";x.r(A);var L=x(8081),g=x.n(L),D=x(3645),W=x.n(D)()(g());W.push([I.id,".excalidraw .layer-ui__library{margin:auto;display:flex;align-items:center;justify-content:center}.excalidraw .layer-ui__library .layer-ui__library-header{display:flex;align-items:center;width:100%;margin:2px 0}.excalidraw .layer-ui__library .layer-ui__library-header button{margin:0 2px}.excalidraw .layer-ui__library .layer-ui__library-header a{-webkit-margin-start:auto;margin-inline-start:auto;-webkit-padding-end:18px;padding-inline-end:18px;white-space:nowrap}.excalidraw .layer-ui__library-message{padding:10px 20px;max-width:200px}.excalidraw .publish-library-success .Dialog__content{display:flex;flex-direction:column}.excalidraw .publish-library-success-close.ToolIcon_type_button{background-color:#228be6;align-self:flex-end}.excalidraw .publish-library-success-close.ToolIcon_type_button:hover{background-color:#1971c2}.excalidraw .publish-library-success-close.ToolIcon_type_button .ToolIcon__icon{width:auto;font-size:1rem;color:#fff;padding:0 .5rem}",""]),A.default=W},5605:function(I,A,x){"use strict";x.r(A);var L=x(8081),g=x.n(L),D=x(3645),W=x.n(D)()(g());W.push([I.id,".excalidraw .library-menu-items-container .library-actions{display:flex}.excalidraw .library-menu-items-container .library-actions button .library-actions-counter{position:absolute;right:2px;bottom:2px;border-radius:50%;width:1em;height:1em;padding:1px;font-size:.7rem;background:#fff}.excalidraw .library-menu-items-container .library-actions--remove{background-color:#f03e3e}.excalidraw .library-menu-items-container .library-actions--remove:hover{background-color:#e03131}.excalidraw .library-menu-items-container .library-actions--remove:active{background-color:#c92a2a}.excalidraw .library-menu-items-container .library-actions--remove svg{color:#fff}.excalidraw .library-menu-items-container .library-actions--remove .library-actions-counter{color:#f03e3e}.excalidraw .library-menu-items-container .library-actions--export{background-color:#94d82d}.excalidraw .library-menu-items-container .library-actions--export:hover{background-color:#74b816}.excalidraw .library-menu-items-container .library-actions--export:active{background-color:#66a80f}.excalidraw .library-menu-items-container .library-actions--export svg{color:#fff}.excalidraw .library-menu-items-container .library-actions--export .library-actions-counter{color:#94d82d}.excalidraw .library-menu-items-container .library-actions--publish{background-color:#15aabf}.excalidraw .library-menu-items-container .library-actions--publish:hover{background-color:#1098ad}.excalidraw .library-menu-items-container .library-actions--publish:active{background-color:#0b7285}.excalidraw .library-menu-items-container .library-actions--publish svg{color:#fff}.excalidraw .library-menu-items-container .library-actions--publish label{margin-left:-0.2em;margin-right:1.1em;color:#fff;font-size:.86em}.excalidraw .library-menu-items-container .library-actions--publish .library-actions-counter{color:#15aabf}.excalidraw .library-menu-items-container .library-actions--load{background-color:#228be6}.excalidraw .library-menu-items-container .library-actions--load:hover{background-color:#1c7ed6}.excalidraw .library-menu-items-container .library-actions--load:active{background-color:#1864ab}.excalidraw .library-menu-items-container .library-actions--load svg{color:#fff}.excalidraw .library-menu-items-container__items{max-height:50vh;overflow:auto;margin-top:.5rem}.excalidraw .library-menu-items-container .separator{font-weight:500;font-size:.9rem;margin:.6em .2em;color:var(--text-primary-color)}",""]),A.default=W},5644:function(I,A,x){"use strict";x.r(A);var L=x(8081),g=x.n(L),D=x(3645),W=x.n(D)()(g());W.push([I.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw .library-unit{align-items:center;border:1px solid var(--button-gray-2);display:flex;justify-content:center;position:relative;width:63px;height:63px}.excalidraw .library-unit--hover{box-shadow:inset 0px 0px 0px 2px #339af0;border-color:#339af0}.excalidraw .library-unit--selected{box-shadow:inset 0px 0px 0px 2px #1971c2;border-color:#1971c2}.excalidraw.theme--dark .library-unit{border-color:#303030}.excalidraw .library-unit__dragger{display:flex;align-items:center;justify-content:center;height:100%;width:100%}.excalidraw .library-unit__dragger>svg{-webkit-filter:var(--theme-filter);filter:var(--theme-filter);flex-grow:1;max-height:100%;max-width:100%}.excalidraw .library-unit__checkbox-container,.excalidraw .library-unit__checkbox-container:hover,.excalidraw .library-unit__checkbox-container:active{align-items:center;background:none;border:none;color:var(--icon-fill-color);display:flex;justify-content:center;margin:0;padding:.5rem;position:absolute;left:2rem;bottom:2rem;cursor:pointer}.excalidraw .library-unit__checkbox-container input,.excalidraw .library-unit__checkbox-container:hover input,.excalidraw .library-unit__checkbox-container:active input{cursor:pointer}.excalidraw .library-unit__checkbox{position:absolute;left:2.3rem;bottom:2.3rem}.excalidraw .library-unit__checkbox .Checkbox-box{width:13px;height:13px;border-radius:2px;margin:.5em .5em .2em .2em;background-color:#d0ebff}.excalidraw .library-unit__checkbox.Checkbox:hover .Checkbox-box{background-color:#a5d8ff}.excalidraw .library-unit__removeFromLibrary>svg{height:16px;width:16px}.excalidraw .library-unit__adder{-webkit-transform:scale(1);transform:scale(1);-webkit-animation:library-unit__adder-animation 1s ease-in infinite;animation:library-unit__adder-animation 1s ease-in infinite}.excalidraw .library-unit__adder{position:absolute;left:40%;top:40%;width:2rem;height:2rem;margin-left:-10px;margin-top:-10px;pointer-events:none}.excalidraw .library-unit:hover .library-unit__adder{fill:#1c7ed6}.excalidraw .library-unit:active .library-unit__adder{-webkit-animation:none;animation:none;-webkit-transform:scale(0.8);transform:scale(0.8);fill:#000}.excalidraw .library-unit__active{cursor:pointer}@-webkit-keyframes library-unit__adder-animation{0%{-webkit-transform:scale(0.85);transform:scale(0.85)}50%{-webkit-transform:scale(1);transform:scale(1)}100%{-webkit-transform:scale(0.85);transform:scale(0.85)}}@keyframes library-unit__adder-animation{0%{-webkit-transform:scale(0.85);transform:scale(0.85)}50%{-webkit-transform:scale(1);transform:scale(1)}100%{-webkit-transform:scale(0.85);transform:scale(0.85)}}",""]),A.default=W},6843:function(I,A,x){"use strict";x.r(A);var L=x(8081),g=x.n(L),D=x(3645),W=x.n(D)()(g());W.push([I.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw.excalidraw-modal-container{position:absolute;z-index:10}.excalidraw .Modal{position:absolute;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center;overflow:auto;padding:calc(var(--space-factor)*10)}.excalidraw .Modal__background{position:absolute;top:0;left:0;right:0;bottom:0;z-index:1;background-color:rgba(0,0,0,.7)}.excalidraw .Modal__content{position:relative;z-index:2;width:100%;max-width:var(--max-width);max-height:100%;opacity:0;-webkit-transform:translateY(10px);transform:translateY(10px);-webkit-animation:Modal__content_fade-in .1s ease-out .05s forwards;animation:Modal__content_fade-in .1s ease-out .05s forwards;position:relative;overflow-y:auto;background:var(--island-bg-color);border:1px solid var(--dialog-border-color);box-shadow:0 2px 10px rgba(0,0,0,.25);border-radius:6px;box-sizing:border-box}.excalidraw .Modal__content:focus{outline:none}.excalidraw--mobile.excalidraw .Modal__content{max-width:100%;border:0;border-radius:0}@-webkit-keyframes Modal__content_fade-in{from{opacity:0;-webkit-transform:translateY(10px);transform:translateY(10px)}to{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes Modal__content_fade-in{from{opacity:0;-webkit-transform:translateY(10px);transform:translateY(10px)}to{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}}.excalidraw .Modal__close{width:calc(var(--space-factor)*7);height:calc(var(--space-factor)*7);display:flex;align-items:center;justify-content:center}.excalidraw .Modal__close svg{height:calc(var(--space-factor)*5)}.excalidraw--mobile.excalidraw .Modal{padding:0}.excalidraw--mobile.excalidraw .Modal__content{position:absolute;top:0;left:0;right:0;bottom:0}",""]),A.default=W},8461:function(I,A,x){"use strict";x.r(A);var L=x(8081),g=x.n(L),D=x(3645),W=x.n(D)()(g());W.push([I.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw--mobile.excalidraw .PasteChartDialog .Island{display:flex;flex-direction:column}.excalidraw .PasteChartDialog .container{display:flex;align-items:center;justify-content:space-around;flex-wrap:wrap}.excalidraw--mobile.excalidraw .PasteChartDialog .container{flex-direction:column;justify-content:center}.excalidraw .PasteChartDialog .ChartPreview{margin:8px;text-align:center;width:192px;height:128px;border-radius:2px;padding:1px;border:1px solid #ced4da;display:flex;align-items:center;justify-content:center;background:transparent}.excalidraw .PasteChartDialog .ChartPreview div{display:inline-block}.excalidraw .PasteChartDialog .ChartPreview svg{max-height:120px;max-width:186px}.excalidraw .PasteChartDialog .ChartPreview:hover{padding:0;border:2px solid #339af0}",""]),A.default=W},9935:function(I,A,x){"use strict";x.r(A);var L=x(8081),g=x.n(L),D=x(3645),W=x.n(D)()(g());W.push([I.id,".excalidraw .popover{position:absolute;z-index:10}",""]),A.default=W},532:function(I,A,x){"use strict";x.r(A);var L=x(8081),g=x.n(L),D=x(3645),W=x.n(D)()(g());W.push([I.id,".ProjectName{margin:auto;display:flex;align-items:center}.ProjectName .TextInput{height:calc(1rem - 3px);width:200px;overflow:hidden;text-align:center;margin-left:8px;text-overflow:ellipsis}.ProjectName .TextInput--readonly{background:none;border:none;width:auto;max-width:200px;padding-left:2px}.ProjectName .TextInput--readonly:hover{background:none}",""]),A.default=W},7589:function(I,A,x){"use strict";x.r(A);var L=x(8081),g=x.n(L),D=x(3645),W=x.n(D)()(g());W.push([I.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw .publish-library__fields{display:flex;flex-direction:column}.excalidraw .publish-library__fields label{padding:1em;display:flex;justify-content:space-between;align-items:center}.excalidraw .publish-library__fields label span{font-weight:500;font-size:1rem;color:#868e96}.excalidraw .publish-library__fields label input,.excalidraw .publish-library__fields label textarea{width:70%;padding:.6em;font-family:var(--ui-font)}.excalidraw .publish-library__fields label .required{color:#e03131;margin:.2rem}.excalidraw .publish-library__buttons{display:flex;padding:.2rem 0;justify-content:flex-end}.excalidraw .publish-library__buttons .ToolIcon__icon{min-width:2.5rem;width:auto;font-size:1rem}.excalidraw .publish-library__buttons .ToolIcon_type_button{margin-left:1rem;padding:0 .5rem}.excalidraw .publish-library__buttons--confirm.ToolIcon_type_button{background-color:#228be6}.excalidraw .publish-library__buttons--confirm.ToolIcon_type_button:hover{background-color:#1971c2}.excalidraw .publish-library__buttons--cancel.ToolIcon_type_button{background-color:#adb5bd}.excalidraw .publish-library__buttons--cancel.ToolIcon_type_button:hover{background-color:#868e96}.excalidraw .publish-library__buttons .ToolIcon__icon{color:#fff}.excalidraw .publish-library__buttons .ToolIcon__icon .Spinner{--spinner-color: #fff}.excalidraw .publish-library__buttons .ToolIcon__icon .Spinner svg{padding:.5rem}.excalidraw .publish-library .selected-library-items{display:flex;padding:0 .8rem;flex-wrap:wrap}.excalidraw .publish-library .selected-library-items .single-library-item-wrapper{width:9rem}.excalidraw .publish-library-note{padding:1em;font-style:italic;font-size:14px;display:block}",""]),A.default=W},8465:function(I,A,x){"use strict";x.r(A);var L=x(8081),g=x.n(L),D=x(3645),W=x.n(D)()(g());W.push([I.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw .single-library-item{position:relative}.excalidraw .single-library-item__svg{width:7.5rem;height:7.5rem;border:1px solid var(--button-gray-2);margin:.3rem}.excalidraw .single-library-item__svg svg{width:100%;height:100%}.excalidraw .single-library-item .ToolIcon__icon{background-color:#fff;width:auto;height:auto;margin:0 .5rem}.excalidraw .single-library-item .ToolIcon,.excalidraw .single-library-item .ToolIcon_type_button:hover{background-color:#fff}.excalidraw .single-library-item .required,.excalidraw .single-library-item .error{color:#e03131;font-weight:bold;font-size:1rem;margin:.2rem}.excalidraw .single-library-item .error{font-weight:500;margin:0;padding:.3em 0}.excalidraw .single-library-item--remove{position:absolute;top:.2rem;right:1.3rem}.excalidraw .single-library-item--remove .ToolIcon__icon{margin:0}.excalidraw .single-library-item--remove .ToolIcon__icon{background-color:#fa5252}.excalidraw .single-library-item--remove .ToolIcon__icon:hover{background-color:#f03e3e}.excalidraw .single-library-item--remove .ToolIcon__icon:active{background-color:#e03131}.excalidraw .single-library-item--remove svg{color:#fff;padding:.26rem;border-radius:.3em;width:1rem;height:1rem}",""]),A.default=W},5892:function(I,A,x){"use strict";x.r(A);var L=x(8081),g=x.n(L),D=x(3645),W=x.n(D)()(g());W.push([I.id,".excalidraw .Spinner{display:flex;align-items:center;justify-content:center;height:100%;margin-left:auto;margin-right:auto;--spinner-color: var(--icon-fill-color)}.excalidraw .Spinner svg{-webkit-animation:rotate 1.6s linear infinite;animation:rotate 1.6s linear infinite;-webkit-transform-origin:center center;transform-origin:center center}.excalidraw .Spinner circle{stroke:var(--spinner-color);-webkit-animation:dash 1.6s linear 0s infinite;animation:dash 1.6s linear 0s infinite;stroke-linecap:round}@-webkit-keyframes rotate{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes rotate{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes dash{0%{stroke-dasharray:1,300;stroke-dashoffset:0}50%{stroke-dasharray:150,300;stroke-dashoffset:-200}100%{stroke-dasharray:1,300;stroke-dashoffset:-280}}@keyframes dash{0%{stroke-dasharray:1,300;stroke-dashoffset:0}50%{stroke-dasharray:150,300;stroke-dashoffset:-200}100%{stroke-dasharray:1,300;stroke-dashoffset:-280}}",""]),A.default=W},3874:function(I,A,x){"use strict";x.r(A);var L=x(8081),g=x.n(L),D=x(3645),W=x.n(D)()(g());W.push([I.id,".excalidraw .Stack{--gap: 0;display:grid;gap:calc(var(--space-factor)*var(--gap))}.excalidraw .Stack_vertical{grid-template-columns:auto;grid-auto-flow:row;grid-auto-rows:-webkit-min-content;grid-auto-rows:min-content}.excalidraw .Stack_horizontal{grid-template-rows:auto;grid-auto-flow:column;grid-auto-columns:-webkit-min-content;grid-auto-columns:min-content}",""]),A.default=W},2681:function(I,A,x){"use strict";x.r(A);var L=x(8081),g=x.n(L),D=x(3645),W=x.n(D)()(g());W.push([I.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Stats{position:absolute;top:64px;right:12px;font-size:12px;z-index:10}.excalidraw .Stats h3{margin:0 24px 8px 0;white-space:nowrap}.excalidraw .Stats .close{float:right;height:16px;width:16px;cursor:pointer}.excalidraw .Stats .close svg{width:100%;height:100%}.excalidraw .Stats table{width:100%}.excalidraw .Stats table th{border-bottom:1px solid var(--input-border-color);padding:4px}.excalidraw .Stats table tr td:nth-child(2){min-width:24px;text-align:right}:root[dir=rtl] .excalidraw .Stats{left:12px;right:initial}:root[dir=rtl] .excalidraw .Stats h3{margin:0 0 8px 24px}:root[dir=rtl] .excalidraw .Stats .close{float:left}",""]),A.default=W},6759:function(I,A,x){"use strict";x.r(A);var L=x(8081),g=x.n(L),D=x(3645),W=x.n(D)()(g());W.push([I.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw .TextInput{display:inline-block}",""]),A.default=W},9650:function(I,A,x){"use strict";x.r(A);var L=x(8081),g=x.n(L),D=x(3645),W=x.n(D)()(g());W.push([I.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Toast{-webkit-animation:fade-in .5s;animation:fade-in .5s;background-color:var(--button-gray-1);border-radius:4px;bottom:10px;box-sizing:border-box;cursor:default;left:50%;margin-left:-150px;padding:4px 0;position:absolute;text-align:center;width:300px;z-index:999999}.excalidraw .Toast__message{color:var(--popup-text-color);white-space:pre-wrap}@-webkit-keyframes fade-in{from{opacity:0}to{opacity:1}}@keyframes fade-in{from{opacity:0}to{opacity:1}}",""]),A.default=W},2044:function(I,A,x){"use strict";x.r(A);var L=x(8081),g=x.n(L),D=x(3645),W=x.n(D)()(g());W.push([I.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw .ToolIcon{display:inline-flex;align-items:center;position:relative;cursor:pointer;-webkit-tap-highlight-color:transparent;-webkit-user-select:none;user-select:none}.excalidraw .ToolIcon--plain{background-color:transparent}.excalidraw .ToolIcon--plain .ToolIcon__icon{width:2rem;height:2rem}.excalidraw .ToolIcon_type_radio+.ToolIcon__icon,.excalidraw .ToolIcon_type_checkbox+.ToolIcon__icon{background-color:var(--button-gray-1)}.excalidraw .ToolIcon_type_radio+.ToolIcon__icon:hover,.excalidraw .ToolIcon_type_checkbox+.ToolIcon__icon:hover{background-color:var(--button-gray-2)}.excalidraw .ToolIcon_type_radio+.ToolIcon__icon:active,.excalidraw .ToolIcon_type_checkbox+.ToolIcon__icon:active{background-color:var(--button-gray-3)}.excalidraw .ToolIcon__icon{width:2.5rem;height:2.5rem;color:var(--icon-fill-color);display:flex;justify-content:center;align-items:center;border-radius:var(--border-radius-lg)}.excalidraw .ToolIcon__icon+.ToolIcon__label{-webkit-margin-start:0;margin-inline-start:0}.excalidraw .ToolIcon__icon svg{position:relative;height:1em;fill:var(--icon-fill-color);color:var(--icon-fill-color)}.excalidraw .ToolIcon__label{display:flex;align-items:center;color:var(--icon-fill-color);font-family:var(--ui-font);margin:0 .8em;text-overflow:ellipsis}.excalidraw .ToolIcon__label .Spinner{margin-left:.6em}.excalidraw .ToolIcon_size_small .ToolIcon__icon{width:2rem;height:2rem;font-size:.8em}.excalidraw .excalidraw .ToolIcon_type_button,.excalidraw .Modal .ToolIcon_type_button,.excalidraw .ToolIcon_type_button{padding:0;border:none;margin:0;font-size:inherit}.excalidraw .excalidraw .ToolIcon_type_button:focus-visible,.excalidraw .Modal .ToolIcon_type_button:focus-visible,.excalidraw .ToolIcon_type_button:focus-visible{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .excalidraw .ToolIcon_type_button.ToolIcon--selected,.excalidraw .Modal .ToolIcon_type_button.ToolIcon--selected,.excalidraw .ToolIcon_type_button.ToolIcon--selected{background-color:var(--button-gray-2)}.excalidraw .excalidraw .ToolIcon_type_button.ToolIcon--selected:active,.excalidraw .Modal .ToolIcon_type_button.ToolIcon--selected:active,.excalidraw .ToolIcon_type_button.ToolIcon--selected:active{background-color:var(--button-gray-3)}.excalidraw .excalidraw .ToolIcon_type_button:hover,.excalidraw .Modal .ToolIcon_type_button:hover,.excalidraw .ToolIcon_type_button:hover{background-color:var(--button-gray-2)}.excalidraw .excalidraw .ToolIcon_type_button:active,.excalidraw .Modal .ToolIcon_type_button:active,.excalidraw .ToolIcon_type_button:active{background-color:var(--button-gray-3)}.excalidraw .excalidraw .ToolIcon_type_button--show,.excalidraw .Modal .ToolIcon_type_button--show,.excalidraw .ToolIcon_type_button--show{visibility:visible}.excalidraw .excalidraw .ToolIcon_type_button--hide,.excalidraw .Modal .ToolIcon_type_button--hide,.excalidraw .ToolIcon_type_button--hide{visibility:hidden}.excalidraw .ToolIcon_type_radio,.excalidraw .ToolIcon_type_checkbox{position:absolute;opacity:0;pointer-events:none}.excalidraw .ToolIcon_type_radio:not(.ToolIcon_toggle_opaque):checked+.ToolIcon__icon,.excalidraw .ToolIcon_type_checkbox:not(.ToolIcon_toggle_opaque):checked+.ToolIcon__icon{background-color:var(--button-gray-2)}.excalidraw .ToolIcon_type_radio:not(.ToolIcon_toggle_opaque):checked+.ToolIcon__icon:active,.excalidraw .ToolIcon_type_checkbox:not(.ToolIcon_toggle_opaque):checked+.ToolIcon__icon:active{background-color:var(--button-gray-3)}.excalidraw .ToolIcon_type_radio:focus-visible+.ToolIcon__icon,.excalidraw .ToolIcon_type_checkbox:focus-visible+.ToolIcon__icon{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .ToolIcon_type_radio:active+.ToolIcon__icon,.excalidraw .ToolIcon_type_checkbox:active+.ToolIcon__icon{background-color:var(--button-gray-3)}.excalidraw .ToolIcon_type_floating{background-color:transparent}.excalidraw .ToolIcon_type_floating:hover{background-color:transparent}.excalidraw .ToolIcon_type_floating:active{background-color:transparent}.excalidraw .ToolIcon_type_floating .ToolIcon__icon{background-color:var(--button-gray-1);width:2rem;height:2em}.excalidraw .ToolIcon_type_floating .ToolIcon__icon:hover{background-color:var(--button-gray-2)}.excalidraw .ToolIcon_type_floating .ToolIcon__icon:active{background-color:var(--button-gray-3)}.excalidraw .ToolIcon__keybinding{position:absolute;bottom:2px;right:3px;font-size:.5em;color:var(--keybinding-color);font-family:var(--ui-font);-webkit-user-select:none;user-select:none}@media(max-width: 425px){.excalidraw .Shape .ToolIcon__icon{width:2rem;height:2rem}.excalidraw .Shape .ToolIcon__icon svg{height:.8em}}@media(max-width: 760px){.excalidraw .ToolIcon.ToolIcon_type_floating{display:inline-block;position:absolute;right:-8px;margin-left:0;border-radius:20px 0 0 20px;z-index:1;background-color:var(--button-gray-1)}.excalidraw .ToolIcon.ToolIcon_type_floating:hover{background-color:var(--button-gray-1)}.excalidraw .ToolIcon.ToolIcon_type_floating:active{background-color:var(--button-gray-2)}.excalidraw .ToolIcon.ToolIcon_type_floating .ToolIcon__icon{border-radius:inherit}.excalidraw .ToolIcon.ToolIcon_type_floating svg{position:static}.excalidraw .ToolIcon.ToolIcon__library{top:100px}.excalidraw .ToolIcon.ToolIcon__lock{-webkit-margin-end:0;margin-inline-end:0;top:60px}.excalidraw .ToolIcon.ToolIcon__penMode{-webkit-margin-end:0;margin-inline-end:0;top:140px}}:root[dir=ltr] .excalidraw .unlocked-icon{left:2px}:root[dir=rtl] .excalidraw .unlocked-icon{right:2px}",""]),A.default=W},9144:function(I,A,x){"use strict";x.r(A);var L=x(8081),g=x.n(L),D=x(3645),W=x.n(D)()(g());W.push([I.id,".excalidraw .App-toolbar-container .ToolIcon_type_floating .ToolIcon_type_radio+.ToolIcon__icon:active,.excalidraw .App-toolbar-container .ToolIcon_type_floating .ToolIcon_type_checkbox+.ToolIcon__icon:active{background:var(--color-primary-light)}.excalidraw .App-toolbar-container .ToolIcon_type_floating .ToolIcon_type_radio:checked+.ToolIcon__icon,.excalidraw .App-toolbar-container .ToolIcon_type_floating .ToolIcon_type_checkbox:checked+.ToolIcon__icon{background:var(--color-primary);--icon-fill-color: #ffffff;--keybinding-color: #ffffff}.excalidraw .App-toolbar-container .ToolIcon_type_floating .ToolIcon_type_radio:checked+.ToolIcon__icon:active,.excalidraw .App-toolbar-container .ToolIcon_type_floating .ToolIcon_type_checkbox:checked+.ToolIcon__icon:active{background:var(--color-primary-darker)}.excalidraw .App-toolbar-container .ToolIcon_type_floating .ToolIcon__keybinding{bottom:4px;right:4px}.excalidraw .App-toolbar-container .ToolIcon_type_floating:not(.is-mobile) .ToolIcon__icon{padding:1px;background-color:var(--island-bg-color);box-shadow:1px 3px 4px 0px rgba(0,0,0,.15);border-radius:50%;transition:box-shadow .5s ease,-webkit-transform .5s ease;transition:box-shadow .5s ease,transform .5s ease;transition:box-shadow .5s ease,transform .5s ease,-webkit-transform .5s ease}.excalidraw .App-toolbar-container .ToolIcon_type_floating .ToolIcon_type_radio:focus-within+.ToolIcon__icon,.excalidraw .App-toolbar-container .ToolIcon_type_floating .ToolIcon_type_checkbox:focus-within+.ToolIcon__icon{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .App-toolbar-container .ToolIcon__hidden{box-shadow:none !important;background-color:transparent !important;pointer-events:none !important}.excalidraw .App-toolbar-container .ToolIcon.ToolIcon__lock{-webkit-margin-end:var(--space-factor);margin-inline-end:var(--space-factor)}.excalidraw .App-toolbar-container .ToolIcon.ToolIcon__lock.ToolIcon_type_floating{margin-left:.1rem}.excalidraw .App-toolbar-container .ToolIcon__library{-webkit-margin-start:var(--space-factor);margin-inline-start:var(--space-factor)}.excalidraw .App-toolbar-container.zen-mode .ToolIcon_type_floating .ToolIcon__icon{box-shadow:none;-webkit-transform:scale(0.9);transform:scale(0.9)}.excalidraw .App-toolbar-container.zen-mode .ToolIcon_type_floating .ToolIcon_type_checkbox:not(:checked):not(:hover):not(:active)+.ToolIcon__icon svg{fill:#adb5bd;color:#adb5bd}.excalidraw .App-toolbar{border-radius:var(--border-radius-lg);box-shadow:0 0 0 1px rgba(0,0,0,.01),1px 1px 5px rgba(0,0,0,.15)}.excalidraw .App-toolbar .ToolIcon:hover{--icon-fill-color: var( --color-primary-contrast-offset, var(--color-primary) );--keybinding-color: var( --color-primary-contrast-offset, var(--color-primary) )}.excalidraw .App-toolbar .ToolIcon:active{--icon-fill-color: #212529;--keybinding-color: #212529}.excalidraw .App-toolbar .ToolIcon .ToolIcon__icon{background:transparent;border-radius:var(--border-radius-lg)}.excalidraw .App-toolbar .ToolIcon .ToolIcon_type_radio+.ToolIcon__icon:active,.excalidraw .App-toolbar .ToolIcon .ToolIcon_type_checkbox+.ToolIcon__icon:active{background:var(--color-primary-light)}.excalidraw .App-toolbar .ToolIcon .ToolIcon_type_radio:checked+.ToolIcon__icon,.excalidraw .App-toolbar .ToolIcon .ToolIcon_type_checkbox:checked+.ToolIcon__icon{background:var(--color-primary);--icon-fill-color: #ffffff;--keybinding-color: #ffffff}.excalidraw .App-toolbar .ToolIcon .ToolIcon_type_radio:checked+.ToolIcon__icon:active,.excalidraw .App-toolbar .ToolIcon .ToolIcon_type_checkbox:checked+.ToolIcon__icon:active{background:var(--color-primary-darker)}.excalidraw .App-toolbar .ToolIcon .ToolIcon__keybinding{bottom:4px;right:4px}.excalidraw .App-toolbar.zen-mode .ToolIcon__keybinding,.excalidraw .App-toolbar.zen-mode .HintViewer{display:none}.excalidraw.theme--dark .App-toolbar .ToolIcon:active{--icon-fill-color: #dee2e6;--keybinding-color: #dee2e6}",""]),A.default=W},6626:function(I,A,x){"use strict";x.r(A);var L=x(8081),g=x.n(L),D=x(3645),W=x.n(D)()(g());W.push([I.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw-tooltip{position:absolute;z-index:1000;padding:8px;border-radius:6px;box-sizing:border-box;pointer-events:none;word-wrap:break-word;background:#000;line-height:1.5;text-align:center;font-size:13px;font-weight:500;color:#fff;display:none}.excalidraw-tooltip.excalidraw-tooltip--visible{display:block}.excalidraw-tooltip-wrapper{display:flex}.excalidraw-tooltip-icon{width:.9em;height:.9em;margin-left:5px;margin-top:1px;display:flex}.excalidraw--mobile.excalidraw-tooltip-icon{display:none}",""]),A.default=W},6359:function(I,A,x){"use strict";x.r(A);var L=x(8081),g=x.n(L),D=x(3645),W=x.n(D)()(g());W.push([I.id,".excalidraw .UserList{pointer-events:none;padding:var(--space-factor) var(--space-factor) var(--space-factor) var(--space-factor);display:flex;flex-wrap:wrap;justify-content:flex-end}.excalidraw .UserList:empty{display:none}.excalidraw .UserList>*{pointer-events:all;margin:0 0 var(--space-factor) var(--space-factor)}.excalidraw .UserList_mobile{padding:0;justify-content:normal}.excalidraw .UserList_mobile>*{margin:0 var(--space-factor) var(--space-factor) 0}",""]),A.default=W},9915:function(I,A,x){"use strict";x.r(A);var L=x(8081),g=x.n(L),D=x(3645),W=x.n(D)()(g());W.push([I.id,".visually-hidden{position:absolute !important;height:1px;width:1px;overflow:hidden;clip:rect(1px, 1px, 1px, 1px);white-space:nowrap;-webkit-user-select:none;user-select:none}.LoadingMessage{position:absolute;top:0;right:0;bottom:0;left:0;z-index:999;display:flex;align-items:center;justify-content:center;pointer-events:none}.LoadingMessage span{background-color:var(--button-gray-1);border-radius:5px;padding:.8em 1.2em;color:var(--popup-text-color);font-size:1.3em}",""]),A.default=W},9310:function(I,A,x){"use strict";x.r(A);var L=x(8081),g=x.n(L),D=x(3645),W=x.n(D),Q=x(1667),ee=x.n(Q),C=new URL(x(7984),x.b),He=new URL(x(1639),x.b),le=W()(g()),Fe=ee()(C),ht=ee()(He);le.push([I.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}:export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw{--theme-filter: none;--button-destructive-bg-color: #ffe3e3;--button-destructive-color: #c92a2a;--button-gray-1: #e9ecef;--button-gray-2: #ced4da;--button-gray-3: #adb5bd;--button-special-active-bg-color: #ebfbee;--dialog-border-color: #868e96;--dropdown-icon: url("+Fe+");--focus-highlight-color: #a5d8ff;--icon-fill-color: #212529;--icon-green-fill-color: #2b8a3e;--default-bg-color: #ffffff;--input-bg-color: #ffffff;--input-border-color: #ced4da;--input-hover-bg-color: #f1f3f5;--input-label-color: #495057;--island-bg-color: rgba(255, 255, 255, 0.96);--keybinding-color: #adb5bd;--link-color: #1c7ed6;--overlay-bg-color: rgba(255, 255, 255, 0.88);--popup-bg-color: #ffffff;--popup-secondary-bg-color: #f1f3f5;--popup-text-color: #000000;--popup-text-inverted-color: #ffffff;--sab: env(safe-area-inset-bottom);--sal: env(safe-area-inset-left);--sar: env(safe-area-inset-right);--sat: env(safe-area-inset-top);--select-highlight-color: #339af0;--shadow-island: 0 0 0 1px rgba(0, 0, 0, 0.01), 1px 1px 5px rgb(0 0 0 / 12%);--space-factor: 0.25rem;--text-primary-color: #343a40;--color-primary: #6965db;--color-primary-darker: #5b57d1;--color-primary-darkest: #4a47b1;--color-primary-light: #e2e1fc;--border-radius-md: 0.375rem;--border-radius-lg: 0.5rem}.excalidraw.theme--dark{background:#000}.excalidraw.theme--dark.theme--dark-background-none{background:none}.excalidraw.theme--dark{--theme-filter: invert(93%) hue-rotate(180deg);--button-destructive-bg-color: #5a0000;--button-destructive-color: #ffa8a8;--button-gray-1: #363636;--button-gray-2: #272727;--button-gray-3: #222;--button-special-active-bg-color: #204624;--dialog-border-color: #212529;--dropdown-icon: url("+ht+');--focus-highlight-color: #228be6;--icon-fill-color: #ced4da;--icon-green-fill-color: #69db7c;--default-bg-color: #121212;--input-bg-color: #121212;--input-border-color: #2e2e2e;--input-hover-bg-color: #181818;--input-label-color: #e9ecef;--island-bg-color: rgba(30, 30, 30, 0.98);--keybinding-color: #868e96;--link-color: #4dabf7;--overlay-bg-color: rgba(52, 58, 64, 0.12);--popup-bg-color: #2c2c2c;--popup-secondary-bg-color: #222;--popup-text-color: #ced4da;--popup-text-inverted-color: #2c2c2c;--select-highlight-color: #4dabf7;--shadow-island: 1px 1px 5px rgba(0, 0, 0, 0.3);--text-primary-color: #ced4da;--color-primary: #5650f0;--color-primary-darker: #4b46d8;--color-primary-darkest: #3e39be;--color-primary-light: #3f3d64}:root{--zIndex-canvas: 1;--zIndex-wysiwyg: 2;--zIndex-layerUI: 3}.excalidraw{position:relative;overflow:hidden;color:var(--text-primary-color);display:flex;top:0;bottom:0;left:0;right:0;height:100%;width:100%;-webkit-user-select:none;user-select:none}.excalidraw:focus{outline:none}.excalidraw a{font-weight:500;text-decoration:none;color:var(--link-color)}.excalidraw a:hover{text-decoration:underline}.excalidraw canvas{touch-action:none;image-rendering:pixelated;image-rendering:-moz-crisp-edges;z-index:var(--zIndex-canvas)}.excalidraw__canvas{position:absolute}.excalidraw.theme--dark canvas{-webkit-filter:var(--theme-filter);filter:var(--theme-filter)}.excalidraw .FixedSideContainer{padding-top:var(--sat, 0);padding-right:var(--sar, 0);padding-bottom:var(--sab, 0);padding-left:var(--sal, 0)}.excalidraw .panelRow{display:flex;justify-content:space-between}.excalidraw .panelColumn{display:flex;flex-direction:column}.excalidraw .panelColumn h3,.excalidraw .panelColumn legend,.excalidraw .panelColumn .control-label{margin-top:.333rem;margin-bottom:.333rem;font-size:.75rem;color:var(--text-primary-color);font-weight:bold;display:block}.excalidraw .panelColumn .control-label input{display:block;width:100%}.excalidraw .panelColumn h3:first-child,.excalidraw .panelColumn legend:first-child,.excalidraw .panelColumn .control-label:first-child{margin-top:0}.excalidraw .panelColumn legend{padding:0}.excalidraw .panelColumn .iconSelectList{flex-wrap:wrap;position:relative}.excalidraw .panelColumn .buttonList{flex-wrap:wrap}.excalidraw .panelColumn .buttonList label{margin-right:.25rem;font-size:.75rem;display:inline-block}.excalidraw .panelColumn .buttonList input[type=radio],.excalidraw .panelColumn .buttonList input[type=button]{opacity:0;position:absolute;pointer-events:none}.excalidraw .panelColumn .buttonList .iconRow{margin-top:8px}.excalidraw .panelColumn .buttonList .ToolIcon{margin:0;-webkit-margin-end:8px;margin-inline-end:8px}.excalidraw .panelColumn .buttonList .ToolIcon:focus{outline:transparent;box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .panelColumn .buttonList .ToolIcon:hover{background-color:var(--button-gray-2)}.excalidraw .panelColumn .buttonList .ToolIcon:active{background-color:var(--button-gray-3)}.excalidraw .panelColumn .buttonList .ToolIcon:disabled{cursor:not-allowed}.excalidraw .panelColumn .buttonList .ToolIcon__icon{width:28px;height:28px}.excalidraw .panelColumn fieldset{margin:0;margin-top:.333rem;padding:0;border:none}.excalidraw .divider{width:1px;background-color:#e9ecef;margin:1px}.excalidraw .buttonList label:focus-within,.excalidraw input:focus-visible{outline:transparent;box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw button,.excalidraw .buttonList label{-webkit-user-select:none;user-select:none;background-color:var(--button-gray-1);border:0;border-radius:var(--border-radius-md);margin:.125rem 0;padding:.25rem;white-space:nowrap;cursor:pointer}.excalidraw button:focus-visible,.excalidraw .buttonList label:focus-visible{outline:transparent;box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw button:hover,.excalidraw .buttonList label:hover{background-color:var(--button-gray-2)}.excalidraw button:active,.excalidraw .buttonList label:active{background-color:var(--button-gray-3)}.excalidraw button:disabled,.excalidraw .buttonList label:disabled{cursor:not-allowed}.excalidraw .active,.excalidraw .buttonList label.active{background-color:var(--color-primary);--icon-fill-color: #ffffff}.excalidraw .active:hover,.excalidraw .buttonList label.active:hover{background-color:var(--color-primary-darker)}.excalidraw .active:active,.excalidraw .buttonList label.active:active{background-color:var(--color-primary-darkest)}.excalidraw .buttonList.buttonListIcon label{display:inline-flex;justify-content:center;align-items:center}.excalidraw .buttonList.buttonListIcon label svg{width:35px;height:14px;padding:2px;opacity:.6}.excalidraw .buttonList.buttonListIcon label.active svg{opacity:1}.excalidraw .App-top-bar{z-index:var(--zIndex-layerUI);display:flex;flex-direction:column;align-items:center}.excalidraw .App-bottom-bar{position:absolute;top:0;bottom:0;left:0;right:0;--bar-padding: calc(4 * var(--space-factor));padding-top:max(var(--bar-padding), var(--sat,0));padding-right:var(--sar, 0);padding-bottom:var(--sab, 0);padding-left:var(--sal, 0);z-index:4;display:flex;align-items:flex-end;pointer-events:none}.excalidraw .App-bottom-bar>.Island{width:100%;max-width:100%;min-width:100%;box-sizing:border-box;max-height:100%;display:flex;flex-direction:column;pointer-events:initial}.excalidraw .App-bottom-bar>.Island .panelColumn{padding:8px 8px 0 8px}.excalidraw .App-toolbar{width:100%;box-sizing:border-box}.excalidraw .App-toolbar-content{display:flex;align-items:center;justify-content:space-between;padding:8px}.excalidraw .App-mobile-menu{width:100%;overflow-x:visible;overflow-y:auto;box-sizing:border-box;margin-bottom:var(--bar-padding)}.excalidraw .App-menu{display:grid;color:var(--icon-fill-color)}.excalidraw .App-menu_top{grid-template-columns:auto -webkit-max-content auto;grid-template-columns:auto max-content auto;grid-gap:4px;align-items:flex-start;cursor:default;pointer-events:none !important}.excalidraw .layer-ui__wrapper:not(.disable-pointerEvents) .App-menu_top>*{pointer-events:all}.excalidraw .App-menu_top>*:first-child{justify-self:flex-start}.excalidraw .App-menu_top>*:last-child{justify-self:flex-end}.excalidraw .App-menu_bottom{position:absolute;bottom:0;grid-template-columns:-webkit-min-content auto -webkit-min-content;grid-template-columns:min-content auto min-content;grid-gap:15px;align-items:flex-start;cursor:default;pointer-events:none !important;z-index:100}:root[dir=ltr] .excalidraw .App-menu_bottom{left:.25rem}:root[dir=rtl] .excalidraw .App-menu_bottom{right:.25rem}.excalidraw .App-menu_bottom--transition-left section{width:185px}.excalidraw .App-menu_bottom section{display:flex}.excalidraw .App-menu_bottom>*:first-child{justify-self:flex-start}.excalidraw .App-menu_bottom>*:last-child{justify-self:flex-end}.excalidraw .App-menu_left{grid-template-rows:1fr auto 1fr;height:100%}.excalidraw .App-menu_right{grid-template-rows:1fr;height:100%}.excalidraw .App-menu__left{overflow-y:auto}.excalidraw .dropdown-select{height:1.5rem;padding:0;-webkit-padding-start:.5rem;padding-inline-start:.5rem;-webkit-padding-end:1.5rem;padding-inline-end:1.5rem;color:var(--icon-fill-color);background-color:var(--button-gray-1);border-radius:var(--space-factor);border:1px solid var(--button-gray-2);font-size:.8rem;outline:none;-webkit-appearance:none;appearance:none;background-image:var(--dropdown-icon);background-repeat:no-repeat;background-position:right .7rem top 50%,0 0;background-size:.65em auto,100%}:root[dir=rtl] .excalidraw .dropdown-select{background-position:left .7rem top 50%,0 0}.excalidraw .dropdown-select:focus{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .dropdown-select:hover{background-color:var(--button-gray-2)}.excalidraw .dropdown-select:active{background-color:var(--button-gray-2)}.excalidraw .zIndexButton{margin:0;-webkit-margin-end:8px;margin-inline-end:8px;padding:5px;display:inline-flex;align-items:center;justify-content:center}.excalidraw .zIndexButton svg{width:18px;height:18px}.excalidraw .scroll-back-to-content{color:var(--popup-text-color);position:absolute;left:50%;bottom:30px;-webkit-transform:translateX(-50%);transform:translateX(-50%);padding:10px 20px}.excalidraw .help-icon{display:flex;cursor:pointer;fill:#868e96;padding:0;margin:0;background:none;color:var(--icon-fill-color)}.excalidraw .help-icon svg{width:1.5rem;height:1.5rem}.excalidraw .help-icon:hover{background:none}.excalidraw .reset-zoom-button{padding:.2em;background:transparent;color:var(--text-primary-color);font-family:var(--ui-font)}.excalidraw .undo-redo-buttons{display:grid;grid-auto-flow:column;gap:.4em;margin-top:auto;margin-bottom:auto;-webkit-margin-start:.6em;margin-inline-start:.6em}.excalidraw--mobile.excalidraw aside{display:none}.excalidraw--mobile.excalidraw .scroll-back-to-content{bottom:calc(80px + var(--sab, 0));z-index:-1}:root[dir=rtl] .excalidraw .rtl-mirror{-webkit-transform:scaleX(-1);transform:scaleX(-1)}.excalidraw .zen-mode-visibility{visibility:visible;opacity:1;height:auto;width:auto;transition:opacity .5s}.excalidraw .zen-mode-visibility.zen-mode-visibility--hidden{visibility:hidden;opacity:0;height:0;width:0;transition:opacity .5s}.excalidraw .disable-pointerEvents{pointer-events:none !important}.excalidraw.excalidraw--view-mode .App-menu{display:flex;justify-content:space-between}.excalidraw input[type=text],.excalidraw textarea:not(.excalidraw-wysiwyg){color:var(--text-primary-color);border:1.5px solid var(--input-border-color);padding:.75rem;white-space:nowrap;border-radius:var(--space-factor);background-color:var(--input-bg-color)}.excalidraw input[type=text]:not(:focus):hover,.excalidraw textarea:not(.excalidraw-wysiwyg):not(:focus):hover{background-color:var(--input-hover-bg-color)}.excalidraw input[type=text]:focus,.excalidraw textarea:not(.excalidraw-wysiwyg):focus{outline:none;box-shadow:0 0 0 2px var(--focus-highlight-color)}@media print{.excalidraw .App-bottom-bar,.excalidraw .FixedSideContainer,.excalidraw .layer-ui__wrapper{display:none}}.ErrorSplash.excalidraw{min-height:100vh;padding:20px 0;overflow:auto;display:flex;align-items:center;justify-content:center;-webkit-user-select:text;user-select:text}.ErrorSplash.excalidraw .ErrorSplash-messageContainer{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px;background-color:#ffe3e3;border:3px solid #c92a2a}.ErrorSplash.excalidraw .ErrorSplash-paragraph{margin:15px 0;max-width:600px}.ErrorSplash.excalidraw .ErrorSplash-paragraph.align-center{text-align:center}.ErrorSplash.excalidraw .bigger,.ErrorSplash.excalidraw .bigger button{font-size:1.1em}.ErrorSplash.excalidraw .smaller,.ErrorSplash.excalidraw .smaller button{font-size:.9em}.ErrorSplash.excalidraw .ErrorSplash-details{display:flex;flex-direction:column;align-items:flex-start}.ErrorSplash.excalidraw .ErrorSplash-details textarea{width:100%;margin:10px 0;font-family:"Cascadia";font-size:.8em}',""]),A.default=le},6464:function(I,A,x){"use strict";x.r(A);var L=x(8081),g=x.n(L),D=x(3645),W=x.n(D)()(g());W.push([I.id,"",""]),W.locals={themeFilter:"invert(93%) hue-rotate(180deg)"},A.default=W},5260:function(I,A,x){"use strict";x.r(A);var L=x(8081),g=x.n(L),D=x(3645),W=x.n(D)()(g());W.push([I.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw-hyperlinkContainer{display:flex;align-items:center;justify-content:space-between;position:absolute;box-shadow:0px 2px 4px 0 rgba(0,0,0,.3);z-index:100;background:var(--island-bg-color);border-radius:var(--border-radius-md);box-sizing:border-box;min-height:42px}.excalidraw-hyperlinkContainer-input,.excalidraw-hyperlinkContainer button{z-index:100}.excalidraw-hyperlinkContainer-input,.excalidraw-hyperlinkContainer-link{height:24px;padding:0 8px;line-height:24px;font-size:.9rem;font-weight:500;font-family:var(--ui-font)}.excalidraw-hyperlinkContainer-input{width:18rem;border:none;background-color:transparent;color:var(--text-primary-color);outline:none;border:none;box-shadow:none !important}.excalidraw-hyperlinkContainer-link{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:15rem}.excalidraw-hyperlinkContainer button{color:#228be6;background-color:transparent !important;font-weight:500}.excalidraw-hyperlinkContainer button.excalidraw-hyperlinkContainer--remove{color:#c92a2a}.excalidraw-hyperlinkContainer .d-none{display:none}.excalidraw-hyperlinkContainer--remove .ToolIcon__icon svg{color:#fa5252}.excalidraw-hyperlinkContainer .ToolIcon__icon{width:2rem;height:2rem}.excalidraw-hyperlinkContainer__buttons{flex:0 0 auto}",""]),A.default=W},3645:function(I){"use strict";I.exports=function(A){var x=[];return x.toString=function(){return this.map(function(L){var g="",D=L[5]!==void 0;return L[4]&&(g+="@supports (".concat(L[4],") {")),L[2]&&(g+="@media ".concat(L[2]," {")),D&&(g+="@layer".concat(L[5].length>0?" ".concat(L[5]):""," {")),g+=A(L),D&&(g+="}"),L[2]&&(g+="}"),L[4]&&(g+="}"),g}).join("")},x.i=function(L,g,D,W,Q){typeof L=="string"&&(L=[[null,L,void 0]]);var ee={};if(D)for(var C=0;C<this.length;C++){var He=this[C][0];He!=null&&(ee[He]=!0)}for(var le=0;le<L.length;le++){var Fe=[].concat(L[le]);D&&ee[Fe[0]]||(Q!==void 0&&(Fe[5]===void 0||(Fe[1]="@layer".concat(Fe[5].length>0?" ".concat(Fe[5]):""," {").concat(Fe[1],"}")),Fe[5]=Q),g&&(Fe[2]&&(Fe[1]="@media ".concat(Fe[2]," {").concat(Fe[1],"}")),Fe[2]=g),W&&(Fe[4]?(Fe[1]="@supports (".concat(Fe[4],") {").concat(Fe[1],"}"),Fe[4]=W):Fe[4]="".concat(W)),x.push(Fe))}},x}},1667:function(I){"use strict";I.exports=function(A,x){return x||(x={}),A&&(A=String(A.__esModule?A.default:A),/^['"].*['"]$/.test(A)&&(A=A.slice(1,-1)),x.hash&&(A+=x.hash),/["'() \t\n]|(%20)/.test(A)||x.needQuotes?'"'.concat(A.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):A)}},8081:function(I){"use strict";I.exports=function(A){return A[1]}},8288:function(I,A,x){"use strict";x.d(A,{iC:function(){return W},f:function(){return Q},qx:function(){return ee},Iw:function(){return C},$e:function(){return He},wZ:function(){return le},ay:function(){return Fe},oc:function(){return ht},Oh:function(){return R},Ks:function(){return L},Vi:function(){return bn},$C:function(){return $},ut:function(){return Pe},C6:function(){return Ge},_D:function(){return ke},n5:function(){return Ae},rk:function(){return qe},Hg:function(){return Qe},hs:function(){return nt},k:function(){return Gt},LO:function(){return ft},r8:function(){return Pt},pb:function(){return S},LL:function(){return p},Gj:function(){return zn},nM:function(){return nn},Lg:function(){return Wt},HM:function(){return fe},V4:function(){return F},sA:function(){return de},EH:function(){return De},ZF:function(){return Ze},UO:function(){return Le},ah:function(){return at},cW:function(){return kt},kV:function(){return Yt},sS:function(){return un},Yx:function(){return yt},zK:function(){return rn},ZB:function(){return pn},qy:function(){return xo},h6:function(){return xi},jo:function(){return Vo},$n:function(){return Hr},hR:function(){return il},Kr:function(){return Ss},gK:function(){return In}});var L,g=x(8635),D=x.n(g),W="Excalidraw",Q=10,ee=8,C=5,He=1,le=30,Fe=Math.PI/12,ht={TEXT:"text",CROSSHAIR:"crosshair",GRABBING:"grabbing",GRAB:"grab",POINTER:"pointer",MOVE:"move",AUTO:""},R={MAIN:0,WHEEL:1,SECONDARY:2,TOUCH:-1};(function(At){At.COPY="copy",At.PASTE="paste",At.CUT="cut",At.KEYDOWN="keydown",At.KEYUP="keyup",At.MOUSE_MOVE="mousemove",At.RESIZE="resize",At.UNLOAD="unload",At.FOCUS="focus",At.BLUR="blur",At.DRAG_OVER="dragover",At.DROP="drop",At.GESTURE_END="gestureend",At.BEFORE_UNLOAD="beforeunload",At.GESTURE_START="gesturestart",At.GESTURE_CHANGE="gesturechange",At.POINTER_MOVE="pointermove",At.POINTER_UP="pointerup",At.STATE_CHANGE="statechange",At.WHEEL="wheel",At.TOUCH_START="touchstart",At.TOUCH_END="touchend",At.HASHCHANGE="hashchange",At.VISIBILITY_CHANGE="visibilitychange",At.SCROLL="scroll",At.EXCALIDRAW_LINK="excalidraw-link"})(L||(L={}));var bn={TEST:"test",DEVELOPMENT:"development"},$={SHAPE_ACTIONS_MENU:"App-menu__left"},Pe={Virgil:1,Helvetica:2,Cascadia:3},Ge={LIGHT:"light",DARK:"dark"},ke="Segoe UI Emoji",Ae=20,qe=Pe.Virgil,Qe="left",nt="top",Gt=20,ft={excalidraw:"application/vnd.excalidraw+json",excalidrawlib:"application/vnd.excalidrawlib+json",json:"application/json",svg:"image/svg+xml",png:"image/png",jpg:"image/jpeg",gif:"image/gif",binary:"application/octet-stream"},Pt={excalidraw:"excalidraw",excalidrawClipboard:"excalidraw/clipboard",excalidrawLibrary:"excalidrawlib"},S=window.location.origin,p=500,zn=300,nn=500,Wt=5e3,fe=100,F=.1,de=300,De={VIEW:"viewMode",ZEN:"zenMode",GRID:"gridMode"},Ze=D().themeFilter,Le={addLibrary:"addLibrary"},at={addLibrary:"addLibrary"},kt={canvasActions:{changeViewBackgroundColor:!0,clearCanvas:!0,export:{saveFileToDisk:!0},loadScene:!0,saveToActiveFile:!0,theme:!0,saveAsImage:!0}},Yt=730,un=1e3,yt=500,rn=2,pn=[1,2,3],xo=10,xi=1440,Vo=[ft.png,ft.jpg,ft.svg,ft.gif],Hr=2097152,il="http://www.w3.org/2000/svg",Ss={excalidraw:2,excalidrawLibrary:2},In=5},7314:function(I,A,x){"use strict";x.r(A),x.d(A,{FONT_FAMILY:function(){return C.ut},THEME:function(){return C.C6},bumpVersion:function(){return Ca},default:function(){return Pg},defaultLang:function(){return ke},exportToBlob:function(){return og},exportToCanvas:function(){return kp},exportToSvg:function(){return $0},getFreeDrawSvgPath:function(){return Tr},getNonDeletedElements:function(){return Y},getSceneVersion:function(){return B},isInvisiblySmallElement:function(){return qt},isLinearElement:function(){return Bt},languages:function(){return Ae},loadFromBlob:function(){return Fc},loadLibraryFromBlob:function(){return hh},mutateElement:function(){return je},newElementWith:function(){return It},restore:function(){return Bc},restoreAppState:function(){return ch},restoreElements:function(){return Fd},serializeAsJSON:function(){return Kd}});var L=x(6479),g=x.n(L),D=x(9713),W=x.n(D),Q=x(9787),ee=x.n(Q),C=x(8288),He=JSON.parse('{"u2":"@excalidraw/excalidraw","i8":"0.11.0"}');C.Vi.TEST!=="production"&&(x.p=window.EXCALIDRAW_ASSET_PATH||"https://unpkg.com/".concat(He.u2,"@").concat(He.i8,"/dist/"));var le=x(8950);function Fe(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ht(e,t){if(e){if(typeof e=="string")return Fe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Fe(e,t):void 0}}function R(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var o=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var a,l,c=[],s=!0,f=!1;try{for(o=o.call(n);!(s=(a=o.next()).done)&&(c.push(a.value),!r||c.length!==r);s=!0);}catch(d){f=!0,l=d}finally{try{s||o.return==null||o.return()}finally{if(f)throw l}}return c}}(e,t)||ht(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}var bn=x(7945),$=x.n(bn),Pe=x(1463),Ge=x(4451),ke={code:"en",label:"English"},Ae=[{code:"ar-SA",label:"\u0627\u0644\u0639\u0631\u0628\u064A\u0629",rtl:!0},{code:"bg-BG",label:"\u0411\u044A\u043B\u0433\u0430\u0440\u0441\u043A\u0438"},{code:"ca-ES",label:"Catal\xE0"},{code:"cs-CZ",label:"\u010Cesky"},{code:"de-DE",label:"Deutsch"},{code:"el-GR",label:"\u0395\u03BB\u03BB\u03B7\u03BD\u03B9\u03BA\u03AC"},{code:"es-ES",label:"Espa\xF1ol"},{code:"eu-ES",label:"Euskara"},{code:"fa-IR",label:"\u0641\u0627\u0631\u0633\u06CC",rtl:!0},{code:"fi-FI",label:"Suomi"},{code:"fr-FR",label:"Fran\xE7ais"},{code:"he-IL",label:"\u05E2\u05D1\u05E8\u05D9\u05EA",rtl:!0},{code:"hi-IN",label:"\u0939\u093F\u0928\u094D\u0926\u0940"},{code:"hu-HU",label:"Magyar"},{code:"id-ID",label:"Bahasa Indonesia"},{code:"it-IT",label:"Italiano"},{code:"ja-JP",label:"\u65E5\u672C\u8A9E"},{code:"kab-KAB",label:"Taqbaylit"},{code:"kk-KZ",label:"\u049A\u0430\u0437\u0430\u049B \u0442\u0456\u043B\u0456"},{code:"ko-KR",label:"\uD55C\uAD6D\uC5B4"},{code:"lt-LT",label:"Lietuvi\u0173"},{code:"lv-LV",label:"Latvie\u0161u"},{code:"my-MM",label:"Burmese"},{code:"nb-NO",label:"Norsk bokm\xE5l"},{code:"nl-NL",label:"Nederlands"},{code:"nn-NO",label:"Norsk nynorsk"},{code:"oc-FR",label:"Occitan"},{code:"pa-IN",label:"\u0A2A\u0A70\u0A1C\u0A3E\u0A2C\u0A40"},{code:"pl-PL",label:"Polski"},{code:"pt-BR",label:"Portugu\xEAs Brasileiro"},{code:"pt-PT",label:"Portugu\xEAs"},{code:"ro-RO",label:"Rom\xE2n\u0103"},{code:"ru-RU",label:"\u0420\u0443\u0441\u0441\u043A\u0438\u0439"},{code:"sk-SK",label:"Sloven\u010Dina"},{code:"sv-SE",label:"Svenska"},{code:"tr-TR",label:"T\xFCrk\xE7e"},{code:"uk-UA",label:"\u0423\u043A\u0440\u0430\u0457\u043D\u0441\u044C\u043A\u0430"},{code:"zh-CN",label:"\u7B80\u4F53\u4E2D\u6587"},{code:"zh-TW",label:"\u7E41\u9AD4\u4E2D\u6587"}].concat([ke]).sort(function(e,t){return e.label>t.label?1:-1}).filter(function(e){return Ge[e.code]>=85}),qe="__test__";C.Vi.DEVELOPMENT==="production"&&Ae.unshift({code:qe,label:"test language"},{code:"".concat(qe,".rtl"),label:"\u202Atest language (rtl)\u202C",rtl:!0});var Qe=ke,nt={},Gt=function(){var e=(0,le.Z)($().mark(function t(n){return $().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(Qe=n,document.documentElement.dir=Qe.rtl?"rtl":"ltr",document.documentElement.lang=Qe.code,!n.code.startsWith(qe)){r.next=7;break}nt={},r.next=10;break;case 7:return r.next=9,x(788)("./".concat(Qe.code,".json"));case 9:nt=r.sent;case 10:case"end":return r.stop()}},t)}));return function(t){return e.apply(this,arguments)}}(),ft=function(){return Qe},Pt=function(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(e[r]===void 0)return;e=e[r]}if(typeof e=="string")return e},S=function(e,t){if(Qe.code.startsWith(qe)){var n=t?"".concat(e,"(").concat(JSON.stringify(t).slice(1,-1),")"):e;return"\u202A[[".concat(n,"]]\u202C")}var r=e.split("."),o=Pt(nt,r)||Pt(Pe,r);if(o===void 0)throw new Error("Can't find translation for ".concat(e));if(t)for(var a in t)o=o.replace("{{".concat(a,"}}"),String(t[a]));return o},p=x(4512),zn=function(){return(0,p.jsx)("div",{className:"LoadingMessage",children:(0,p.jsx)("span",{children:S("labels.loadingScene")})})},nn=function(e){var t=R((0,Q.useState)(!0),2),n=t[0],r=t[1];return(0,Q.useEffect)(function(){var o=function(){var l=(0,le.Z)($().mark(function c(){return $().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Gt(a);case 2:case"end":return s.stop()}},c)}));return function(){return l.apply(this,arguments)}}(),a=Ae.find(function(l){return l.code===e.langCode})||ke;o(),r(!1)},[e.langCode]),n?(0,p.jsx)(zn,{}):e.children};function Wt(e){return Wt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wt(e)}function fe(e){return function(t){if(Array.isArray(t))return Fe(t)}(e)||function(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(e)||ht(e)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function F(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function de(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function De(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ze(e,t,n){return t&&De(e.prototype,t),n&&De(e,n),e}function Le(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function at(e,t){return at=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},at(e,t)}function kt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&at(e,t)}function Yt(e,t){if(t&&(Wt(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Le(e)}function un(e){return un=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},un(e)}function yt(e,t,n){if(e&&e.length){let[r,o]=t,a=Math.PI/180*n,l=Math.cos(a),c=Math.sin(a);e.forEach(s=>{let[f,d]=s;s[0]=(f-r)*l-(d-o)*c+r,s[1]=(f-r)*c+(d-o)*l+o})}}function rn(e){let t=e[0],n=e[1];return Math.sqrt(Math.pow(t[0]-n[0],2)+Math.pow(t[1]-n[1],2))}function pn(e,t){let n=t.hachureAngle+90,r=t.hachureGap;r<0&&(r=4*t.strokeWidth),r=Math.max(r,.1);let o=[0,0];if(n)for(let l of e)yt(l,o,n);let a=function(l,c){let s=[];for(let v of l){let y=[...v];y[0].join(",")!==y[y.length-1].join(",")&&y.push([y[0][0],y[0][1]]),y.length>2&&s.push(y)}let f=[];c=Math.max(c,.1);let d=[];for(let v of s)for(let y=0;y<v.length-1;y++){let k=v[y],_=v[y+1];if(k[1]!==_[1]){let j=Math.min(k[1],_[1]);d.push({ymin:j,ymax:Math.max(k[1],_[1]),x:j===k[1]?k[0]:_[0],islope:(_[0]-k[0])/(_[1]-k[1])})}}if(d.sort((v,y)=>v.ymin<y.ymin?-1:v.ymin>y.ymin?1:v.x<y.x?-1:v.x>y.x?1:v.ymax===y.ymax?0:(v.ymax-y.ymax)/Math.abs(v.ymax-y.ymax)),!d.length)return f;let m=[],b=d[0].ymin;for(;m.length||d.length;){if(d.length){let v=-1;for(let y=0;y<d.length&&!(d[y].ymin>b);y++)v=y;d.splice(0,v+1).forEach(y=>{m.push({s:b,edge:y})})}if(m=m.filter(v=>!(v.edge.ymax<=b)),m.sort((v,y)=>v.edge.x===y.edge.x?0:(v.edge.x-y.edge.x)/Math.abs(v.edge.x-y.edge.x)),m.length>1)for(let v=0;v<m.length;v+=2){let y=v+1;if(y>=m.length)break;let k=m[v].edge,_=m[y].edge;f.push([[Math.round(k.x),b],[Math.round(_.x),b]])}b+=c,m.forEach(v=>{v.edge.x=v.edge.x+c*v.edge.islope})}return f}(e,r);if(n){for(let l of e)yt(l,o,-n);(function(l,c,s){let f=[];l.forEach(d=>f.push(...d)),yt(f,c,s)})(a,o,-n)}return a}class xo{constructor(t){this.helper=t}fillPolygons(t,n){return this._fillPolygons(t,n)}_fillPolygons(t,n){let r=pn(t,n);return{type:"fillSketch",ops:this.renderLines(r,n)}}renderLines(t,n){let r=[];for(let o of t)r.push(...this.helper.doubleLineOps(o[0][0],o[0][1],o[1][0],o[1][1],n));return r}}class xi extends xo{fillPolygons(t,n){let r=n.hachureGap;r<0&&(r=4*n.strokeWidth),r=Math.max(r,.1);let o=pn(t,Object.assign({},n,{hachureGap:r})),a=Math.PI/180*n.hachureAngle,l=[],c=.5*r*Math.cos(a),s=.5*r*Math.sin(a);for(let[f,d]of o)rn([f,d])&&l.push([[f[0]-c,f[1]+s],[...d]],[[f[0]+c,f[1]-s],[...d]]);return{type:"fillSketch",ops:this.renderLines(l,n)}}}class Vo extends xo{fillPolygons(t,n){let r=this._fillPolygons(t,n),o=Object.assign({},n,{hachureAngle:n.hachureAngle+90}),a=this._fillPolygons(t,o);return r.ops=r.ops.concat(a.ops),r}}class Hr{constructor(t){this.helper=t}fillPolygons(t,n){let r=pn(t,n=Object.assign({},n,{hachureAngle:0}));return this.dotsOnLines(r,n)}dotsOnLines(t,n){let r=[],o=n.hachureGap;o<0&&(o=4*n.strokeWidth),o=Math.max(o,.1);let a=n.fillWeight;a<0&&(a=n.strokeWidth/2);let l=o/4;for(let c of t){let s=rn(c),f=s/o,d=Math.ceil(f)-1,m=s-d*o,b=(c[0][0]+c[1][0])/2-o/4,v=Math.min(c[0][1],c[1][1]);for(let y=0;y<d;y++){let k=v+m+y*o,_=b-l+2*Math.random()*l,j=k-l+2*Math.random()*l,M=this.helper.ellipse(_,j,a,a,n);r.push(...M.ops)}}return{type:"fillSketch",ops:r}}}class il{constructor(t){this.helper=t}fillPolygons(t,n){let r=pn(t,n);return{type:"fillSketch",ops:this.dashedLine(r,n)}}dashedLine(t,n){let r=n.dashOffset<0?n.hachureGap<0?4*n.strokeWidth:n.hachureGap:n.dashOffset,o=n.dashGap<0?n.hachureGap<0?4*n.strokeWidth:n.hachureGap:n.dashGap,a=[];return t.forEach(l=>{let c=rn(l),s=Math.floor(c/(r+o)),f=(c+o-s*(r+o))/2,d=l[0],m=l[1];d[0]>m[0]&&(d=l[1],m=l[0]);let b=Math.atan((m[1]-d[1])/(m[0]-d[0]));for(let v=0;v<s;v++){let y=v*(r+o),k=y+r,_=[d[0]+y*Math.cos(b)+f*Math.cos(b),d[1]+y*Math.sin(b)+f*Math.sin(b)],j=[d[0]+k*Math.cos(b)+f*Math.cos(b),d[1]+k*Math.sin(b)+f*Math.sin(b)];a.push(...this.helper.doubleLineOps(_[0],_[1],j[0],j[1],n))}}),a}}class Ss{constructor(t){this.helper=t}fillPolygons(t,n){let r=n.hachureGap<0?4*n.strokeWidth:n.hachureGap,o=n.zigzagOffset<0?r:n.zigzagOffset,a=pn(t,n=Object.assign({},n,{hachureGap:r+o}));return{type:"fillSketch",ops:this.zigzagLines(a,o,n)}}zigzagLines(t,n,r){let o=[];return t.forEach(a=>{let l=rn(a),c=Math.round(l/(2*n)),s=a[0],f=a[1];s[0]>f[0]&&(s=a[1],f=a[0]);let d=Math.atan((f[1]-s[1])/(f[0]-s[0]));for(let m=0;m<c;m++){let b=2*m*n,v=2*(m+1)*n,y=Math.sqrt(2*Math.pow(n,2)),k=[s[0]+b*Math.cos(d),s[1]+b*Math.sin(d)],_=[s[0]+v*Math.cos(d),s[1]+v*Math.sin(d)],j=[k[0]+y*Math.cos(d+Math.PI/4),k[1]+y*Math.sin(d+Math.PI/4)];o.push(...this.helper.doubleLineOps(k[0],k[1],j[0],j[1],r),...this.helper.doubleLineOps(j[0],j[1],_[0],_[1],r))}}),o}}let In={};class At{constructor(t){this.seed=t}next(){return this.seed?(2147483647&(this.seed=Math.imul(48271,this.seed)))/2147483648:Math.random()}}let al={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function ll(e,t){return e.type===t}function js(e){let t=[],n=function(l){let c=new Array;for(;l!=="";)if(l.match(/^([ \t\r\n,]+)/))l=l.substr(RegExp.$1.length);else if(l.match(/^([aAcChHlLmMqQsStTvVzZ])/))c[c.length]={type:0,text:RegExp.$1},l=l.substr(RegExp.$1.length);else{if(!l.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];c[c.length]={type:1,text:`${parseFloat(RegExp.$1)}`},l=l.substr(RegExp.$1.length)}return c[c.length]={type:2,text:""},c}(e),r="BOD",o=0,a=n[o];for(;!ll(a,2);){let l=0,c=[];if(r==="BOD"){if(a.text!=="M"&&a.text!=="m")return js("M0,0"+e);o++,l=al[a.text],r=a.text}else ll(a,1)?l=al[r]:(o++,l=al[a.text],r=a.text);if(!(o+l<n.length))throw new Error("Path data ended short");for(let s=o;s<o+l;s++){let f=n[s];if(!ll(f,1))throw new Error("Param not a number: "+r+","+f.text);c[c.length]=+f.text}if(typeof al[r]!="number")throw new Error("Bad segment: "+r);{let s={key:r,data:c};t.push(s),o+=l,a=n[o],r==="M"&&(r="L"),r==="m"&&(r="l")}}return t}function qc(e){let t=0,n=0,r=0,o=0,a=[];for(let{key:l,data:c}of e)switch(l){case"M":a.push({key:"M",data:[...c]}),[t,n]=c,[r,o]=c;break;case"m":t+=c[0],n+=c[1],a.push({key:"M",data:[t,n]}),r=t,o=n;break;case"L":a.push({key:"L",data:[...c]}),[t,n]=c;break;case"l":t+=c[0],n+=c[1],a.push({key:"L",data:[t,n]});break;case"C":a.push({key:"C",data:[...c]}),t=c[4],n=c[5];break;case"c":{let s=c.map((f,d)=>d%2?f+n:f+t);a.push({key:"C",data:s}),t=s[4],n=s[5];break}case"Q":a.push({key:"Q",data:[...c]}),t=c[2],n=c[3];break;case"q":{let s=c.map((f,d)=>d%2?f+n:f+t);a.push({key:"Q",data:s}),t=s[2],n=s[3];break}case"A":a.push({key:"A",data:[...c]}),t=c[5],n=c[6];break;case"a":t+=c[5],n+=c[6],a.push({key:"A",data:[c[0],c[1],c[2],c[3],c[4],t,n]});break;case"H":a.push({key:"H",data:[...c]}),t=c[0];break;case"h":t+=c[0],a.push({key:"H",data:[t]});break;case"V":a.push({key:"V",data:[...c]}),n=c[0];break;case"v":n+=c[0],a.push({key:"V",data:[n]});break;case"S":a.push({key:"S",data:[...c]}),t=c[2],n=c[3];break;case"s":{let s=c.map((f,d)=>d%2?f+n:f+t);a.push({key:"S",data:s}),t=s[2],n=s[3];break}case"T":a.push({key:"T",data:[...c]}),t=c[0],n=c[1];break;case"t":t+=c[0],n+=c[1],a.push({key:"T",data:[t,n]});break;case"Z":case"z":a.push({key:"Z",data:[]}),t=r,n=o}return a}function $c(e){let t=[],n="",r=0,o=0,a=0,l=0,c=0,s=0;for(let{key:f,data:d}of e){switch(f){case"M":t.push({key:"M",data:[...d]}),[r,o]=d,[a,l]=d;break;case"C":t.push({key:"C",data:[...d]}),r=d[4],o=d[5],c=d[2],s=d[3];break;case"L":t.push({key:"L",data:[...d]}),[r,o]=d;break;case"H":r=d[0],t.push({key:"L",data:[r,o]});break;case"V":o=d[0],t.push({key:"L",data:[r,o]});break;case"S":{let m=0,b=0;n==="C"||n==="S"?(m=r+(r-c),b=o+(o-s)):(m=r,b=o),t.push({key:"C",data:[m,b,...d]}),c=d[0],s=d[1],r=d[2],o=d[3];break}case"T":{let[m,b]=d,v=0,y=0;n==="Q"||n==="T"?(v=r+(r-c),y=o+(o-s)):(v=r,y=o);let k=r+2*(v-r)/3,_=o+2*(y-o)/3,j=m+2*(v-m)/3,M=b+2*(y-b)/3;t.push({key:"C",data:[k,_,j,M,m,b]}),c=v,s=y,r=m,o=b;break}case"Q":{let[m,b,v,y]=d,k=r+2*(m-r)/3,_=o+2*(b-o)/3,j=v+2*(m-v)/3,M=y+2*(b-y)/3;t.push({key:"C",data:[k,_,j,M,v,y]}),c=m,s=b,r=v,o=y;break}case"A":{let m=Math.abs(d[0]),b=Math.abs(d[1]),v=d[2],y=d[3],k=d[4],_=d[5],j=d[6];m===0||b===0?(t.push({key:"C",data:[r,o,_,j,_,j]}),r=_,o=j):(r!==_||o!==j)&&(Qc(r,o,_,j,m,b,v,y,k).forEach(function(M){t.push({key:"C",data:M})}),r=_,o=j);break}case"Z":t.push({key:"Z",data:[]}),r=a,o=l}n=f}return t}function Go(e,t,n){return[e*Math.cos(n)-t*Math.sin(n),e*Math.sin(n)+t*Math.cos(n)]}function Qc(e,t,n,r,o,a,l,c,s,f){let d=(m=l,Math.PI*m/180);var m;let b=[],v=0,y=0,k=0,_=0;if(f)[v,y,k,_]=f;else{[e,t]=Go(e,t,-d),[n,r]=Go(n,r,-d);let he=(e-n)/2,ue=(t-r)/2,ce=he*he/(o*o)+ue*ue/(a*a);ce>1&&(ce=Math.sqrt(ce),o*=ce,a*=ce);let ve=o*o,pe=a*a,J=ve*pe-ve*ue*ue-pe*he*he,Ee=ve*ue*ue+pe*he*he,Se=(c===s?-1:1)*Math.sqrt(Math.abs(J/Ee));k=Se*o*ue/a+(e+n)/2,_=Se*-a*he/o+(t+r)/2,v=Math.asin(parseFloat(((t-_)/a).toFixed(9))),y=Math.asin(parseFloat(((r-_)/a).toFixed(9))),e<k&&(v=Math.PI-v),n<k&&(y=Math.PI-y),v<0&&(v=2*Math.PI+v),y<0&&(y=2*Math.PI+y),s&&v>y&&(v-=2*Math.PI),!s&&y>v&&(y-=2*Math.PI)}let j=y-v;if(Math.abs(j)>120*Math.PI/180){let he=y,ue=n,ce=r;y=s&&y>v?v+120*Math.PI/180*1:v+120*Math.PI/180*-1,b=Qc(n=k+o*Math.cos(y),r=_+a*Math.sin(y),ue,ce,o,a,l,0,s,[y,he,k,_])}j=y-v;let M=Math.cos(v),P=Math.sin(v),N=Math.cos(y),U=Math.sin(y),V=Math.tan(j/4),q=4/3*o*V,G=4/3*a*V,ae=[e,t],oe=[e+q*P,t-G*M],ie=[n+q*U,r-G*N],K=[n,r];if(oe[0]=2*ae[0]-oe[0],oe[1]=2*ae[1]-oe[1],f)return[oe,ie,K].concat(b);{b=[oe,ie,K].concat(b);let he=[];for(let ue=0;ue<b.length;ue+=3){let ce=Go(b[ue][0],b[ue][1],d),ve=Go(b[ue+1][0],b[ue+1][1],d),pe=Go(b[ue+2][0],b[ue+2][1],d);he.push([ce[0],ce[1],ve[0],ve[1],pe[0],pe[1]])}return he}}let Cs={randOffset:function(e,t){return Ye(e,t)},randOffsetWithRange:function(e,t,n){return ul(e,t,n)},ellipse:function(e,t,n,r,o){let a=eu(n,r,o);return Os(e,t,o,a).opset},doubleLineOps:function(e,t,n,r,o){return no(e,t,n,r,o,!0)}};function Jc(e,t,n,r,o){return{type:"path",ops:no(e,t,n,r,o)}}function sl(e,t,n){let r=(e||[]).length;if(r>2){let o=[];for(let a=0;a<r-1;a++)o.push(...no(e[a][0],e[a][1],e[a+1][0],e[a+1][1],n));return t&&o.push(...no(e[r-1][0],e[r-1][1],e[0][0],e[0][1],n)),{type:"path",ops:o}}return r===2?Jc(e[0][0],e[0][1],e[1][0],e[1][1],n):{type:"path",ops:[]}}function sf(e,t,n,r,o){return function(a,l){return sl(a,!0,l)}([[e,t],[e+n,t],[e+n,t+r],[e,t+r]],o)}function cf(e,t){let n=ou(e,1*(1+.2*t.roughness),t);if(!t.disableMultiStroke){let r=ou(e,1.5*(1+.22*t.roughness),function(o){let a=Object.assign({},o);return a.randomizer=void 0,o.seed&&(a.seed=o.seed+1),a}(t));n=n.concat(r)}return{type:"path",ops:n}}function eu(e,t,n){let r=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(e/2,2)+Math.pow(t/2,2))/2)),o=Math.ceil(Math.max(n.curveStepCount,n.curveStepCount/Math.sqrt(200)*r)),a=2*Math.PI/o,l=Math.abs(e/2),c=Math.abs(t/2),s=1-n.curveFitting;return l+=Ye(l*s,n),c+=Ye(c*s,n),{increment:a,rx:l,ry:c}}function Os(e,t,n,r){let[o,a]=iu(r.increment,e,t,r.rx,r.ry,1,r.increment*ul(.1,ul(.4,1,n),n),n),l=Yo(o,null,n);if(!n.disableMultiStroke&&n.roughness!==0){let[c]=iu(r.increment,e,t,r.rx,r.ry,1.5,0,n),s=Yo(c,null,n);l=l.concat(s)}return{estimatedPoints:a,opset:{type:"path",ops:l}}}function tu(e,t,n,r,o,a,l,c,s){let f=e,d=t,m=Math.abs(n/2),b=Math.abs(r/2);m+=Ye(.01*m,s),b+=Ye(.01*b,s);let v=o,y=a;for(;v<0;)v+=2*Math.PI,y+=2*Math.PI;y-v>2*Math.PI&&(v=0,y=2*Math.PI);let k=2*Math.PI/s.curveStepCount,_=Math.min(k/2,(y-v)/2),j=Is(_,f,d,m,b,v,y,1,s);if(!s.disableMultiStroke){let M=Is(_,f,d,m,b,v,y,1.5,s);j.push(...M)}return l&&(c?j.push(...no(f,d,f+m*Math.cos(v),d+b*Math.sin(v),s),...no(f,d,f+m*Math.cos(y),d+b*Math.sin(y),s)):j.push({op:"lineTo",data:[f,d]},{op:"lineTo",data:[f+m*Math.cos(v),d+b*Math.sin(v)]})),{type:"path",ops:j}}function cl(e,t){let n=[];for(let r of e)if(r.length){let o=t.maxRandomnessOffset||0,a=r.length;if(a>2){n.push({op:"move",data:[r[0][0]+Ye(o,t),r[0][1]+Ye(o,t)]});for(let l=1;l<a;l++)n.push({op:"lineTo",data:[r[l][0]+Ye(o,t),r[l][1]+Ye(o,t)]})}}return{type:"fillPath",ops:n}}function Zo(e,t){return function(n,r){let o=n.fillStyle||"hachure";if(!In[o])switch(o){case"zigzag":In[o]||(In[o]=new xi(r));break;case"cross-hatch":In[o]||(In[o]=new Vo(r));break;case"dots":In[o]||(In[o]=new Hr(r));break;case"dashed":In[o]||(In[o]=new il(r));break;case"zigzag-line":In[o]||(In[o]=new Ss(r));break;default:o="hachure",In[o]||(In[o]=new xo(r))}return In[o]}(t,Cs).fillPolygons(e,t)}function nu(e){return e.randomizer||(e.randomizer=new At(e.seed||0)),e.randomizer.next()}function ul(e,t,n,r=1){return n.roughness*r*(nu(n)*(t-e)+e)}function Ye(e,t,n=1){return ul(-e,e,t,n)}function no(e,t,n,r,o,a=!1){let l=a?o.disableMultiStrokeFill:o.disableMultiStroke,c=ru(e,t,n,r,o,!0,!1);if(l)return c;let s=ru(e,t,n,r,o,!0,!0);return c.concat(s)}function ru(e,t,n,r,o,a,l){let c=Math.pow(e-n,2)+Math.pow(t-r,2),s=Math.sqrt(c),f=1;f=s<200?1:s>500?.4:-.0016668*s+1.233334;let d=o.maxRandomnessOffset||0;d*d*100>c&&(d=s/10);let m=d/2,b=.2+.2*nu(o),v=o.bowing*o.maxRandomnessOffset*(r-t)/200,y=o.bowing*o.maxRandomnessOffset*(e-n)/200;v=Ye(v,o,f),y=Ye(y,o,f);let k=[],_=()=>Ye(m,o,f),j=()=>Ye(d,o,f),M=o.preserveVertices;return a&&(l?k.push({op:"move",data:[e+(M?0:_()),t+(M?0:_())]}):k.push({op:"move",data:[e+(M?0:Ye(d,o,f)),t+(M?0:Ye(d,o,f))]})),l?k.push({op:"bcurveTo",data:[v+e+(n-e)*b+_(),y+t+(r-t)*b+_(),v+e+2*(n-e)*b+_(),y+t+2*(r-t)*b+_(),n+(M?0:_()),r+(M?0:_())]}):k.push({op:"bcurveTo",data:[v+e+(n-e)*b+j(),y+t+(r-t)*b+j(),v+e+2*(n-e)*b+j(),y+t+2*(r-t)*b+j(),n+(M?0:j()),r+(M?0:j())]}),k}function ou(e,t,n){let r=[];r.push([e[0][0]+Ye(t,n),e[0][1]+Ye(t,n)]),r.push([e[0][0]+Ye(t,n),e[0][1]+Ye(t,n)]);for(let o=1;o<e.length;o++)r.push([e[o][0]+Ye(t,n),e[o][1]+Ye(t,n)]),o===e.length-1&&r.push([e[o][0]+Ye(t,n),e[o][1]+Ye(t,n)]);return Yo(r,null,n)}function Yo(e,t,n){let r=e.length,o=[];if(r>3){let a=[],l=1-n.curveTightness;o.push({op:"move",data:[e[1][0],e[1][1]]});for(let c=1;c+2<r;c++){let s=e[c];a[0]=[s[0],s[1]],a[1]=[s[0]+(l*e[c+1][0]-l*e[c-1][0])/6,s[1]+(l*e[c+1][1]-l*e[c-1][1])/6],a[2]=[e[c+1][0]+(l*e[c][0]-l*e[c+2][0])/6,e[c+1][1]+(l*e[c][1]-l*e[c+2][1])/6],a[3]=[e[c+1][0],e[c+1][1]],o.push({op:"bcurveTo",data:[a[1][0],a[1][1],a[2][0],a[2][1],a[3][0],a[3][1]]})}if(t&&t.length===2){let c=n.maxRandomnessOffset;o.push({op:"lineTo",data:[t[0]+Ye(c,n),t[1]+Ye(c,n)]})}}else r===3?(o.push({op:"move",data:[e[1][0],e[1][1]]}),o.push({op:"bcurveTo",data:[e[1][0],e[1][1],e[2][0],e[2][1],e[2][0],e[2][1]]})):r===2&&o.push(...no(e[0][0],e[0][1],e[1][0],e[1][1],n));return o}function iu(e,t,n,r,o,a,l,c){let s=[],f=[];if(c.roughness===0){e/=4,f.push([t+r*Math.cos(-e),n+o*Math.sin(-e)]);for(let d=0;d<=2*Math.PI;d+=e){let m=[t+r*Math.cos(d),n+o*Math.sin(d)];s.push(m),f.push(m)}f.push([t+r*Math.cos(0),n+o*Math.sin(0)]),f.push([t+r*Math.cos(e),n+o*Math.sin(e)])}else{let d=Ye(.5,c)-Math.PI/2;f.push([Ye(a,c)+t+.9*r*Math.cos(d-e),Ye(a,c)+n+.9*o*Math.sin(d-e)]);let m=2*Math.PI+d-.01;for(let b=d;b<m;b+=e){let v=[Ye(a,c)+t+r*Math.cos(b),Ye(a,c)+n+o*Math.sin(b)];s.push(v),f.push(v)}f.push([Ye(a,c)+t+r*Math.cos(d+2*Math.PI+.5*l),Ye(a,c)+n+o*Math.sin(d+2*Math.PI+.5*l)]),f.push([Ye(a,c)+t+.98*r*Math.cos(d+l),Ye(a,c)+n+.98*o*Math.sin(d+l)]),f.push([Ye(a,c)+t+.9*r*Math.cos(d+.5*l),Ye(a,c)+n+.9*o*Math.sin(d+.5*l)])}return[f,s]}function Is(e,t,n,r,o,a,l,c,s){let f=a+Ye(.1,s),d=[];d.push([Ye(c,s)+t+.9*r*Math.cos(f-e),Ye(c,s)+n+.9*o*Math.sin(f-e)]);for(let m=f;m<=l;m+=e)d.push([Ye(c,s)+t+r*Math.cos(m),Ye(c,s)+n+o*Math.sin(m)]);return d.push([t+r*Math.cos(l),n+o*Math.sin(l)]),d.push([t+r*Math.cos(l),n+o*Math.sin(l)]),Yo(d,null,s)}function uf(e,t,n,r,o,a,l,c){let s=[],f=[c.maxRandomnessOffset||1,(c.maxRandomnessOffset||1)+.3],d=[0,0],m=c.disableMultiStroke?1:2,b=c.preserveVertices;for(let v=0;v<m;v++)v===0?s.push({op:"move",data:[l[0],l[1]]}):s.push({op:"move",data:[l[0]+(b?0:Ye(f[0],c)),l[1]+(b?0:Ye(f[0],c))]}),d=b?[o,a]:[o+Ye(f[v],c),a+Ye(f[v],c)],s.push({op:"bcurveTo",data:[e+Ye(f[v],c),t+Ye(f[v],c),n+Ye(f[v],c),r+Ye(f[v],c),d[0],d[1]]});return s}function wi(e){return[...e]}function ua(e,t){return Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)}function df(e,t,n){let r=ua(t,n);if(r===0)return ua(e,t);let o=((e[0]-t[0])*(n[0]-t[0])+(e[1]-t[1])*(n[1]-t[1]))/r;return o=Math.max(0,Math.min(1,o)),ua(e,wo(t,n,o))}function wo(e,t,n){return[e[0]+(t[0]-e[0])*n,e[1]+(t[1]-e[1])*n]}function Ts(e,t,n,r){let o=r||[];if(function(c,s){let f=c[s+0],d=c[s+1],m=c[s+2],b=c[s+3],v=3*d[0]-2*f[0]-b[0];v*=v;let y=3*d[1]-2*f[1]-b[1];y*=y;let k=3*m[0]-2*b[0]-f[0];k*=k;let _=3*m[1]-2*b[1]-f[1];return _*=_,v<k&&(v=k),y<_&&(y=_),v+y}(e,t)<n){let c=e[t+0];o.length?(a=o[o.length-1],l=c,Math.sqrt(ua(a,l))>1&&o.push(c)):o.push(c),o.push(e[t+3])}else{let s=e[t+0],f=e[t+1],d=e[t+2],m=e[t+3],b=wo(s,f,.5),v=wo(f,d,.5),y=wo(d,m,.5),k=wo(b,v,.5),_=wo(v,y,.5),j=wo(k,_,.5);Ts([s,b,k,j],0,n,o),Ts([j,_,y,m],0,n,o)}var a,l;return o}function ff(e,t){return da(e,0,e.length,t)}function da(e,t,n,r,o){let a=o||[],l=e[t],c=e[n-1],s=0,f=1;for(let d=t+1;d<n-1;++d){let m=df(e[d],l,c);m>s&&(s=m,f=d)}return Math.sqrt(s)>r?(da(e,t,f+1,r,a),da(e,f,n,r,a)):(a.length||a.push(l),a.push(c)),a}function ki(e,t=.15,n){let r=[],o=(e.length-1)/3;for(let a=0;a<o;a++)Ts(e,3*a,t,r);return n&&n>0?da(r,0,r.length,n):r}let Wn="none";class dl{constructor(t){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1},this.config=t||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Math.floor(Math.random()*2147483648)}_o(t){return t?Object.assign({},this.defaultOptions,t):this.defaultOptions}_d(t,n,r){return{shape:t,sets:n||[],options:r||this.defaultOptions}}line(t,n,r,o,a){let l=this._o(a);return this._d("line",[Jc(t,n,r,o,l)],l)}rectangle(t,n,r,o,a){let l=this._o(a),c=[],s=sf(t,n,r,o,l);if(l.fill){let f=[[t,n],[t+r,n],[t+r,n+o],[t,n+o]];l.fillStyle==="solid"?c.push(cl([f],l)):c.push(Zo([f],l))}return l.stroke!==Wn&&c.push(s),this._d("rectangle",c,l)}ellipse(t,n,r,o,a){let l=this._o(a),c=[],s=eu(r,o,l),f=Os(t,n,l,s);if(l.fill)if(l.fillStyle==="solid"){let d=Os(t,n,l,s).opset;d.type="fillPath",c.push(d)}else c.push(Zo([f.estimatedPoints],l));return l.stroke!==Wn&&c.push(f.opset),this._d("ellipse",c,l)}circle(t,n,r,o){let a=this.ellipse(t,n,r,r,o);return a.shape="circle",a}linearPath(t,n){let r=this._o(n);return this._d("linearPath",[sl(t,!1,r)],r)}arc(t,n,r,o,a,l,c=!1,s){let f=this._o(s),d=[],m=tu(t,n,r,o,a,l,c,!0,f);if(c&&f.fill)if(f.fillStyle==="solid"){let b=Object.assign({},f);b.disableMultiStroke=!0;let v=tu(t,n,r,o,a,l,!0,!1,b);v.type="fillPath",d.push(v)}else d.push(function(b,v,y,k,_,j,M){let P=b,N=v,U=Math.abs(y/2),V=Math.abs(k/2);U+=Ye(.01*U,M),V+=Ye(.01*V,M);let q=_,G=j;for(;q<0;)q+=2*Math.PI,G+=2*Math.PI;G-q>2*Math.PI&&(q=0,G=2*Math.PI);let ae=(G-q)/M.curveStepCount,oe=[];for(let ie=q;ie<=G;ie+=ae)oe.push([P+U*Math.cos(ie),N+V*Math.sin(ie)]);return oe.push([P+U*Math.cos(G),N+V*Math.sin(G)]),oe.push([P,N]),Zo([oe],M)}(t,n,r,o,a,l,f));return f.stroke!==Wn&&d.push(m),this._d("arc",d,f)}curve(t,n){let r=this._o(n),o=[],a=cf(t,r);if(r.fill&&r.fill!==Wn&&t.length>=3){let l=function(s,f=0){let d=s.length;if(d<3)throw new Error("A curve must have at least three points.");let m=[];if(d===3)m.push(wi(s[0]),wi(s[1]),wi(s[2]),wi(s[2]));else{let b=[];b.push(s[0],s[0]);for(let k=1;k<s.length;k++)b.push(s[k]),k===s.length-1&&b.push(s[k]);let v=[],y=1-f;m.push(wi(b[0]));for(let k=1;k+2<b.length;k++){let _=b[k];v[0]=[_[0],_[1]],v[1]=[_[0]+(y*b[k+1][0]-y*b[k-1][0])/6,_[1]+(y*b[k+1][1]-y*b[k-1][1])/6],v[2]=[b[k+1][0]+(y*b[k][0]-y*b[k+2][0])/6,b[k+1][1]+(y*b[k][1]-y*b[k+2][1])/6],v[3]=[b[k+1][0],b[k+1][1]],m.push(v[1],v[2],v[3])}}return m}(t),c=ki(l,10,(1+r.roughness)/2);r.fillStyle==="solid"?o.push(cl([c],r)):o.push(Zo([c],r))}return r.stroke!==Wn&&o.push(a),this._d("curve",o,r)}polygon(t,n){let r=this._o(n),o=[],a=sl(t,!0,r);return r.fill&&(r.fillStyle==="solid"?o.push(cl([t],r)):o.push(Zo([t],r))),r.stroke!==Wn&&o.push(a),this._d("polygon",o,r)}path(t,n){let r=this._o(n),o=[];if(!t)return this._d("path",o,r);t=(t||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");let a=r.fill&&r.fill!=="transparent"&&r.fill!==Wn,l=r.stroke!==Wn,c=!!(r.simplification&&r.simplification<1),s=function(f,d,m){let b=$c(qc(js(f))),v=[],y=[],k=[0,0],_=[],j=()=>{_.length>=4&&y.push(...ki(_,d)),_=[]},M=()=>{j(),y.length&&(v.push(y),y=[])};for(let{key:N,data:U}of b)switch(N){case"M":M(),k=[U[0],U[1]],y.push(k);break;case"L":j(),y.push([U[0],U[1]]);break;case"C":if(!_.length){let V=y.length?y[y.length-1]:k;_.push([V[0],V[1]])}_.push([U[0],U[1]]),_.push([U[2],U[3]]),_.push([U[4],U[5]]);break;case"Z":j(),y.push([k[0],k[1]])}if(M(),!m)return v;let P=[];for(let N of v){let U=ff(N,m);U.length&&P.push(U)}return P}(t,1,c?4-4*r.simplification:(1+r.roughness)/2);return a&&(r.fillStyle==="solid"?o.push(cl(s,r)):o.push(Zo(s,r))),l&&(c?s.forEach(f=>{o.push(sl(f,!1,r))}):o.push(function(f,d){let m=$c(qc(js(f))),b=[],v=[0,0],y=[0,0];for(let{key:k,data:_}of m)switch(k){case"M":{let j=1*(d.maxRandomnessOffset||0),M=d.preserveVertices;b.push({op:"move",data:_.map(P=>P+(M?0:Ye(j,d)))}),y=[_[0],_[1]],v=[_[0],_[1]];break}case"L":b.push(...no(y[0],y[1],_[0],_[1],d)),y=[_[0],_[1]];break;case"C":{let[j,M,P,N,U,V]=_;b.push(...uf(j,M,P,N,U,V,y,d)),y=[U,V];break}case"Z":b.push(...no(y[0],y[1],v[0],v[1],d)),y=[v[0],v[1]]}return{type:"path",ops:b}}(t,r))),this._d("path",o,r)}opsToPath(t,n){let r="";for(let o of t.ops){let a=typeof n=="number"&&n>=0?o.data.map(l=>+l.toFixed(n)):o.data;switch(o.op){case"move":r+=`M${a[0]} ${a[1]} `;break;case"bcurveTo":r+=`C${a[0]} ${a[1]}, ${a[2]} ${a[3]}, ${a[4]} ${a[5]} `;break;case"lineTo":r+=`L${a[0]} ${a[1]} `}}return r.trim()}toPaths(t){let n=t.sets||[],r=t.options||this.defaultOptions,o=[];for(let a of n){let l=null;switch(a.type){case"path":l={d:this.opsToPath(a),stroke:r.stroke,strokeWidth:r.strokeWidth,fill:Wn};break;case"fillPath":l={d:this.opsToPath(a),stroke:Wn,strokeWidth:0,fill:r.fill||Wn};break;case"fillSketch":l=this.fillSketch(a,r)}l&&o.push(l)}return o}fillSketch(t,n){let r=n.fillWeight;return r<0&&(r=n.strokeWidth/2),{d:this.opsToPath(t),stroke:n.fill||Wn,strokeWidth:r,fill:Wn}}}class au{constructor(t,n){this.canvas=t,this.ctx=this.canvas.getContext("2d"),this.gen=new dl(n)}draw(t){let n=t.sets||[],r=t.options||this.getDefaultOptions(),o=this.ctx,a=t.options.fixedDecimalPlaceDigits;for(let l of n)switch(l.type){case"path":o.save(),o.strokeStyle=r.stroke==="none"?"transparent":r.stroke,o.lineWidth=r.strokeWidth,r.strokeLineDash&&o.setLineDash(r.strokeLineDash),r.strokeLineDashOffset&&(o.lineDashOffset=r.strokeLineDashOffset),this._drawToContext(o,l,a),o.restore();break;case"fillPath":{o.save(),o.fillStyle=r.fill||"";let c=t.shape==="curve"||t.shape==="polygon"||t.shape==="path"?"evenodd":"nonzero";this._drawToContext(o,l,a,c),o.restore();break}case"fillSketch":this.fillSketch(o,l,r)}}fillSketch(t,n,r){let o=r.fillWeight;o<0&&(o=r.strokeWidth/2),t.save(),r.fillLineDash&&t.setLineDash(r.fillLineDash),r.fillLineDashOffset&&(t.lineDashOffset=r.fillLineDashOffset),t.strokeStyle=r.fill||"",t.lineWidth=o,this._drawToContext(t,n,r.fixedDecimalPlaceDigits),t.restore()}_drawToContext(t,n,r,o="nonzero"){t.beginPath();for(let a of n.ops){let l=typeof r=="number"&&r>=0?a.data.map(c=>+c.toFixed(r)):a.data;switch(a.op){case"move":t.moveTo(l[0],l[1]);break;case"bcurveTo":t.bezierCurveTo(l[0],l[1],l[2],l[3],l[4],l[5]);break;case"lineTo":t.lineTo(l[0],l[1])}}n.type==="fillPath"?t.fill(o):t.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(t,n,r,o,a){let l=this.gen.line(t,n,r,o,a);return this.draw(l),l}rectangle(t,n,r,o,a){let l=this.gen.rectangle(t,n,r,o,a);return this.draw(l),l}ellipse(t,n,r,o,a){let l=this.gen.ellipse(t,n,r,o,a);return this.draw(l),l}circle(t,n,r,o){let a=this.gen.circle(t,n,r,o);return this.draw(a),a}linearPath(t,n){let r=this.gen.linearPath(t,n);return this.draw(r),r}polygon(t,n){let r=this.gen.polygon(t,n);return this.draw(r),r}arc(t,n,r,o,a,l,c=!1,s){let f=this.gen.arc(t,n,r,o,a,l,c,s);return this.draw(f),f}curve(t,n){let r=this.gen.curve(t,n);return this.draw(r),r}path(t,n){let r=this.gen.path(t,n);return this.draw(r),r}}let fa="http://www.w3.org/2000/svg";class Ms{constructor(t,n){this.svg=t,this.gen=new dl(n)}draw(t){let n=t.sets||[],r=t.options||this.getDefaultOptions(),o=this.svg.ownerDocument||window.document,a=o.createElementNS(fa,"g"),l=t.options.fixedDecimalPlaceDigits;for(let c of n){let s=null;switch(c.type){case"path":s=o.createElementNS(fa,"path"),s.setAttribute("d",this.opsToPath(c,l)),s.setAttribute("stroke",r.stroke),s.setAttribute("stroke-width",r.strokeWidth+""),s.setAttribute("fill","none"),r.strokeLineDash&&s.setAttribute("stroke-dasharray",r.strokeLineDash.join(" ").trim()),r.strokeLineDashOffset&&s.setAttribute("stroke-dashoffset",`${r.strokeLineDashOffset}`);break;case"fillPath":s=o.createElementNS(fa,"path"),s.setAttribute("d",this.opsToPath(c,l)),s.setAttribute("stroke","none"),s.setAttribute("stroke-width","0"),s.setAttribute("fill",r.fill||""),t.shape!=="curve"&&t.shape!=="polygon"||s.setAttribute("fill-rule","evenodd");break;case"fillSketch":s=this.fillSketch(o,c,r)}s&&a.appendChild(s)}return a}fillSketch(t,n,r){let o=r.fillWeight;o<0&&(o=r.strokeWidth/2);let a=t.createElementNS(fa,"path");return a.setAttribute("d",this.opsToPath(n,r.fixedDecimalPlaceDigits)),a.setAttribute("stroke",r.fill||""),a.setAttribute("stroke-width",o+""),a.setAttribute("fill","none"),r.fillLineDash&&a.setAttribute("stroke-dasharray",r.fillLineDash.join(" ").trim()),r.fillLineDashOffset&&a.setAttribute("stroke-dashoffset",`${r.fillLineDashOffset}`),a}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(t,n){return this.gen.opsToPath(t,n)}line(t,n,r,o,a){let l=this.gen.line(t,n,r,o,a);return this.draw(l)}rectangle(t,n,r,o,a){let l=this.gen.rectangle(t,n,r,o,a);return this.draw(l)}ellipse(t,n,r,o,a){let l=this.gen.ellipse(t,n,r,o,a);return this.draw(l)}circle(t,n,r,o){let a=this.gen.circle(t,n,r,o);return this.draw(a)}linearPath(t,n){let r=this.gen.linearPath(t,n);return this.draw(r)}polygon(t,n){let r=this.gen.polygon(t,n);return this.draw(r)}arc(t,n,r,o,a,l,c=!1,s){let f=this.gen.arc(t,n,r,o,a,l,c,s);return this.draw(f)}curve(t,n){let r=this.gen.curve(t,n);return this.draw(r)}path(t,n){let r=this.gen.path(t,n);return this.draw(r)}}var Xo={canvas:(e,t)=>new au(e,t),svg:(e,t)=>new Ms(e,t),generator:e=>new dl(e),newSeed:()=>dl.newSeed()};function fl(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=fl(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function mt(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=fl(e))&&(r&&(r+=" "),r+=t);return r}let ko=(e=21)=>{let t="",n=crypto.getRandomValues(new Uint8Array(e));for(;e--;){let r=63&n[e];t+=r<36?r.toString(36):r<62?(r-26).toString(36).toUpperCase():r<63?"_":"-"}return t};var Sr=function(e){return!!e&&e.type==="image"&&!!e.fileId},_i=function(e){return!!e&&e.type==="image"},St=function(e){return e!=null&&e.type==="text"},Br=function(e){return e!=null&&lu(e.type)},lu=function(e){return e==="freedraw"},Bt=function(e){return e!=null&&_o(e.type)},_o=function(e){return e==="arrow"||e==="line"},Jn=function(e){return e!=null&&su(e.type)},su=function(e){return e==="arrow"},pa=function(e){return e!=null&&(e.type==="rectangle"||e.type==="diamond"||e.type==="ellipse"||e.type==="image"||e.type==="text"&&!e.containerId)},pl=function(e){var t;return pa(e)&&!((t=e.boundElements)===null||t===void 0||!t.some(function(n){return n.type==="text"}))},dr=function(e){return e!==null&&St(e)&&e.containerId!==null},gt=function(e,t,n,r,o){return[(e-n)*Math.cos(o)-(t-r)*Math.sin(o)+n,(e-n)*Math.sin(o)+(t-r)*Math.cos(o)+r]},ha=function(e,t,n){return gt(e[0],e[1],t[0],t[1],n)},Ps=function(e,t,n,r,o,a,l,c){var s=Math.cos(r),f=Math.sin(r);return e.e&&e.w?t+=o+l:e.e?(t+=o*(1+s),n+=o*f,t+=l*(1-s),n+=l*-f):e.w&&(t+=o*(1-s),n+=o*-f,t+=l*(1+s),n+=l*f),e.n&&e.s?n+=a+c:e.n?(t+=a*f,n+=a*(1-s),t+=c*-f,n+=c*(1+s)):e.s&&(t+=a*-f,n+=a*(1+s),t+=c*f,n+=c*(1-s)),[t,n]},fr=function(e,t,n,r){var o=n-e,a=r-t;return Math.hypot(o,a)},Eo=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;if(e.length>=3){var n=[e[0],e[e.length-1]],r=n[0],o=n[1],a=fr(r[0],r[1],o[0],o[1]);return a<=C.qx/t}return!1},Ft=function(e,t,n){var r=e.length;if(r<3)return!1;for(var o=[Number.MAX_SAFE_INTEGER,n],a=[t,n],l=0,c=0;c<r;c++){var s=e[c],f=e[(c+1)%r];if(pf(s,f,a,o)){if(ma(s,a,f)===0)return Ct(s,a,f);l++}}return l%2==1},Ct=function(e,t,n){return t[0]<=Math.max(e[0],n[0])&&t[0]>=Math.min(e[0],n[0])&&t[1]<=Math.max(e[1],n[1])&&t[1]>=Math.min(e[1],n[1])},ma=function(e,t,n){var r=(t[1]-e[1])*(n[0]-t[0])-(t[0]-e[0])*(n[1]-t[1]);return r===0?0:r>0?1:2},pf=function(e,t,n,r){var o=ma(e,t,n),a=ma(e,t,r),l=ma(n,r,e),c=ma(n,r,t);return o!==a&&l!==c||!(o!==0||!Ct(e,n,t))||!(a!==0||!Ct(e,r,t))||!(l!==0||!Ct(n,e,r))||!(c!==0||!Ct(n,t,r))},pr=function(e,t,n){return n?[Math.round(e/n)*n,Math.round(t/n)*n]:[e,t]},cu=function(e){var t=e.map(function(r){return r[0]}),n=e.map(function(r){return r[1]});return{width:Math.max.apply(Math,fe(t))-Math.min.apply(Math,fe(t)),height:Math.max.apply(Math,fe(n))-Math.min.apply(Math,fe(n))}},hl=function(e,t,n){var r=n.map(function(m){return m[e]}),o=Math.max.apply(Math,fe(r)),a=Math.min.apply(Math,fe(r)),l=o-a,c=l===0?1:t/l,s=1/0,f=n.map(function(m){return m.map(function(b,v){if(v!==e)return b;var y=b*c;return s=Math.min(y,s),y})});if(f.length===2)return f;var d=a-s;return f.map(function(m){return m.map(function(b,v){return v===e?b+d:b})})};function wn(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(s,f){if(!!s){if(typeof s=="string")return As(s,f);var d=Object.prototype.toString.call(s).slice(8,-1);if(d==="Object"&&s.constructor&&(d=s.constructor.name),d==="Map"||d==="Set")return Array.from(s);if(d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return As(s,f)}}(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(s){throw s},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,l=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var s=n.next();return l=s.done,s},e:function(s){c=!0,a=s},f:function(){try{l||n.return==null||n.return()}finally{if(c)throw a}}}}function As(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var pt=function(e){return Br(e)?uu(e):Bt(e)?du(e):[e.x,e.y,e.x+e.width,e.y+e.height]},So=function(e){var t,n=wn(e.sets);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.type==="path")return r.ops}}catch(o){n.e(o)}finally{n.f()}return e.sets[0].ops},Ei=function(e,t){var n=[0,0],r=e.reduce(function(o,a){var l=a.op,c=a.data;if(l==="move")n=c;else if(l==="bcurveTo"){var s=[c[0],c[1]],f=[c[2],c[3]],d=[c[4],c[5]],m=n;n=d;for(var b=function(j,M){return Math.pow(1-j,3)*d[M]+3*j*Math.pow(1-j,2)*f[M]+3*Math.pow(j,2)*(1-j)*s[M]+m[M]*Math.pow(j,3)},v=0;v<=1;){var y=b(v,0),k=b(v,1);if(t){var _=R(t(y,k),2);y=_[0],k=_[1]}o.minY=Math.min(o.minY,k),o.minX=Math.min(o.minX,y),o.maxX=Math.max(o.maxX,y),o.maxY=Math.max(o.maxY,k),v+=.1}}return o},{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0});return[r.minX,r.minY,r.maxX,r.maxY]},Vn=function(e){var t,n=1/0,r=1/0,o=-1/0,a=-1/0,l=wn(e);try{for(l.s();!(t=l.n()).done;){var c=R(t.value,2),s=c[0],f=c[1];n=Math.min(n,s),r=Math.min(r,f),o=Math.max(o,s),a=Math.max(a,f)}}catch(d){l.e(d)}finally{l.f()}return[n,r,o,a]},uu=function(e){var t=R(Vn(e.points),4),n=t[0],r=t[1],o=t[2],a=t[3];return[n+e.x,r+e.y,o+e.x,a+e.y]},du=function(e){var t;if(e.points.length<2||!fn(e)){var n=e.points.reduce(function(y,k){var _=R(k,2),j=_[0],M=_[1];return y.minY=Math.min(y.minY,M),y.minX=Math.min(y.minX,j),y.maxX=Math.max(y.maxX,j),y.maxY=Math.max(y.maxY,M),y},{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}),r=n.minX,o=n.minY,a=n.maxX,l=n.maxY;t=[r+e.x,o+e.y,a+e.x,l+e.y]}else{var c=fn(e),s=So(c[0]),f=R(Ei(s),4),d=f[0],m=f[1],b=f[2],v=f[3];t=[d+e.x,m+e.y,b+e.x,v+e.y]}return t},Si=function(e){var t,n=R(pt(e),4),r=n[0],o=n[1],a=n[2],l=n[3],c=(r+a)/2,s=(o+l)/2;if(Br(e)){var f=Vn(e.points.map(function(ut){var Ut=R(ut,2),en=Ut[0],Kn=Ut[1];return gt(en,Kn,c-e.x,s-e.y,e.angle)})),d=R(f,4),m=d[0],b=d[1],v=d[2],y=d[3];return[m+e.x,b+e.y,v+e.x,y+e.y]}if(Bt(e))t=function(ut,Ut,en){if(ut.points.length<2||!fn(ut)){var Kn=ut.points.reduce(function(be,Ne){var We=R(Ne,2),ot=We[0],jt=We[1],Kt=R(gt(ut.x+ot,ut.y+jt,Ut,en,ut.angle),2);return ot=Kt[0],jt=Kt[1],be.minY=Math.min(be.minY,jt),be.minX=Math.min(be.minX,ot),be.maxX=Math.max(be.maxX,ot),be.maxY=Math.max(be.maxY,jt),be},{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0});return[Kn.minX,Kn.minY,Kn.maxX,Kn.maxY]}var cr=fn(ut),kr=So(cr[0]);return Ei(kr,function(be,Ne){return gt(ut.x+be,ut.y+Ne,Ut,en,ut.angle)})}(e,c,s);else if(e.type==="diamond"){var k=R(gt(c,o,c,s,e.angle),2),_=k[0],j=k[1],M=R(gt(c,l,c,s,e.angle),2),P=M[0],N=M[1],U=R(gt(r,s,c,s,e.angle),2),V=U[0],q=U[1],G=R(gt(a,s,c,s,e.angle),2),ae=G[0],oe=G[1];t=[Math.min(_,P,V,ae),Math.min(j,N,q,oe),Math.max(_,P,V,ae),Math.max(j,N,q,oe)]}else if(e.type==="ellipse"){var ie=(a-r)/2,K=(l-o)/2,he=Math.cos(e.angle),ue=Math.sin(e.angle),ce=Math.hypot(ie*he,K*ue),ve=Math.hypot(K*he,ie*ue);t=[c-ce,s-ve,c+ce,s+ve]}else{var pe=R(gt(r,o,c,s,e.angle),2),J=pe[0],Ee=pe[1],Se=R(gt(r,l,c,s,e.angle),2),Oe=Se[0],ye=Se[1],ze=R(gt(a,l,c,s,e.angle),2),it=ze[0],xt=ze[1],zt=R(gt(a,o,c,s,e.angle),2),dt=zt[0],Dt=zt[1];t=[Math.min(J,Oe,it,dt),Math.min(Ee,ye,xt,Dt),Math.max(J,Oe,it,dt),Math.max(Ee,ye,xt,Dt)]}return t},hn=function(e){if(!e.length)return[0,0,0,0];var t=1/0,n=-1/0,r=1/0,o=-1/0;return e.forEach(function(a){var l=R(Si(a),4),c=l[0],s=l[1],f=l[2],d=l[3];t=Math.min(t,c),r=Math.min(r,s),n=Math.max(n,f),o=Math.max(o,d)}),[t,r,n,o]},qo=function(e,t,n){if(!Bt(e)&&!Br(e))return[e.x,e.y,e.x+t,e.y+n];var r,o=hl(0,t,hl(1,n,e.points));if(Br(e))r=Vn(o);else{var a=Xo.generator(),l=e.strokeSharpness==="sharp"?a.linearPath(o,vr(e)):a.curve(o,vr(e)),c=So(l);r=Ei(c)}var s=R(r,4),f=s[0],d=s[1],m=s[2],b=s[3];return[f+e.x,d+e.y,m+e.x,b+e.y]},Ls=function(e,t,n){var r=Xo.generator(),o=n==="sharp"?r.linearPath(t,vr(e)):r.curve(t,vr(e)),a=So(o),l=R(Ei(a),4),c=l[0],s=l[1],f=l[2],d=l[3];return[c+e.x,s+e.y,f+e.x,d+e.y]},Tn=function(e){var t=R(hn(e),4),n=t[0],r=t[1],o=t[2],a=t[3];return{minX:n,minY:r,maxX:o,maxY:a,width:o-n,height:a-r,midX:(n+o)/2,midY:(r+a)/2}},st=JSON.parse('{"white":"#ffffff","black":"#000000","gray":["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],"red":["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],"pink":["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],"grape":["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],"violet":["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],"indigo":["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],"blue":["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],"cyan":["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],"teal":["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],"green":["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],"lime":["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],"yellow":["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],"orange":["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]}'),Gn=function(e){return[st.red[e],st.pink[e],st.grape[e],st.violet[e],st.indigo[e],st.blue[e],st.cyan[e],st.teal[e],st.green[e],st.lime[e],st.yellow[e],st.orange[e]]},jo={canvasBackground:[st.white,st.gray[0],st.gray[1]].concat(fe(Gn(0))),elementBackground:["transparent",st.gray[4],st.gray[6]].concat(fe(Gn(6))),elementStroke:[st.black,st.gray[8],st.gray[7]].concat(fe(Gn(9)))},ro=x(5156),En=/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),ga=/^Win/.test(window.navigator.platform),ml=/\b(android)\b/i.test(navigator.userAgent),Zt="Equal",Co="Minus",Ds="NumpadAdd",hf="NumpadSubtract",Rs="Numpad0",gl="BracketRight",ji="BracketLeft",vl="Digit1",Ci="Digit2",mf="Quote",zs="Digit0",fu="Slash",bl="KeyC",Ns="KeyD",Hs="KeyG",Bs="KeyF",Fs="KeyH",Us="KeyV",er="KeyX",Ks="KeyZ",va="KeyR",re={ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",ARROW_UP:"ArrowUp",BACKSPACE:"Backspace",ALT:"Alt",CTRL_OR_CMD:En?"metaKey":"ctrlKey",DELETE:"Delete",ENTER:"Enter",ESCAPE:"Escape",QUESTION_MARK:"?",SPACE:" ",TAB:"Tab",CHEVRON_LEFT:"<",CHEVRON_RIGHT:">",PERIOD:".",COMMA:",",A:"a",D:"d",E:"e",G:"g",I:"i",L:"l",O:"o",P:"p",Q:"q",R:"r",S:"s",T:"t",V:"v",X:"x",Y:"y",Z:"z",K:"k"},Oi=function(e){return e===re.ARROW_LEFT||e===re.ARROW_RIGHT||e===re.ARROW_DOWN||e===re.ARROW_UP},Ws=function(e){return e.altKey},ba=function(e){return e.shiftKey},pu=function(e){return e.shiftKey},hu=null,Ii=function(){if(hu)return hu;var e=new Date,t=e.getFullYear(),n="".concat(e.getMonth()+1).padStart(2,"0"),r="".concat(e.getDate()).padStart(2,"0"),o="".concat(e.getHours()).padStart(2,"0"),a="".concat(e.getMinutes()).padStart(2,"0");return"".concat(t,"-").concat(n,"-").concat(r,"-").concat(o).concat(a)},$o=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},oo=function(e){return e instanceof HTMLElement&&e.dataset.type==="wysiwyg"||e instanceof HTMLBRElement||e instanceof HTMLTextAreaElement||e instanceof HTMLInputElement&&(e.type==="text"||e.type==="number")},jr=function(e){for(var t=e.fontFamily,n=0,r=Object.entries(C.ut);n<r.length;n++){var o=R(r[n],2),a=o[0];if(o[1]===t)return"".concat(a,", ").concat(C._D)}return C._D},dn=function(e){var t=e.fontSize,n=e.fontFamily;return"".concat(t,"px ").concat(jr({fontFamily:n}))},Vs=function(e,t){var n=0,r=null,o=function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];r=l,clearTimeout(n),n=window.setTimeout(function(){r=null,e.apply(void 0,l)},t)};return o.flush=function(){if(clearTimeout(n),r){var a=r;r=null,e.apply(void 0,fe(a))}},o.cancel=function(){r=null,clearTimeout(n)},o},Ti=function(e,t){if(!e.length||t<1)return[];for(var n=0,r=0,o=Array(Math.ceil(e.length/t));n<e.length;)o[r++]=e.slice(n,n+=t);return o},on=function(e,t){return Math.abs(e-t)},Cr=function(e){e&&(e.style.cursor="")},an=function(e,t){e&&(e.style.cursor=t)},Or=function(e,t){e&&(t==="selection"?Cr(e):t!=="image"&&(e.style.cursor=C.oc.CROSSHAIR))},X=function(){var e;return((e=document.fullscreenElement)===null||e===void 0?void 0:e.nodeName)==="HTML"},H=function(e){return e=e.replace(/\bAlt\b/i,"Alt").replace(/\bShift\b/i,"Shift").replace(/\b(Enter|Return)\b/i,"Enter").replace(/\bDel\b/i,"Delete"),En?e.replace(/\bCtrlOrCmd\b/i,"Cmd").replace(/\bAlt\b/i,"Option"):e.replace(/\bCtrlOrCmd\b/i,"Ctrl")},te=function(e,t){var n=e.clientX,r=e.clientY,o=t.zoom,a=t.offsetLeft,l=t.offsetTop,c=t.scrollX,s=t.scrollY,f=1/o.value;return{x:(n-a)*f-c,y:(r-l)*f-s}},_e=function(e,t){var n=e.sceneX,r=e.sceneY,o=t.zoom,a=t.offsetLeft,l=t.offsetTop,c=t.scrollX,s=t.scrollY;return{x:(n+c)*o.value+a,y:(r+s)*o.value+l}},et=function(e){return getComputedStyle(document.documentElement).getPropertyValue("--".concat(e))},_t=new RegExp("^[^".concat("A-Za-z\xC0-\xD6\xD8-\xF6\xF8-\u02B8\u0300-\u0590\u0800-\u1FFF\u2C00-\uFB1C\uFDFE-\uFE6F\uFEFD-\uFFFF","]*[").concat("\u0591-\u07FF\uFB1D-\uFDFD\uFE70-\uFEFC","]")),mn=function(e){return _t.test(e)},Sn=function(e){var t=R(e,2);return{x:t[0],y:t[1]}},Nt=function(e){if((e==null?void 0:e.name)!=="AbortError")throw e;console.warn(e)},Qo=function(e){var t=e.length===5&&e.substr(4,1)==="0",n=e.length===9&&e.substr(7,2)==="00";return t||n||e===jo.elementBackground[0]},Xt=function(e){return function(t){(0,ro.unstable_batchedUpdates)(e,t)}},Zn=function(e){return t=function(l){(0,ro.unstable_batchedUpdates)(e,l)},n=null,r=null,o=null,a=function(){for(var l=arguments.length,c=new Array(l),s=0;s<l;s++)c[s]=arguments[s];r=c,o=t,n===null&&(n=window.requestAnimationFrame(function(){n=null,r=null,o=null,t.apply(void 0,c)}))},a.flush=function(){if(n!==null&&(cancelAnimationFrame(n),n=null),r){var l=r,c=o;r=null,o=null,c!==null&&c.apply(void 0,fe(l))}},a.cancel=function(){r=null,o=null,n!==null&&(cancelAnimationFrame(n),n=null)},a;var t,n,r,o,a},io=function(){return Fr()?1:Date.now()},tr=function(e){return e.reduce(function(t,n){return t.set(typeof n=="string"?n:n.id,n),t},new Map)},Fr=function(){var e;return typeof process<"u"&&((e={REACT_APP_BACKEND_V2_GET_URL:"https://json.excalidraw.com/api/v2/",REACT_APP_BACKEND_V2_POST_URL:"https://json.excalidraw.com/api/v2/post/",REACT_APP_LIBRARY_URL:"https://libraries.excalidraw.com",REACT_APP_LIBRARY_BACKEND:"https://us-central1-excalidraw-room-persistence.cloudfunctions.net/libraries",REACT_APP_SOCKET_SERVER_URL:"https://oss-collab-us1.excalidraw.com",REACT_APP_FIREBASE_CONFIG:'{"apiKey":"AIzaSyAd15pYlMci_xIp9ko6wkEsDzAAA0Dn0RU","authDomain":"excalidraw-room-persistence.firebaseapp.com","databaseURL":"https://excalidraw-room-persistence.firebaseio.com","projectId":"excalidraw-room-persistence","storageBucket":"excalidraw-room-persistence.appspot.com","messagingSenderId":"654800341332","appId":"1:654800341332:web:4a692de832b55bd57ce0c1"}',REACT_APP_GOOGLE_ANALYTICS_ID:"UA-387204-13"})===null||e===void 0?void 0:e.NODE_ENV)==="test"},ya=function(e,t){return new CustomEvent(e,{detail:{nativeEvent:t},cancelable:!0})};function yl(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(s,f){if(!!s){if(typeof s=="string")return Ot(s,f);var d=Object.prototype.toString.call(s).slice(8,-1);if(d==="Object"&&s.constructor&&(d=s.constructor.name),d==="Map"||d==="Set")return Array.from(s);if(d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return Ot(s,f)}}(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(s){throw s},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,l=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var s=n.next();return l=s.done,s},e:function(s){c=!0,a=s},f:function(){try{l||n.return==null||n.return()}finally{if(c)throw a}}}}function Ot(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var gf=C.ZB.includes(devicePixelRatio)?devicePixelRatio:1,Oo=function(){return{theme:C.C6.LIGHT,collaborators:new Map,currentChartType:"bar",currentItemBackgroundColor:"transparent",currentItemEndArrowhead:"arrow",currentItemFillStyle:"hachure",currentItemFontFamily:C.rk,currentItemFontSize:C.n5,currentItemLinearStrokeSharpness:"round",currentItemOpacity:100,currentItemRoughness:1,currentItemStartArrowhead:null,currentItemStrokeColor:st.black,currentItemStrokeSharpness:"sharp",currentItemStrokeStyle:"solid",currentItemStrokeWidth:1,currentItemTextAlign:C.Hg,cursorButton:"up",draggingElement:null,editingElement:null,editingGroupId:null,editingLinearElement:null,elementLocked:!1,elementType:"selection",penMode:!1,penDetected:!1,errorMessage:null,exportBackground:!0,exportScale:gf,exportEmbedScene:!1,exportWithDarkMode:!1,fileHandle:null,gridSize:null,isBindingEnabled:!0,isLibraryOpen:!1,isLoading:!1,isResizing:!1,isRotating:!1,lastPointerDownWith:"mouse",multiElement:null,name:"".concat(S("labels.untitled"),"-").concat(Ii()),openMenu:null,openPopup:null,pasteDialog:{shown:!1,data:null},previousSelectedElementIds:{},resizingElement:null,scrolledOutside:!1,scrollX:0,scrollY:0,selectedElementIds:{},selectedGroupIds:{},selectionElement:null,shouldCacheIgnoreZoom:!1,showHelpDialog:!1,showStats:!1,startBoundElement:null,suggestedBindings:[],toastMessage:null,viewBackgroundColor:st.white,zenModeEnabled:!1,zoom:{value:1},viewModeEnabled:!1,pendingImageElement:null,showHyperlinkPopup:!1}},xl={theme:{browser:!0,export:!1,server:!1},collaborators:{browser:!1,export:!1,server:!1},currentChartType:{browser:!0,export:!1,server:!1},currentItemBackgroundColor:{browser:!0,export:!1,server:!1},currentItemEndArrowhead:{browser:!0,export:!1,server:!1},currentItemFillStyle:{browser:!0,export:!1,server:!1},currentItemFontFamily:{browser:!0,export:!1,server:!1},currentItemFontSize:{browser:!0,export:!1,server:!1},currentItemLinearStrokeSharpness:{browser:!0,export:!1,server:!1},currentItemOpacity:{browser:!0,export:!1,server:!1},currentItemRoughness:{browser:!0,export:!1,server:!1},currentItemStartArrowhead:{browser:!0,export:!1,server:!1},currentItemStrokeColor:{browser:!0,export:!1,server:!1},currentItemStrokeSharpness:{browser:!0,export:!1,server:!1},currentItemStrokeStyle:{browser:!0,export:!1,server:!1},currentItemStrokeWidth:{browser:!0,export:!1,server:!1},currentItemTextAlign:{browser:!0,export:!1,server:!1},cursorButton:{browser:!0,export:!1,server:!1},draggingElement:{browser:!1,export:!1,server:!1},editingElement:{browser:!1,export:!1,server:!1},editingGroupId:{browser:!0,export:!1,server:!1},editingLinearElement:{browser:!1,export:!1,server:!1},elementLocked:{browser:!0,export:!1,server:!1},elementType:{browser:!0,export:!1,server:!1},penMode:{browser:!1,export:!1,server:!1},penDetected:{browser:!1,export:!1,server:!1},errorMessage:{browser:!1,export:!1,server:!1},exportBackground:{browser:!0,export:!1,server:!1},exportEmbedScene:{browser:!0,export:!1,server:!1},exportScale:{browser:!0,export:!1,server:!1},exportWithDarkMode:{browser:!0,export:!1,server:!1},fileHandle:{browser:!1,export:!1,server:!1},gridSize:{browser:!0,export:!0,server:!0},height:{browser:!1,export:!1,server:!1},isBindingEnabled:{browser:!1,export:!1,server:!1},isLibraryOpen:{browser:!1,export:!1,server:!1},isLoading:{browser:!1,export:!1,server:!1},isResizing:{browser:!1,export:!1,server:!1},isRotating:{browser:!1,export:!1,server:!1},lastPointerDownWith:{browser:!0,export:!1,server:!1},multiElement:{browser:!1,export:!1,server:!1},name:{browser:!0,export:!1,server:!1},offsetLeft:{browser:!1,export:!1,server:!1},offsetTop:{browser:!1,export:!1,server:!1},openMenu:{browser:!0,export:!1,server:!1},openPopup:{browser:!1,export:!1,server:!1},pasteDialog:{browser:!1,export:!1,server:!1},previousSelectedElementIds:{browser:!0,export:!1,server:!1},resizingElement:{browser:!1,export:!1,server:!1},scrolledOutside:{browser:!0,export:!1,server:!1},scrollX:{browser:!0,export:!1,server:!1},scrollY:{browser:!0,export:!1,server:!1},selectedElementIds:{browser:!0,export:!1,server:!1},selectedGroupIds:{browser:!0,export:!1,server:!1},selectionElement:{browser:!1,export:!1,server:!1},shouldCacheIgnoreZoom:{browser:!0,export:!1,server:!1},showHelpDialog:{browser:!1,export:!1,server:!1},showStats:{browser:!0,export:!1,server:!1},startBoundElement:{browser:!1,export:!1,server:!1},suggestedBindings:{browser:!1,export:!1,server:!1},toastMessage:{browser:!1,export:!1,server:!1},viewBackgroundColor:{browser:!0,export:!0,server:!0},width:{browser:!1,export:!1,server:!1},zenModeEnabled:{browser:!0,export:!1,server:!1},zoom:{browser:!0,export:!1,server:!1},viewModeEnabled:{browser:!1,export:!1,server:!1},pendingImageElement:{browser:!1,export:!1,server:!1},showHyperlinkPopup:{browser:!1,export:!1,server:!1}},mu=function(e,t){var n,r={},o=yl(Object.keys(e));try{for(o.s();!(n=o.n()).done;){var a=n.value,l=xl[a];if(l!=null&&l[t]){var c=e[a];r[a]=c}}}catch(s){o.e(s)}finally{o.f()}return r},gu=function(e){return mu(e,"export")},vf=function(e){return mu(e,"server")};function xa(e,t,n,r=o=>o){return e*r(.5-t*(.5-n))}function kn(e,t){return[e[0]+t[0],e[1]+t[1]]}function Nn(e,t){return[e[0]-t[0],e[1]-t[1]]}function hr(e,t){return[e[0]*t,e[1]*t]}function Io(e){return[e[1],-e[0]]}function vu(e,t){return e[0]*t[0]+e[1]*t[1]}function bu(e,t){return e[0]===t[0]&&e[1]===t[1]}function wa(e,t){return function(n){return n[0]*n[0]+n[1]*n[1]}(Nn(e,t))}function Gs(e){return function(t,n){return[t[0]/n,t[1]/n]}(e,function(t){return Math.hypot(t[0],t[1])}(e))}function ka(e,t){return Math.hypot(e[1]-t[1],e[0]-t[0])}function Ir(e,t,n){let r=Math.sin(n),o=Math.cos(n),a=e[0]-t[0],l=e[1]-t[1],c=a*r+l*o;return[a*o-l*r+t[0],c+t[1]]}function Mi(e,t,n){return kn(e,hr(Nn(t,e),n))}function yu(e,t,n){return kn(e,hr(t,n))}var{min:Pi,PI:bf}=Math,To=bf+1e-4;function wl(e,t={}){return function(n,r={}){let{size:o=16,smoothing:a=.5,thinning:l=.5,simulatePressure:c=!0,easing:s=J=>J,start:f={},end:d={},last:m=!1}=r,{cap:b=!0,taper:v=0,easing:y=J=>J*(2-J)}=f,{cap:k=!0,taper:_=0,easing:j=J=>--J*J*J+1}=d;if(n.length===0||o<=0)return[];let M,P=n[n.length-1].runningLength,N=Math.pow(o*a,2),U=[],V=[],q=n.slice(0,10).reduce((J,Ee)=>{let Se=Ee.pressure;if(c){let Oe=Pi(1,Ee.distance/o),ye=Pi(1,1-Oe);Se=Pi(1,J+.275*Oe*(ye-J))}return(J+Se)/2},n[0].pressure),G=xa(o,l,n[n.length-1].pressure,s),ae=n[0].vector,oe=n[0].point,ie=oe,K=oe,he=ie;for(let J=0;J<n.length;J++){let{pressure:Ee}=n[J],{point:Se,vector:Oe,distance:ye,runningLength:ze}=n[J];if(J<n.length-1&&P-ze<3)continue;if(l){if(c){let ut=Pi(1,ye/o),Ut=Pi(1,1-ut);Ee=Pi(1,q+.275*ut*(Ut-q))}G=xa(o,l,Ee,s)}else G=o/2;M===void 0&&(M=G);let it=ze<v?y(ze/v):1,xt=P-ze<_?j((P-ze)/_):1;if(G=Math.max(.01,G*Math.min(it,xt)),J===n.length-1){let ut=hr(Io(Oe),G);U.push(Nn(Se,ut)),V.push(kn(Se,ut));continue}let zt=n[J+1].vector,dt=vu(Oe,zt);if(dt<0){let ut=hr(Io(ae),G);for(let Ut=.07692307692307693,en=0;en<=1;en+=Ut)K=Ir(Nn(Se,ut),Se,To*en),U.push(K),he=Ir(kn(Se,ut),Se,To*-en),V.push(he);oe=K,ie=he;continue}let Dt=hr(Io(Mi(zt,Oe,dt)),G);K=Nn(Se,Dt),(J<=1||wa(oe,K)>N)&&(U.push(K),oe=K),he=kn(Se,Dt),(J<=1||wa(ie,he)>N)&&(V.push(he),ie=he),q=Ee,ae=Oe}let ue=n[0].point.slice(0,2),ce=n.length>1?n[n.length-1].point.slice(0,2):kn(n[0].point,[1,1]),ve=[],pe=[];if(n.length===1){if(!v&&!_||m){let J=yu(ue,Gs(Io(Nn(ue,ce))),-(M||G)),Ee=[];for(let Se=.07692307692307693,Oe=Se;Oe<=1;Oe+=Se)Ee.push(Ir(J,ue,2*To*Oe));return Ee}}else{if(!(v||_&&n.length===1))if(b)for(let Ee=.07692307692307693,Se=Ee;Se<=1;Se+=Ee){let Oe=Ir(V[0],ue,To*Se);ve.push(Oe)}else{let Ee=Nn(U[0],V[0]),Se=hr(Ee,.5),Oe=hr(Ee,.51);ve.push(Nn(ue,Se),Nn(ue,Oe),kn(ue,Oe),kn(ue,Se))}let J=Io(function(Ee){return[-Ee[0],-Ee[1]]}(n[n.length-1].vector));if(_||v&&n.length===1)pe.push(ce);else if(k){let Ee=yu(ce,J,G);for(let Se=.034482758620689655,Oe=Se;Oe<1;Oe+=Se)pe.push(Ir(Ee,ce,3*To*Oe))}else pe.push(kn(ce,hr(J,G)),kn(ce,hr(J,.99*G)),Nn(ce,hr(J,.99*G)),Nn(ce,hr(J,G)))}return U.concat(pe,V.reverse(),ve)}(function(n,r={}){var o;let{streamline:a=.5,size:l=16,last:c=!1}=r;if(n.length===0)return[];let s=.15+.85*(1-a),f=Array.isArray(n[0])?n:n.map(({x:k,y:_,pressure:j=.5})=>[k,_,j]);if(f.length===2){let k=f[1];f=f.slice(0,-1);for(let _=1;_<5;_++)f.push(Mi(f[0],k,_/4))}f.length===1&&(f=[...f,[...kn(f[0],[1,1]),...f[0].slice(2)]]);let d=[{point:[f[0][0],f[0][1]],pressure:f[0][2]>=0?f[0][2]:.25,vector:[1,1],distance:0,runningLength:0}],m=!1,b=0,v=d[0],y=f.length-1;for(let k=1;k<f.length;k++){let _=c&&k===y?f[k].slice(0,2):Mi(v.point,f[k],s);if(bu(v.point,_))continue;let j=ka(_,v.point);if(b+=j,k<y&&!m){if(b<l)continue;m=!0}v={point:_,pressure:f[k][2]>=0?f[k][2]:.5,vector:Gs(Nn(v.point,_)),distance:j,runningLength:b},d.push(v)}return d[0].vector=((o=d[1])==null?void 0:o.vector)||[0,0],d}(e,t),t)}var kl=function(e){return typeof e=="string"},Zs=function(){function e(){de(this,e),this.callbacks=new Set,this.nonDeletedElements=[],this.elements=[],this.elementsMap=new Map}return Ze(e,[{key:"getElementsIncludingDeleted",value:function(){return this.elements}},{key:"getElements",value:function(){return this.nonDeletedElements}},{key:"getElement",value:function(t){return this.elementsMap.get(t)||null}},{key:"getNonDeletedElement",value:function(t){var n=this.getElement(t);return n&&se(n)?n:null}},{key:"getNonDeletedElements",value:function(t){var n=this,r=[];return t.forEach(function(o){var a=n.getNonDeletedElement(o);a!=null&&r.push(a)}),r}},{key:"replaceAllElements",value:function(t){var n=this;this.elements=t,this.elementsMap.clear(),t.forEach(function(r){n.elementsMap.set(r.id,r),e.mapElementToScene(r,n)}),this.nonDeletedElements=Y(this.elements),this.informMutation()}},{key:"informMutation",value:function(){for(var t=0,n=Array.from(this.callbacks);t<n.length;t++)(0,n[t])()}},{key:"addCallback",value:function(t){var n=this;if(this.callbacks.has(t))throw new Error;return this.callbacks.add(t),function(){if(!n.callbacks.has(t))throw new Error;n.callbacks.delete(t)}}},{key:"destroy",value:function(){var t=this;e.sceneMapById.forEach(function(n,r){n===t&&e.sceneMapById.delete(r)}),this.callbacks.clear()}}],[{key:"mapElementToScene",value:function(t,n){kl(t)?this.sceneMapById.set(t,n):this.sceneMapByElement.set(t,n)}},{key:"getScene",value:function(t){return kl(t)?this.sceneMapById.get(t)||null:this.sceneMapByElement.get(t)||null}}]),e}();Zs.sceneMapByElement=new WeakMap,Zs.sceneMapById=new Map;var _l,Jo,Vt=Zs,ln=function(e,t,n){var r=t?t.width-2*C.gK:void 0,o=e.text;t&&(o=Ai(e.originalText,dn(e),t.width));var a=ao(e.originalText,dn(e),r),l=e.y;if(t){l=t.y+t.height/2-a.height/2;var c=t.height;a.height>t.height-2*C.gK&&(c=a.height+2*C.gK,l=t.y+c/2-a.height/2),je(t,{height:c})}je(e,{width:a.width,height:a.height,baseline:a.baseline,y:l,text:o})},_n=function(e,t,n){var r=tr(e);t.forEach(function(o){var a=n.get(o.id),l=nr(o);if(l){var c,s=n.get(l);je(r.get(a),{boundElements:(c=o.boundElements)===null||c===void 0?void 0:c.concat({type:"text",id:s})}),je(r.get(s),{containerId:a})}})},xu=function(e,t){e.forEach(function(n){var r=nr(n);if(r){var o=Vt.getScene(n).getElement(r);if(o&&o.text){if(!n)return;var a=o.text,l=o.height,c=n.height,s=o.baseline;if(t!=="n"&&t!=="s"){a&&(a=Ai(o.originalText,dn(o),n.width));var f=ao(a,dn(o),n.width);l=f.height,s=f.baseline}if(l>n.height-2*C.gK){var d=(c=l+2*C.gK)-n.height,m=t==="ne"||t==="nw"||t==="n"?n.y-d:n.y;je(n,{height:c,y:m})}var b=n.y+c/2-l/2;je(o,{text:a,width:n.width-2*C.gK,height:l,x:n.x+C.gK,y:b,baseline:s})}}})},ao=function(e,t,n){e=e.split(`
`).map(function(f){return f||" "}).join(`
`);var r=document.createElement("div");if(r.style.position="absolute",r.style.whiteSpace="pre",r.style.font=t,r.style.minHeight="1em",n){var o=ei(t);r.style.width="".concat(String(n),"px"),r.style.maxWidth="".concat(String(n),"px"),r.style.overflow="hidden",r.style.wordBreak="break-word",r.style.lineHeight="".concat(String(o),"px"),r.style.whiteSpace="pre-wrap"}document.body.appendChild(r),r.innerText=e;var a=document.createElement("span");a.style.display="inline-block",a.style.overflow="hidden",a.style.width="1px",a.style.height="1px",r.appendChild(a);var l=a.offsetTop+a.offsetHeight,c=r.offsetWidth,s=r.offsetHeight;return document.body.removeChild(r),{width:c,height:s,baseline:l}},Ys="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".toLocaleUpperCase(),Xs={},ei=function(e){return Xs[e]||(Xs[e]=ao(Ys,e,null).height),Xs[e]},Mo=function(e,t){_l||(_l=document.createElement("canvas"));var n=_l.getContext("2d");n.font=t;var r=n.measureText(e);return Fr()?10*r.width:r.width},Ai=function(e,t,n){var r=n-2*C.gK,o=[],a=e.split(`
`),l=Mo(" ",t);return a.forEach(function(c){var s=c.split(" ");if(s.length===1&&s[0]==="")o.push(s[0]);else{for(var f="",d=0,m=0;m<s.length;)if(Mo(s[m],t)>=r){for(f&&o.push(f),f="",d=0;s[m].length>0;){var b=s[m][0],v=ti.calculate(b,t);d+=v,s[m]=s[m].slice(1),d>=r?(f.slice(-1)===" "&&(f=f.slice(0,-1)),o.push(f),f=b,(d=v)===r&&(f="",d=0)):f+=b}d+l>=r?(o.push(f),f="",d=0):(f+=" ",d+=l),m++}else{for(;d<r&&m<s.length;){var y=s[m];if((d=Mo(f+y,t))>=r){o.push(f),d=0,f="";break}if(m++,f+="".concat(y," "),d+l>=r){o.push(f.slice(0,-1)),f="",d=0;break}}d===r&&(f="",d=0)}f&&(f.slice(-1)===" "&&(f=f.slice(0,-1)),o.push(f))}}),o.join(`
`)},ti=(Jo={},{calculate:function(e,t){var n=e.charCodeAt(0);if(Jo[t]||(Jo[t]=[]),!Jo[t][n]){var r=Mo(e,t);Jo[t][n]=r}return Jo[t][n]},getCache:function(e){return Jo[e]}}),Li=function(e){var t=_a(e);return t===0?ao(Ys.split("").join(`
`),e).width+2*C.gK:t+2*C.gK},_a=function(e){var t=ti.getCache(e);if(!t)return 0;var n=t.filter(function(r){return r!==void 0});return Math.min.apply(Math,fe(n))},nr=function(e){var t,n;return e==null||(t=e.boundElements)===null||t===void 0||(n=t.filter(function(r){return r.type==="text"})[0])===null||n===void 0?void 0:n.id},Ur=function(e){if(!e)return null;var t,n=nr(e);return n&&((t=Vt.getScene(e))===null||t===void 0?void 0:t.getElement(n))||null},Kr=function(e){return e&&e.containerId&&((t=Vt.getScene(e))===null||t===void 0?void 0:t.getElement(e.containerId))||null;var t};function wu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Po(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wu(Object(n),!0).forEach(function(r){F(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wu(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var ku="invert(100%) hue-rotate(180deg) saturate(1.25)",yf=Oo(),Ea=function(e,t){return Sr(e)&&!t.imageCache.has(e.fileId)},Di=function(e,t){var n;return t.theme==="dark"&&Sr(e)&&!Ea(e,t)&&((n=t.imageCache.get(e.fileId))===null||n===void 0?void 0:n.mimeType)!==C.LO.svg},_u=function(e){return[8,8+e]},O=function(e){return[1.5,6+e]},ni=function(e){return e.type==="freedraw"?12*e.strokeWidth:20},Sa=document.createElement("img");Sa.src="data:".concat(C.LO.svg,",").concat(encodeURIComponent('<svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="image" class="svg-inline--fa fa-image fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="#888" d="M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"></path></svg>'));var rr=document.createElement("img");rr.src="data:".concat(C.LO.svg,",").concat(encodeURIComponent('<svg viewBox="0 0 668 668" xmlns="http://www.w3.org/2000/svg" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2"><path d="M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48ZM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56ZM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48Z" style="fill:#888;fill-rule:nonzero" transform="matrix(.81709 0 0 .81709 124.825 145.825)"/><path d="M256 8C119.034 8 8 119.033 8 256c0 136.967 111.034 248 248 248s248-111.034 248-248S392.967 8 256 8Zm130.108 117.892c65.448 65.448 70 165.481 20.677 235.637L150.47 105.216c70.204-49.356 170.226-44.735 235.638 20.676ZM125.892 386.108c-65.448-65.448-70-165.481-20.677-235.637L361.53 406.784c-70.203 49.356-170.226 44.736-235.638-20.676Z" style="fill:#888;fill-rule:nonzero" transform="matrix(.30366 0 0 .30366 506.822 60.065)"/></svg>'));var vt=function(e,t,n,r){switch(n.globalAlpha=e.opacity/100,e.type){case"rectangle":case"diamond":case"ellipse":n.lineJoin="round",n.lineCap="round",t.draw(fn(e));break;case"arrow":case"line":n.lineJoin="round",n.lineCap="round",fn(e).forEach(function(k){t.draw(k)});break;case"freedraw":n.save(),n.fillStyle=e.strokeColor;var o=function(k){return ju.get(k)}(e),a=fn(e);a&&t.draw(a),n.fillStyle=e.strokeColor,n.fill(o),n.restore();break;case"image":var l,c=Sr(e)?(l=r.imageCache.get(e.fileId))===null||l===void 0?void 0:l.image:void 0;c==null||c instanceof Promise?function(k,_,j){_.fillStyle="#E7E7E7",_.fillRect(0,0,k.width,k.height);var M=Math.min(k.width,k.height),P=Math.min(M,Math.min(.4*M,100));_.drawImage(k.status==="error"?rr:Sa,k.width/2-P/2,k.height/2-P/2,P,P)}(e,n,r.zoom.value):n.drawImage(c,0,0,e.width,e.height);break;default:if(!St(e))throw new Error("Unimplemented type ".concat(e.type));var s=mn(e.text),f=s&&!n.canvas.isConnected;f&&document.body.appendChild(n.canvas),n.canvas.setAttribute("dir",s?"rtl":"ltr"),n.save(),n.font=dn(e),n.fillStyle=e.strokeColor,n.textAlign=e.textAlign;for(var d=e.text.replace(/\r\n?/g,`
`).split(`
`),m=e.containerId?ei(dn(e)):e.height/d.length,b=e.height-e.baseline,v=e.textAlign==="center"?e.width/2:e.textAlign==="right"?e.width:0,y=0;y<d.length;y++)n.fillText(d[y],v,(y+1)*m-b);n.restore(),f&&n.canvas.remove()}n.globalAlpha=1},lo=new WeakMap,mr=new WeakMap,fn=function(e){return mr.get(e)},gr=function(e,t){return mr.set(e,t)},Hn=function(e){return mr.delete(e)},vr=function(e){var t=arguments.length>1&&arguments[1]!==void 0&&arguments[1],n={seed:e.seed,strokeLineDash:e.strokeStyle==="dashed"?_u(e.strokeWidth):e.strokeStyle==="dotted"?O(e.strokeWidth):void 0,disableMultiStroke:e.strokeStyle!=="solid",strokeWidth:e.strokeStyle!=="solid"?e.strokeWidth+.5:e.strokeWidth,fillWeight:e.strokeWidth/2,hachureGap:4*e.strokeWidth,roughness:e.roughness,stroke:e.strokeColor,preserveVertices:t};switch(e.type){case"rectangle":case"diamond":case"ellipse":return n.fillStyle=e.fillStyle,n.fill=e.backgroundColor==="transparent"?void 0:e.backgroundColor,e.type==="ellipse"&&(n.curveFitting=1),n;case"line":case"freedraw":return Eo(e.points)&&(n.fillStyle=e.fillStyle,n.fill=e.backgroundColor==="transparent"?void 0:e.backgroundColor),n;case"arrow":return n;default:throw new Error("Unimplemented type ".concat(e.type))}},ja=function(e,t){var n=mr.get(e);if(n===void 0)switch(lo.delete(e),e.type){case"rectangle":if(e.strokeSharpness==="round"){var r=e.width,o=e.height,a=.25*Math.min(r,o);n=t.path("M ".concat(a," 0 L ").concat(r-a," 0 Q ").concat(r," 0, ").concat(r," ").concat(a," L ").concat(r," ").concat(o-a," Q ").concat(r," ").concat(o,", ").concat(r-a," ").concat(o," L ").concat(a," ").concat(o," Q 0 ").concat(o,", 0 ").concat(o-a," L 0 ").concat(a," Q 0 0, ").concat(a," 0"),vr(e,!0))}else n=t.rectangle(0,0,e.width,e.height,vr(e));gr(e,n);break;case"diamond":var l=function(ie){var K=Math.floor(ie.width/2)+1,he=ie.width,ue=Math.floor(ie.height/2)+1;return[K,0,he,ue,K,ie.height,0,ue]}(e),c=R(l,8),s=c[0],f=c[1],d=c[2],m=c[3],b=c[4],v=c[5],y=c[6],k=c[7];n=e.strokeSharpness==="round"?t.path("M ".concat(s+.25*(d-s)," ").concat(f+.25*(m-f)," L ").concat(d-.25*(d-s)," ").concat(m-.25*(m-f),`
            C `).concat(d," ").concat(m,", ").concat(d," ").concat(m,", ").concat(d-.25*(d-b)," ").concat(m+.25*(v-m),`
            L `).concat(b+.25*(d-b)," ").concat(v-.25*(v-m),`
            C `).concat(b," ").concat(v,", ").concat(b," ").concat(v,", ").concat(b-.25*(b-y)," ").concat(v-.25*(v-k),`
            L `).concat(y+.25*(b-y)," ").concat(k+.25*(v-k),`
            C `).concat(y," ").concat(k,", ").concat(y," ").concat(k,", ").concat(y+.25*(s-y)," ").concat(k-.25*(k-f),`
            L `).concat(s-.25*(s-y)," ").concat(f+.25*(k-f),`
            C `).concat(s," ").concat(f,", ").concat(s," ").concat(f,", ").concat(s+.25*(d-s)," ").concat(f+.25*(m-f)),vr(e,!0)):t.polygon([[s,f],[d,m],[b,v],[y,k]],vr(e)),gr(e,n);break;case"ellipse":n=t.ellipse(e.width/2,e.height/2,e.width,e.height,vr(e)),gr(e,n);break;case"line":case"arrow":var _=vr(e),j=e.points.length?e.points:[[0,0]];if(n=e.strokeSharpness==="sharp"?_.fill?[t.polygon(j,_)]:[t.linearPath(j,_)]:[t.curve(j,_)],e.type==="arrow"){var M=e.startArrowhead,P=M===void 0?null:M,N=e.endArrowhead,U=N===void 0?"arrow":N,V=function(ie,K,he,ue){var ce=function(be,Ne,We,ot){var jt=So(Ne[0]);if(jt.length<1)return null;var Kt=We==="start"?1:jt.length-1,wt=jt[Kt].data,tn=[wt[4],wt[5]],ur=[wt[2],wt[3]],rl=[wt[0],wt[1]],bo=jt[Kt-1],yo=[0,0];bo.op==="move"?yo=bo.data:bo.op==="bcurveTo"&&(yo=[bo.data[4],bo.data[5]]);var _r=function(Es,rf){return Math.pow(1-Es,3)*tn[rf]+3*Es*Math.pow(1-Es,2)*ur[rf]+3*Math.pow(Es,2)*(1-Es)*rl[rf]+yo[rf]*Math.pow(Es,3)},oa=R(We==="start"?yo:tn,2),to=oa[0],Wo=oa[1],$n=[_r(.3,0),_r(.3,1)],tf=$n[0],ia=$n[1],aa=Math.hypot(to-tf,Wo-ia),Zc=(to-tf)/aa,Yc=(Wo-ia)/aa,ks={arrow:30,bar:15,dot:15,triangle:15}[ot],la=0;if(ot==="arrow"){var _s=R(be.points[be.points.length-1],2),Xc=_s[0],Ag=_s[1],fm=R(be.points.length>1?be.points[be.points.length-2]:[0,0],2),Lg=fm[0],Dg=fm[1];la=Math.hypot(Xc-Lg,Ag-Dg)}else for(var nf=0;nf<be.points.length;nf++){var pm=R(be.points[nf-1]||[0,0],2),Rg=pm[0],zg=pm[1],hm=R(be.points[nf],2),Ng=hm[0],Hg=hm[1];la+=Math.hypot(Ng-Rg,Hg-zg)}var mm=Math.min(ks,la/2),Op=to-Zc*mm,Ip=Wo-Yc*mm;if(ot==="dot")return[to,Wo,Math.hypot(Ip-Wo,Op-to)+be.strokeWidth];var gm={arrow:20,bar:90,triangle:25}[ot],vm=R(gt(Op,Ip,to,Wo,-gm*Math.PI/180),2),Bg=vm[0],Fg=vm[1],bm=R(gt(Op,Ip,to,Wo,gm*Math.PI/180),2);return[to,Wo,Bg,Fg,bm[0],bm[1]]}(ie,K,he,ue);if(ce===null)return[];if(ue==="dot"){var ve=R(ce,3),pe=ve[0],J=ve[1],Ee=ve[2];return[t.circle(pe,J,Ee,Po(Po({},_),{},{fill:ie.strokeColor,fillStyle:"solid",stroke:"none"}))]}if(ue==="triangle"){var Se=R(ce,6),Oe=Se[0],ye=Se[1],ze=Se[2],it=Se[3],xt=Se[4],zt=Se[5];return delete _.strokeLineDash,[t.polygon([[Oe,ye],[ze,it],[xt,zt],[Oe,ye]],Po(Po({},_),{},{fill:ie.strokeColor,fillStyle:"solid"}))]}var dt=R(ce,6),Dt=dt[0],ut=dt[1],Ut=dt[2],en=dt[3],Kn=dt[4],cr=dt[5];if(ie.strokeStyle==="dotted"){var kr=O(ie.strokeWidth-1);_.strokeLineDash=[kr[0],kr[1]-1]}else delete _.strokeLineDash;return[t.line(Ut,en,Dt,ut,_),t.line(Kn,cr,Dt,ut,_)]};if(P!==null){var q,G=V(e,n,"start",P);(q=n).push.apply(q,fe(G))}if(U!==null){var ae,oe=V(e,n,"end",U);(ae=n).push.apply(ae,fe(oe))}}gr(e,n);break;case"freedraw":qs(e),n=Eo(e.points)?t.polygon(e.points,Po(Po({},vr(e)),{},{stroke:"none"})):null,gr(e,n);break;case"text":case"image":gr(e,null)}},Eu=function(e,t){var n=t?t.zoom:yf.zoom,r=lo.get(e),o=r&&r.canvasZoom!==n.value&&!(t!=null&&t.shouldCacheIgnoreZoom);if(!r||o||r.theme!==t.theme){var a=function(l,c,s){var f=document.createElement("canvas"),d=f.getContext("2d"),m=ni(l),b=0,v=0;if(Bt(l)||Br(l)){var y=R(pt(l),4),k=y[0],_=y[1],j=y[2],M=y[3];f.width=on(k,j)*window.devicePixelRatio*c.value+m*c.value*2,f.height=on(_,M)*window.devicePixelRatio*c.value+m*c.value*2,b=l.x>k?on(l.x,k)*window.devicePixelRatio*c.value:0,v=l.y>_?on(l.y,_)*window.devicePixelRatio*c.value:0,d.translate(b,v)}else f.width=l.width*window.devicePixelRatio*c.value+m*c.value*2,f.height=l.height*window.devicePixelRatio*c.value+m*c.value*2;d.save(),d.translate(m*c.value,m*c.value),d.scale(window.devicePixelRatio*c.value,window.devicePixelRatio*c.value);var P=Xo.canvas(f);return Di(l,s)&&(d.filter=ku),vt(l,P,d,s),d.restore(),{element:l,canvas:f,theme:s.theme,canvasZoom:c.value,canvasOffsetX:b,canvasOffsetY:v}}(e,n,t);return lo.set(e,a),a}return r},Su=function(e,t,n,r){var o=e.element,a=ni(o),l=R(pt(o),4),c=l[0],s=l[1],f=l[2],d=l[3];Br(o)&&(c=Math.floor(c),f=Math.ceil(f),s=Math.floor(s),d=Math.ceil(d));var m=((c+f)/2+r.scrollX)*window.devicePixelRatio,b=((s+d)/2+r.scrollY)*window.devicePixelRatio,v=Ea(o,r),y="scale"in e.element&&!v?e.element.scale[0]:1,k="scale"in e.element&&!v?e.element.scale[1]:1;n.save(),n.scale(1/window.devicePixelRatio*y,1/window.devicePixelRatio*k),n.translate(m*y,b*k),n.rotate(o.angle*y*k),n.drawImage(e.canvas,-(f-c)/2*window.devicePixelRatio-a*e.canvasZoom/e.canvasZoom,-(d-s)/2*window.devicePixelRatio-a*e.canvasZoom/e.canvasZoom,e.canvas.width/e.canvasZoom,e.canvas.height/e.canvasZoom),n.restore()},El=function(e,t,n,r){var o=t.generator;switch(e.type){case"selection":n.save(),n.translate(e.x+r.scrollX,e.y+r.scrollY),n.fillStyle="rgba(0, 0, 255, 0.10)",n.fillRect(0,0,e.width,e.height),n.restore();break;case"freedraw":if(ja(e,o),r.isExporting){var a=Eu(e,r);Su(a,0,n,r)}else{var l=R(pt(e),4),c=l[0],s=l[1],f=l[2],d=l[3],m=(c+f)/2+r.scrollX,b=(s+d)/2+r.scrollY,v=(f-c)/2-(e.x-c),y=(d-s)/2-(e.y-s);n.save(),n.translate(m,b),n.rotate(e.angle),n.translate(-v,-y),vt(e,t,n,r),n.restore()}break;case"rectangle":case"diamond":case"ellipse":case"line":case"arrow":case"image":case"text":if(ja(e,o),r.isExporting){var k=R(pt(e),4),_=k[0],j=k[1],M=k[2],P=k[3],N=(_+M)/2+r.scrollX,U=(j+P)/2+r.scrollY,V=(M-_)/2-(e.x-_),q=(P-j)/2-(e.y-j);n.save(),n.translate(N,U),n.rotate(e.angle),n.translate(-V,-q),Di(e,r)&&(n.filter="none"),vt(e,t,n,r),n.restore()}else{var G=Eu(e,r);Su(G,0,n,r)}break;default:throw new Error("Unimplemented type ".concat(e.type))}},ri=function(e,t,n){if(n===void 0)return e.draw(t);var r={sets:t.sets,shape:t.shape,options:Po(Po({},t.options),{},{fixedDecimalPlaceDigits:n})};return e.draw(r)},Sl=function(e,t,n,r,o,a,l){var c=R(pt(e),4),s=c[0],f=c[1],d=c[2],m=c[3],b=(d-s)/2-(e.x-s),v=(m-f)/2-(e.y-f),y=180*e.angle/Math.PI,k=t.generator;switch(e.type){case"selection":throw new Error("Selection rendering is not supported for SVG");case"rectangle":case"diamond":case"ellipse":ja(e,k);var _=ri(t,fn(e),C.zK),j=e.opacity/100;j!==1&&(_.setAttribute("stroke-opacity","".concat(j)),_.setAttribute("fill-opacity","".concat(j))),_.setAttribute("stroke-linecap","round"),_.setAttribute("transform","translate(".concat(o||0," ").concat(a||0,") rotate(").concat(y," ").concat(b," ").concat(v,")")),n.appendChild(_);break;case"line":case"arrow":ja(e,k);var M=n.ownerDocument.createElementNS(C.hR,"g"),P=e.opacity/100;M.setAttribute("stroke-linecap","round"),fn(e).forEach(function(ze){var it=ri(t,ze,C.zK);P!==1&&(it.setAttribute("stroke-opacity","".concat(P)),it.setAttribute("fill-opacity","".concat(P))),it.setAttribute("transform","translate(".concat(o||0," ").concat(a||0,") rotate(").concat(y," ").concat(b," ").concat(v,")")),e.type==="line"&&Eo(e.points)&&e.backgroundColor!=="transparent"&&it.setAttribute("fill-rule","evenodd"),M.appendChild(it)}),n.appendChild(M);break;case"freedraw":qs(e);var N=e.opacity/100,U=fn(e),V=U?ri(t,U,C.zK):n.ownerDocument.createElementNS(C.hR,"g");N!==1&&(V.setAttribute("stroke-opacity","".concat(N)),V.setAttribute("fill-opacity","".concat(N))),V.setAttribute("transform","translate(".concat(o||0," ").concat(a||0,") rotate(").concat(y," ").concat(b," ").concat(v,")")),V.setAttribute("stroke","none");var q=n.ownerDocument.createElementNS(C.hR,"path");q.setAttribute("fill",e.strokeColor),q.setAttribute("d",Tr(e)),V.appendChild(q),n.appendChild(V);break;case"image":var G=Sr(e)&&r[e.fileId];if(G){var ae="image-".concat(G.id),oe=n.querySelector("#".concat(ae));if(!oe){(oe=n.ownerDocument.createElementNS(C.hR,"symbol")).id=ae;var ie=n.ownerDocument.createElementNS(C.hR,"image");ie.setAttribute("width","100%"),ie.setAttribute("height","100%"),ie.setAttribute("href",G.dataURL),oe.appendChild(ie),n.prepend(oe)}var K=n.ownerDocument.createElementNS(C.hR,"use");K.setAttribute("href","#".concat(ae)),l&&G.mimeType!==C.LO.svg&&K.setAttribute("filter",ku),K.setAttribute("width","".concat(Math.round(e.width))),K.setAttribute("height","".concat(Math.round(e.height))),K.setAttribute("transform","translate(".concat(o||0," ").concat(a||0,") rotate(").concat(y," ").concat(b," ").concat(v,")")),n.appendChild(K)}break;default:if(!St(e))throw new Error("Unimplemented type ".concat(e.type));var he=e.opacity/100,ue=n.ownerDocument.createElementNS(C.hR,"g");he!==1&&(ue.setAttribute("stroke-opacity","".concat(he)),ue.setAttribute("fill-opacity","".concat(he))),ue.setAttribute("transform","translate(".concat(o||0," ").concat(a||0,") rotate(").concat(y," ").concat(b," ").concat(v,")"));for(var ce=e.text.replace(/\r\n?/g,`
`).split(`
`),ve=e.height/ce.length,pe=e.height-e.baseline,J=e.textAlign==="center"?e.width/2:e.textAlign==="right"?e.width:0,Ee=mn(e.text)?"rtl":"ltr",Se=e.textAlign==="center"?"middle":e.textAlign==="right"||Ee==="rtl"?"end":"start",Oe=0;Oe<ce.length;Oe++){var ye=n.ownerDocument.createElementNS(C.hR,"text");ye.textContent=ce[Oe],ye.setAttribute("x","".concat(J)),ye.setAttribute("y","".concat((Oe+1)*ve-pe)),ye.setAttribute("font-family",jr(e)),ye.setAttribute("font-size","".concat(e.fontSize,"px")),ye.setAttribute("fill",e.strokeColor),ye.setAttribute("text-anchor",Se),ye.setAttribute("style","white-space: pre;"),ye.setAttribute("direction",Ee),ue.appendChild(ye)}n.appendChild(ue)}},ju=new WeakMap([]);function qs(e){var t=Tr(e),n=new Path2D(t);return ju.set(e,n),n}function Tr(e){var t=e.simulatePressure?e.points:e.points.length?e.points.map(function(r,o){var a=R(r,2);return[a[0],a[1],e.pressures[o]]}):[[0,0,.5]],n={simulatePressure:e.simulatePressure,size:4.25*e.strokeWidth,thinning:.6,smoothing:.5,streamline:.5,easing:function(r){return Math.sin(r*Math.PI/2)},last:!!e.lastCommittedPoint};return function(r){if(!r.length)return"";var o=r.length-1;return r.reduce(function(a,l,c,s){return c===o?a.push(l,jl(l,s[0]),"L",s[0],"Z"):a.push(l,jl(l,s[c+1])),a},["M",r[0],"Q"]).join(" ").replace(oi,"$1")}(wl(t,n))}function jl(e,t){return[(e[0]+t[0])/2,(e[1]+t[1])/2]}var oi=/(\s?[A-Z]?,?-?[0-9]*\.[0-9]{0,2})(([0-9]|e|-)*)/g,br=new At(Date.now()),Cu=0,ii=function(){return Math.floor(br.next()*Math.pow(2,31))},Bn=function(){return Fr()?"id".concat(Cu++):ko()};function so(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Ri(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?so(Object(n),!0).forEach(function(r){F(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):so(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var je=function(e,t){var n,r=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],o=!1,a=t,l=a.points,c=a.fileId;for(var s in l!==void 0&&(t=Ri(Ri({},cu(l)),t)),t){var f=t[s];if(f!==void 0){if(e[s]===f&&(Wt(f)!=="object"||f===null||s==="groupIds"||s==="scale"))continue;if(s==="scale"){var d=e[s],m=f;if(d[0]===m[0]&&d[1]===m[1])continue}else if(s==="points"){var b=e[s],v=f;if(b.length===v.length){for(var y=!1,k=b.length;--k;){var _=b[k],j=v[k];if(_[0]!==j[0]||_[1]!==j[1]){y=!0;break}}if(!y)continue}}e[s]=f,o=!0}}return o&&(t.height===void 0&&t.width===void 0&&c===void 0&&l===void 0||Hn(e),e.version++,e.versionNonce=ii(),e.updated=io(),r&&((n=Vt.getScene(e))===null||n===void 0||n.informMutation())),e},It=function(e,t){var n=!1;for(var r in t){var o=t[r];if(o!==void 0){if(e[r]===o&&(Wt(o)!=="object"||o===null))continue;n=!0}}return n?Ri(Ri(Ri({},e),t),{},{updated:io(),version:e.version+1,versionNonce:ii()}):e},Ca=function(e,t){return e.version=(t!=null?t:e.version)+1,e.versionNonce=ii(),e.updated=io(),e},qt=function(e){return Bt(e)||Br(e)?e.points.length<2:e.width===0&&e.height===0},Oa=function(e,t,n){var r=Math.abs(t),o=Math.abs(n);if(e==="line"||e==="arrow"||e==="freedraw"){var a=Math.round(Math.atan(o/r)/C.ay)*C.ay;a===0?n=0:a===Math.PI/2?t=0:n=Math.round(r*Math.tan(a))*Math.sign(n)||n}else e!=="selection"&&(n=r*Math.sign(n));return{width:t,height:n}},$s=function(e){var t={width:e.width,height:e.height,x:e.x,y:e.y};if(e.width<0){var n=Math.abs(e.width);t.width=n,t.x=e.x-n}if(e.height<0){var r=Math.abs(e.height);t.height=r,t.y=e.y-r}return t};function Yn(e,t){if(e==null)return{};var n,r,o=function(l,c){if(l==null)return{};var s,f,d={},m=Object.keys(l);for(f=0;f<m.length;f++)s=m[f],c.indexOf(s)>=0||(d[s]=l[s]);return d}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Qs(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(s,f){if(!!s){if(typeof s=="string")return Ia(s,f);var d=Object.prototype.toString.call(s).slice(8,-1);if(d==="Object"&&s.constructor&&(d=s.constructor.name),d==="Map"||d==="Set")return Array.from(s);if(d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return Ia(s,f)}}(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(s){throw s},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,l=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var s=n.next();return l=s.done,s},e:function(s){c=!0,a=s},f:function(){try{l||n.return==null||n.return()}finally{if(c)throw a}}}}function Ia(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ao(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function jn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ao(Object(n),!0).forEach(function(r){F(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ao(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Mn=function(e,t,n){var r=n.filter(function(o){return o.groupIds.includes(e)});return r.length<2?t.selectedGroupIds[e]||t.editingGroupId===e?jn(jn({},t),{},{selectedGroupIds:jn(jn({},t.selectedGroupIds),{},F({},e,!1)),editingGroupId:null}):t:jn(jn({},t),{},{selectedGroupIds:jn(jn({},t.selectedGroupIds),{},F({},e,!0)),selectedElementIds:jn(jn({},t.selectedElementIds),Object.fromEntries(r.map(function(o){return[o.id,!0]})))})},Ta=function(e,t){return Ou(e,t)!=null},Ou=function(e,t){return t.groupIds.filter(function(n){return n!==e.editingGroupId}).find(function(n){return e.selectedGroupIds[n]})},zi=function(e){return Object.entries(e.selectedGroupIds).filter(function(t){var n=R(t,2);return n[0],n[1]}).map(function(t){var n=R(t,2),r=n[0];return n[1],r})},yr=function(e,t){var n=jn(jn({},e),{},{selectedGroupIds:{}}),r=ge(t,e);if(!r.length)return jn(jn({},n),{},{editingGroupId:null});var o,a=Qs(r);try{for(a.s();!(o=a.n()).done;){var l=o.value.groupIds;if(e.editingGroupId){var c=l.indexOf(e.editingGroupId);c>-1&&(l=l.slice(0,c))}if(l.length>0){var s=l[l.length-1];n=Mn(s,n,t)}}}catch(f){a.e(f)}finally{a.f()}return n},co=function(e,t){return e.groupIds.includes(t)},Wr=function(e,t){return e.filter(function(n){return co(n,t)})},Ma=function(e,t,n){var r=fe(e),o=n?r.indexOf(n):-1,a=o>-1?o:r.length;return r.splice(a,0,t),r},Cl=function(e){var t=new Map;return e.forEach(function(n){var r=n.groupIds.length===0?n.id:n.groupIds[n.groupIds.length-1],o=t.get(r)||[],a=nr(n);if(a){var l=Vt.getScene(n).getElement(a);o.push(l)}t.set(r,[].concat(fe(o),[n]))}),Array.from(t.values())},Iu=["x","y","strokeColor","backgroundColor","fillStyle","strokeWidth","strokeStyle","roughness","opacity","width","height","angle","groupIds","strokeSharpness","boundElements","link"];function Js(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Mr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Js(Object(n),!0).forEach(function(r){F(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Js(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Pa=function(e,t){var n,r,o=t.x,a=t.y,l=t.strokeColor,c=t.backgroundColor,s=t.fillStyle,f=t.strokeWidth,d=t.strokeStyle,m=t.roughness,b=t.opacity,v=t.width,y=v===void 0?0:v,k=t.height,_=k===void 0?0:k,j=t.angle,M=j===void 0?0:j,P=t.groupIds,N=P===void 0?[]:P,U=t.strokeSharpness,V=t.boundElements,q=V===void 0?null:V,G=t.link,ae=G===void 0?null:G,oe=Yn(t,Iu);return{id:oe.id||Bn(),type:e,x:o,y:a,width:y,height:_,angle:M,strokeColor:l,backgroundColor:c,fillStyle:s,strokeWidth:f,strokeStyle:d,roughness:m,opacity:b,groupIds:N,strokeSharpness:U,seed:(n=oe.seed)!==null&&n!==void 0?n:ii(),version:oe.version||1,versionNonce:(r=oe.versionNonce)!==null&&r!==void 0?r:0,isDeleted:!1,boundElements:q,updated:io(),link:ae}},Ni=function(e){return Pa(e.type,e)},ec=function(e,t){return{x:e.textAlign==="center"?t.width/2:e.textAlign==="right"?t.width:0,y:e.verticalAlign==="middle"?t.height/2:0}},ai=function(e){var t=ao(e.text,dn(e)),n=ec(e,t);return It(Mr(Mr({},Pa("text",e)),{},{text:e.text,fontSize:e.fontSize,fontFamily:e.fontFamily,textAlign:e.textAlign,verticalAlign:e.verticalAlign,x:e.x-n.x,y:e.y-n.y,width:t.width,height:t.height,baseline:t.baseline,containerId:e.containerId||null,originalText:e.text}),{})},Tu=function(e,t){var n=t.text,r=t.isDeleted,o=t.originalText,a=Kr(e);a&&(n=Ai(n,dn(e),a.width));var l=function(c,s){var f=null,d=Kr(c);d&&(f=d.width-2*C.gK);var m,b,v=ao(s,dn(c),f),y=v.width,k=v.height,_=v.baseline,j=c.textAlign,M=c.verticalAlign;if(j!=="center"||M!=="middle"||c.containerId){var P=R(pt(c),4),N=P[0],U=P[1],V=P[2],q=P[3],G=R(qo(c,y,k),4),ae=(N-G[0])/2,oe=(U-G[1])/2,ie=(V-G[2])/2,K=(q-G[3])/2,he=R(Ps({s:!0,e:j==="center"||j==="left",w:j==="center"||j==="right"},c.x,c.y,c.angle,ae,oe,ie,K),2);m=he[0],b=he[1]}else{var ue=ao(c.text,dn(c),f),ce=ec(c,{width:y-ue.width,height:k-ue.height});m=c.x-ce.x,b=c.y-ce.y}if(dr(c)){var ve=Kr(c),pe=ve.height,J=ve.width;k>pe-2*C.gK&&(pe=k+2*C.gK),y>J-2*C.gK&&(J=y+2*C.gK),pe===ve.height&&J===ve.width||je(ve,{height:pe,width:J})}return{width:y,height:k,x:Number.isFinite(m)?m:c.x,y:Number.isFinite(b)?b:c.y,baseline:_}}(e,n);return It(e,Mr({text:n,originalText:o,isDeleted:r!=null?r:e.isDeleted},l))},uo=function(e){return Mr(Mr({},Pa(e.type,e)),{},{points:e.points||[],lastCommittedPoint:null,startBinding:null,endBinding:null,startArrowhead:e.startArrowhead,endArrowhead:e.endArrowhead})},Aa=function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(t==null||Wt(t)!=="object")return t;if(Object.prototype.toString.call(t)==="[object Object]"){var r=typeof t.constructor=="function"?Object.create(Object.getPrototypeOf(t)):{};for(var o in t)if(t.hasOwnProperty(o)){if(n===0&&(o==="shape"||o==="canvas"))continue;r[o]=e(t[o],n+1)}return r}if(Array.isArray(t)){for(var a=t.length,l=new Array(a);a--;)l[a]=e(t[a],n+1);return l}return t},Ol=function(e,t,n,r){var o,a,l=Aa(n);return Fr()?(l.id="".concat(l.id,"_copy"),(o=window.h)!==null&&o!==void 0&&(a=o.app)!==null&&a!==void 0&&a.getSceneElementsIncludingDeleted().find(function(c){return c.id===l.id})&&(l.id+="_copy")):l.id=Bn(),l.updated=io(),l.seed=ii(),l.groupIds=function(c,s,f){for(var d=fe(c),m=s?c.indexOf(s):-1,b=m>-1?m:c.length,v=0;v<b;v++)d[v]=f(d[v]);return d}(l.groupIds,e,function(c){return t.has(c)||t.set(c,Bn()),t.get(c)}),r&&(l=Object.assign(l,r)),l},tc={mouse:8,pen:16,touch:28},Il={e:!0,s:!0,n:!0,w:!0},Mu={e:!0,s:!0,n:!0,w:!0},Tl={e:!0,s:!0,n:!0,w:!0,nw:!0,se:!0},La={e:!0,s:!0,n:!0,w:!0,ne:!0,sw:!0},rt=function(e,t,n,r,o,a,l){var c=R(gt(e+n/2,t+r/2,o,a,l),2);return[c[0]-n/2,c[1]-r/2,n,r]},nc=function(e,t,n,r){var o=R(e,4),a=o[0],l=o[1],c=o[2],s=o[3],f=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{},d=tc[r],m=d/n.value,b=d/n.value,v=d/n.value,y=d/n.value,k=c-a,_=s-l,j=(a+c)/2,M=(l+s)/2,P=4/n.value,N=(d-8)/(2*n.value),U={nw:f.nw?void 0:rt(a-P-v+N,l-P-y+N,m,b,j,M,t),ne:f.ne?void 0:rt(c+P-N,l-P-y+N,m,b,j,M,t),sw:f.sw?void 0:rt(a-P-v+N,s+P-N,m,b,j,M,t),se:f.se?void 0:rt(c+P-N,s+P-N,m,b,j,M,t),rotation:f.rotation?void 0:rt(a+k/2-m/2,l-P-y+N-16/n.value,m,b,j,M,t)},V=5*tc.mouse/n.value;return Math.abs(k)>V&&(f.n||(U.n=rt(a+k/2-m/2,l-P-y+N,m,b,j,M,t)),f.s||(U.s=rt(a+k/2-m/2,s+P-N,m,b,j,M,t))),Math.abs(_)>V&&(f.w||(U.w=rt(a-P-v+N,l+_/2-b/2,m,b,j,M,t)),f.e||(U.e=rt(c+P-N,l+_/2-b/2,m,b,j,M,t))),U},rc=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"mouse",r={};if(e.type==="arrow"||e.type==="line"||e.type==="freedraw"){if(e.points.length===2){var o=R(e.points,2),a=o[1];a[0]===0||a[1]===0?r=La:a[0]>0&&a[1]<0?r=Tl:a[0]>0&&a[1]>0?r=La:a[0]<0&&a[1]>0?r=Tl:a[0]<0&&a[1]<0&&(r=La)}}else St(e)&&(r=Mu);return nc(pt(e),e.angle,t,n,r)},yn=function(e,t){return[0,0,0,0,t,e,1,0]},Lo=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=[0,0,0,0,0,0,0,0];if(t<0||t>7)throw new Error("Expected `index` betwen 0 and 7, got `".concat(t,"`"));return e!==0&&(n[t]=e),n},Ml=function(e){return[e[0],e[1],e[2],e[3],-e[4],-e[5],-e[6],-e[7]]},Pu=function(e,t){return Vr(t)?[e[0]-t,e[1],e[2],e[3],e[4],e[5],e[6],e[7]]:[e[0]-t[0],e[1]-t[1],e[2]-t[2],e[3]-t[3],e[4]-t[4],e[5]-t[5],e[6]-t[6],e[7]-t[7]]},Cn=function(e,t){return Vr(t)?[e[0]*t,e[1]*t,e[2]*t,e[3]*t,e[4]*t,e[5]*t,e[6]*t,e[7]*t]:[xf(e,t),t[1]*e[0]+t[0]*e[1]-t[4]*e[2]+t[5]*e[3]+t[2]*e[4]-t[3]*e[5]-t[7]*e[6]-t[6]*e[7],t[2]*e[0]+t[0]*e[2]-t[6]*e[3]+t[3]*e[6],t[3]*e[0]+t[6]*e[2]+t[0]*e[3]-t[2]*e[6],t[4]*e[0]+t[2]*e[1]-t[1]*e[2]+t[7]*e[3]+t[0]*e[4]+t[6]*e[5]-t[5]*e[6]+t[3]*e[7],t[5]*e[0]-t[3]*e[1]+t[7]*e[2]+t[1]*e[3]-t[6]*e[4]+t[0]*e[5]+t[4]*e[6]+t[2]*e[7],t[6]*e[0]+t[3]*e[2]-t[2]*e[3]+t[0]*e[6],t[7]*e[0]+t[6]*e[1]+t[5]*e[2]+t[4]*e[3]+t[3]*e[4]+t[2]*e[5]+t[1]*e[6]+t[0]*e[7]]},xf=function(e,t){return t[0]*e[0]+t[2]*e[2]+t[3]*e[3]-t[6]*e[6]},Da=function(e,t){return[Pl(e,t),e[1]*t[7]+e[4]*t[5]-e[5]*t[4]+e[7]*t[1],e[2]*t[7]-e[4]*t[6]+e[6]*t[4]+e[7]*t[2],e[3]*t[7]+e[5]*t[6]-e[6]*t[5]+e[7]*t[3],e[4]*t[7]+e[7]*t[4],e[5]*t[7]+e[7]*t[5],e[6]*t[7]+e[7]*t[6],e[7]*t[7]]},Pl=function(e,t){return e[0]*t[7]+e[1]*t[6]+e[2]*t[5]+e[3]*t[4]+e[4]*t[3]+e[5]*t[2]+e[6]*t[1]+e[7]*t[0]},oc=function(e){return Math.sqrt(Math.abs(e[0]*e[0]-e[2]*e[2]-e[3]*e[3]+e[6]*e[6]))},Ra=function(e){var t=oc(e);if(t===0||t===1)return e;var n=e[6]<0?-1:1;return Cn(e,n/t)},or=function(e){var t=function(n){return Math.sqrt(Math.abs(n[7]*n[7]-n[5]*n[5]-n[4]*n[4]+n[1]*n[1]))}(e);return t===0||t===1?e:Cn(e,1/t)},Vr=function(e){return typeof e=="number"},li=(Lo(1,1),Lo(1,2),Lo(1,3),Lo(1,4),Lo(1,5),Lo(1,6),Lo(1,7),function(e,t,n){return Ra([0,n,e,t,0,0,0,0])}),Hi=function(e,t){return Ra(Da(t,e))},Al=function(e,t){return function(n,r){return[r[0]*n[0]+r[2]*n[2]+r[3]*n[3]-r[6]*n[6],r[1]*n[0]+r[0]*n[1]-r[4]*n[2]+r[5]*n[3]+r[2]*n[4]-r[3]*n[5]-r[7]*n[6]-r[6]*n[7],r[2]*n[0]+r[0]*n[2]-r[6]*n[3]+r[3]*n[6],r[3]*n[0]+r[6]*n[2]+r[0]*n[3]-r[2]*n[6],r[4]*n[0]+r[7]*n[3]+r[0]*n[4]+r[3]*n[7],r[5]*n[0]+r[7]*n[2]+r[0]*n[5]+r[2]*n[7],r[6]*n[0]+r[0]*n[6],r[7]*n[0]+r[0]*n[7]]}(e,t)},si=function(e){var t=R(e,2),n=t[0];return[0,0,0,0,t[1],n,1,0]},fo=function(e){return[e[5],e[4]]},Au=function(e,t){return Ra(function(n,r){return[r[0]*n[0],r[1]*n[0]+r[0]*n[1],r[2]*n[0]+r[0]*n[2],r[3]*n[0]+r[0]*n[3],r[4]*n[0]+r[2]*n[1]-r[1]*n[2]+r[0]*n[4],r[5]*n[0]-r[3]*n[1]+r[1]*n[3]+r[0]*n[5],r[6]*n[0]+r[3]*n[2]-r[2]*n[3]+r[0]*n[6],r[7]*n[0]+r[6]*n[1]+r[5]*n[2]+r[4]*n[3]+r[3]*n[4]+r[2]*n[5]+r[1]*n[6]]}(e,t))},Ll=function(e,t){return oc(Da(e,t))},Pr=function(e,t){return Pl(e,t)},po=function(e){return[0,0,0,0,e[4],e[5],0,0]},Lu=function(e,t){return function(n,r){return Vr(r)?[n[0]+r,n[1],n[2],n[3],n[4],n[5],n[6],n[7]]:[n[0]+r[0],n[1]+r[1],n[2]+r[2],n[3]+r[3],n[4]+r[4],n[5]+r[5],n[6]+r[6],n[7]+r[7]]}(Cn(e,Math.sin(t/2)),Math.cos(t/2))},On=function(e,t){return Ra(Cn(Cn(e,t),Ml(e)))};function Du(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(s,f){if(!!s){if(typeof s=="string")return ic(s,f);var d=Object.prototype.toString.call(s).slice(8,-1);if(d==="Object"&&s.constructor&&(d=s.constructor.name),d==="Map"||d==="Set")return Array.from(s);if(d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return ic(s,f)}}(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(s){throw s},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,l=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var s=n.next();return l=s.done,s},e:function(s){c=!0,a=s},f:function(){try{l||n.return==null||n.return()}finally{if(c)throw a}}}}function ic(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ac=function(e,t,n,r){var o=10/t.zoom.value,a=[n,r];return Ru(t,e)?Na(e,a,o):za(e,t,a)},lc=function(e,t,n,r){var o=10/t.zoom.value;return!za(e,t,[n,r])&&Na(e,[n,r],o)},za=function(e,t,n){var r=10/t.zoom.value,o=St(e)?zu:function(a){if(a.type==="arrow")return!1;if(a.type==="freedraw")return!0;var l=!Qo(a.backgroundColor)||pl(a);return a.type==="line"?l&&Eo(a.points):l||_i(a)}(e)?Ba:Nu;return Ha({element:e,point:n,threshold:r,check:o})},Ru=function(e,t){return e.selectedElementIds[t.id]},Na=function(e,t,n){var r=R(t,2),o=r[0],a=r[1],l=R(pt(e),4),c=l[0],s=l[1],f=l[2],d=l[3],m=R(gt(o,a,(c+f)/2,(s+d)/2,-e.angle),2),b=m[0],v=m[1];return b>c-n&&b<f+n&&v>s-n&&v<d+n},Fn=function(e,t){var n=t.x,r=t.y,o=ir(e,e.width,e.height);return Ha({element:e,point:[n,r],threshold:o,check:Bi})},ir=function(e,t,n){var r=(e.type==="diamond"?1/Math.sqrt(2):1)*Math.min(t,n);return Math.max(16,Math.min(.25*r,32))},Ha=function(e){switch(e.element.type){case"rectangle":case"image":case"text":case"diamond":case"ellipse":var t=ci(e.element,e.point);return e.check(t,e.threshold);case"freedraw":return!!e.check(Fi(e.element,e.point),e.threshold)&&Fu(e.element,e.point,e.threshold);case"arrow":case"line":return Rl(e);case"selection":return console.warn("This should not happen, we need to investigate why it does."),!1}},ci=function(e,t){switch(e.type){case"rectangle":case"image":case"text":return Fi(e,t);case"diamond":return Hu(e,t);case"ellipse":return Bu(e,t)}},zu=function(e,t){return e<0},Ba=function(e,t){return e<t},Nu=function(e,t){return Math.abs(e)<t},Bi=function(e,t){return 0<=e&&e<t},Fi=function(e,t){var n=R(Ui(e,t),4),r=n[1],o=n[2],a=n[3];return Math.max(Pr(r,li(0,1,-a)),Pr(r,li(1,0,-o)))},Hu=function(e,t){var n=R(Ui(e,t),4),r=n[1],o=n[2],a=n[3],l=li(a,o,-a*o);return Pr(r,l)},Bu=function(e,t){var n=R(Dl(e,t),2),r=n[0],o=n[1];return-function(a){return Math.sign(a[1])}(o)*Pr(r,o)},Dl=function(e,t){var n=R(Ui(e,t),4),r=n[1],o=n[2],a=n[3],l=R(fo(r),2),c=l[0],s=l[1],f=.707,d=.707,m=o,b=a;[0,1,2,3].forEach(function(k){var _=m*f,j=b*d,M=(m*m-b*b)*Math.pow(f,3)/m,P=(b*b-m*m)*Math.pow(d,3)/b,N=_-M,U=j-P,V=c-M,q=s-P,G=Math.hypot(U,N),ae=Math.hypot(q,V);f=Math.min(1,Math.max(0,(V*G/ae+M)/m)),d=Math.min(1,Math.max(0,(q*G/ae+P)/b));var oe=Math.hypot(d,f);f/=oe,d/=oe});var v,y=yn(m*f,b*d);return[r,Al(Hi(r,v=y),v)]},Fu=function(e,t,n){var r,o;if(e.angle===0)r=t[0]-e.x,o=t[1]-e.y;else{var a=R(pt(e),4),l=a[0],c=a[1],s=a[2],f=a[3],d=ha(t,[l+(s-l)/2,c+(f-c)/2],-e.angle);r=d[0]-e.x,o=d[1]-e.y}var m,b=R(e.points,2),v=b[0],y=b[1];if(fr(v[0],v[1],r,o)<n||fr(y[0],y[1],r,o)<n)return!0;for(var k=0;k<e.points.length;k++){var _=[y[0]-v[0],y[1]-v[1]],j=Math.hypot(_[1],_[0]),M=[_[0]/j,_[1]/j],P=[r-v[0],o-v[1]],N=(P[0]*M[0]+P[1]*M[1])/Math.hypot(M[1],M[0]);m=[v[0]+M[0]*N,v[1]+M[1]*N];var U=fr(m[0],m[1],v[0],v[1]),V=fr(m[0],m[1],y[0],y[1]);if(m=V<U&&U>j?y:U<V&&V>j?v:m,Math.hypot(o-m[1],r-m[0])<n)return!0;v=y,y=e.points[k+1]}var q=fn(e);return!(!q||!q.sets.length)&&Gr(q,r,o,n)},Rl=function(e){var t=e.element,n=e.threshold;if(!fn(t))return!1;var r=R(Ui(e.element,e.point),4),o=r[0],a=r[1],l=r[2],c=r[3],s=li(0,1,-c),f=li(1,0,-l);if(!Ba(Pr(a,s),n)||!Ba(Pr(a,f),n))return!1;var d=R(fo(o),2),m=d[0],b=d[1],v=fn(t);return v?e.check===Ba&&v.some(function(y){return sc(y,m,b,t.strokeSharpness)})?!0:v.some(function(y){return Gr(y,m,b,n)}):!1},Ui=function(e,t){var n=si(t),r=pt(e),o=zl(r),a=Lu(o,e.angle),l=On(a,n),c=function(v){return[0,0,0,0,Math.abs(v[4]),Math.abs(v[5]),1,0]}(Pu(l,po(o))),s=function(v,y){return[0,0,0,0,y,v,0,0]}(e.x,e.y),f=Pu(l,s),d=R(r,4),m=d[0],b=d[1];return[f,c,(d[2]-m)/2,(d[3]-b)/2]},Ki=function(e){var t=pt(e),n=zl(t),r=Lu(n,e.angle),o=Ml(function(a){return[1,0,0,0,-.5*a[5],.5*a[4],0,0]}(po(n)));return Cn(o,r)},zl=function(e){var t=R(e,4),n=t[0],r=t[1],o=t[2],a=t[3];return yn((n+o)/2,(r+a)/2)},Nl=function(e,t,n){var r=Ki(e),o=On(r,si(t)),a=On(r,si(n)),l=Hi(o,a),c=e.height/e.width,s=e.width/2,f=e.height/2,d=l[2],m=l[3],b=l[1],v=Math.abs(m),y=Math.abs(d);switch(e.type){case"rectangle":case"image":case"text":return b/(s*(y+c*v));case"diamond":return v<y?b/(y*s):b/(v*f);case"ellipse":return b/(s*Math.sqrt(Math.pow(d,2)+Math.pow(c,2)*Math.pow(m,2)))}},Uu=function(e,t,n){var r,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;switch(e.type){case"rectangle":case"image":case"text":case"diamond":var a=Hl(e);r=a.flatMap(function(c,s){var f=[c,a[(s+1)%4]];return wf(t,Ku(f,o))}).concat(a.flatMap(function(c){return Wu(c,o,t)}));break;case"ellipse":r=ho(e,o,t)}if(r.length<2)return[];var l=r.sort(function(c,s){return Ll(c,n)-Ll(s,n)});return[l[0],l[l.length-1]]},Hl=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,n=t*e.width/2,r=t*e.height/2;switch(e.type){case"rectangle":case"image":case"text":return[yn(n,r),yn(n,-r),yn(-n,-r),yn(-n,r)];case"diamond":return[yn(0,r),yn(n,0),yn(0,-r),yn(-n,0)]}},wf=function(e,t){var n=R(t,2),r=n[0],o=n[1];return Pr(r,e)*Pr(o,e)>=0?[]:[Au(e,Hi(r,o))]},Ku=function(e,t){var n=R(e,2),r=n[0],o=n[1],a=function(l,c){var s=.5*c;return[1,0,0,0,s*l[4],s*l[5],0,0]}(function(l,c){return or([0,0,0,0,c[4]-l[4],c[5]-l[5],0,0])}(r,o),t);return[On(a,r),On(a,o)]},ho=function(e,t,n){var r=e.width/2+t,o=e.height/2+t,a=n[2],l=n[3],c=n[1],s=r*r*a*a+o*o*l*l,f=s-c*c;if(s===0||f<=0)return[];var d=Math.sqrt(f),m=-r*r*a*c,b=-o*o*l*c;return[yn((m+r*o*l*d)/s,(b-r*o*a*d)/s),yn((m-r*o*l*d)/s,(b+r*o*a*d)/s)]},Wu=function(e,t,n){if(t===0)return Pr(n,e)===0?[e]:[];var r=n[2],o=n[3],a=n[1],l=R(fo(e),2),c=l[0],s=l[1],f=r*r+o*o,d=t*t*f-Math.pow(r*c+o*s+a,2);if(f===0||d<=0)return[];var m=Math.sqrt(d),b=c*o*o-s*r*o-r*a,v=s*r*r-c*r*o-o*a;return[yn((b+o*m)/f,(v-r*m)/f),yn((b-o*m)/f,(v+r*m)/f)]},Vu=function(e,t,n){var r=Math.abs(t),o=e.width*r/2,a=e.height*r/2,l=Math.sign(t),c=R(fo(n),2),s=c[0],f=c[1],d=f===0?1e-4:f,m=Math.pow(s,2)*Math.pow(a,2)+Math.pow(d,2)*Math.pow(o,2),b=(-s*Math.pow(a,2)+l*d*Math.sqrt(Math.max(0,m-Math.pow(o,2)*Math.pow(a,2))))/m,v=(-b*s-1)/d,y=-Math.pow(o,2)*b/(Math.pow(v,2)*Math.pow(a,2)+Math.pow(b,2)*Math.pow(o,2));return yn(y,(-b*y-1)/v)},kf=function(e,t,n){var r=Math.abs(t),o=Math.sign(t),a=Hl(e,r),l=0,c=null;return a.forEach(function(s){var f=o*Hi(n,s)[1];f>l&&(l=f,c=s)}),c},sc=function(e,t,n,r){var o,a=[],l=!1,c=Du(So(e));try{for(c.s();!(o=c.n()).done;){var s=o.value;s.op==="move"?(l=!l)&&a.push([s.data[0],s.data[1]]):s.op==="bcurveTo"?l&&(a.push([s.data[0],s.data[1]]),a.push([s.data[2],s.data[3]]),a.push([s.data[4],s.data[5]])):s.op==="lineTo"&&l&&a.push([s.data[0],s.data[1]])}}catch(d){c.e(d)}finally{c.f()}if(a.length>=4){if(r==="sharp")return Ft(a,t,n);var f=ki(a,10,5);return Ft(f,t,n)}return!1},Gr=function(e,t,n,r){var o=So(e),a=[0,0];return o.some(function(l,c){var s=l.op,f=l.data;if(s==="move")a=f;else{if(s==="bcurveTo"){var d=[f[0],f[1]],m=[f[2],f[3]],b=[f[4],f[5]],v=a;a=b;var y=function(k,_,j,M,P,N){for(var U=R(P,2),V=U[0],q=U[1],G=function(K,he){return Math.pow(1-K,3)*M[he]+3*K*Math.pow(1-K,2)*j[he]+3*Math.pow(K,2)*(1-K)*_[he]+k[he]*Math.pow(K,3)},ae=0;ae<=1;){var oe=G(ae,0),ie=G(ae,1);if(Math.sqrt(Math.pow(oe-V,2)+Math.pow(ie-q,2))<N)return!0;ae+=.01}return!1}(v,d,m,b,[t,n],r);return y}if(s==="lineTo")return sc(e,t,n,"sharp");s==="qcurveTo"&&console.warn("qcurveTo is not implemented yet")}return!1})},cc=["rotation"],Fa=function(e,t,n){return t>=e[0]&&t<=e[0]+e[2]&&n>=e[1]&&n<=e[1]+e[3]},Bl=function(e,t,n,r,o,a){return e.reduce(function(l,c){if(l)return l;var s=function(f,d,m,b,v,y){if(!d.selectedElementIds[f.id])return!1;var k=rc(f,v,y),_=k.rotation,j=Yn(k,cc);if(_&&Fa(_,m,b))return"rotation";var M=Object.keys(j).filter(function(P){var N=j[P];return!!N&&Fa(N,m,b)});return M.length>0&&M[0]}(c,t,n,r,o,a);return s?{element:c,transformHandleType:s}:null},null)},Ua=function(e,t,n,r,o){var a=R(e,4),l=a[0],c=a[1],s=a[2],f=a[3],d=nc([l,c,s,f],0,r,o,Il);return Object.keys(d).find(function(m){var b=d[m];return b&&Fa(b,t,n)})||!1},Do=["ns","nesw","ew","nwse"],Ve=function(e){var t=e.element,n=e.transformHandleType,r=t&&Math.sign(t.height)*Math.sign(t.width)==-1,o=null;switch(n){case"n":case"s":o="ns";break;case"w":case"e":o="ew";break;case"nw":case"se":o=r?"nesw":"nwse";break;case"ne":case"sw":o=r?"nwse":"nesw";break;case"rotation":return"grab"}return o&&t&&(o=function(a,l){var c=Do.indexOf(a);if(c>=0){var s=Math.round(l/(Math.PI/4));a=Do[(c+s)%Do.length]}return a}(o,t.angle)),o?"".concat(o,"-resize"):""};function Fl(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(s,f){if(!!s){if(typeof s=="string")return Ul(s,f);var d=Object.prototype.toString.call(s).slice(8,-1);if(d==="Object"&&s.constructor&&(d=s.constructor.name),d==="Map"||d==="Set")return Array.from(s);if(d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return Ul(s,f)}}(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(s){throw s},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,l=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var s=n.next();return l=s.done,s},e:function(s){c=!0,a=s},f:function(){try{l||n.return==null||n.return()}finally{if(c)throw a}}}}function Ul(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ro(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function $t(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ro(Object(n),!0).forEach(function(r){F(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ro(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Lt=function(){function e(t,n){de(this,e),this.elementId=t.id,Vt.mapElementToScene(this.elementId,n),e.normalizePoints(t),this.selectedPointsIndices=null,this.lastUncommittedPoint=null,this.isDragging=!1,this.pointerOffset={x:0,y:0},this.startBindingElement="keep",this.endBindingElement="keep",this.pointerDownState={prevSelectedPointsIndices:null,lastClickedPoint:-1}}return Ze(e,null,[{key:"getElement",value:function(t){var n,r=(n=Vt.getScene(t))===null||n===void 0?void 0:n.getNonDeletedElement(t);return r||null}},{key:"handleBoxSelection",value:function(t,n,r){var o;if(!n.editingLinearElement||((o=n.draggingElement)===null||o===void 0?void 0:o.type)!=="selection")return!1;var a=n.editingLinearElement,l=a.selectedPointsIndices,c=a.elementId,s=e.getElement(c);if(!s)return!1;var f=R(pt(n.draggingElement),4),d=f[0],m=f[1],b=f[2],v=f[3],y=e.getPointsGlobalCoordinates(s).reduce(function(k,_,j){return(_[0]>=d&&_[0]<=b&&_[1]>=m&&_[1]<=v||t.shiftKey&&l!=null&&l.includes(j))&&k.push(j),k},[]);r({editingLinearElement:$t($t({},a),{},{selectedPointsIndices:y.length?y:null})})}},{key:"handlePointDragging",value:function(t,n,r,o,a){if(!t.editingLinearElement)return!1;var l=t.editingLinearElement,c=l.selectedPointsIndices,s=l.elementId,f=l.isDragging,d=e.getElement(s);if(!d)return!1;var m=d.points[l.pointerDownState.lastClickedPoint];if(c&&m){f===!1&&n({editingLinearElement:$t($t({},l),{},{isDragging:!0})});var b=e.createPointAt(d,r-l.pointerOffset.x,o-l.pointerOffset.y,t.gridSize),v=b[0]-m[0],y=b[1]-m[1];if(e.movePoints(d,c.map(function(j){return{index:j,point:j===l.pointerDownState.lastClickedPoint?e.createPointAt(d,r-l.pointerOffset.x,o-l.pointerOffset.y,t.gridSize):[d.points[j][0]+v,d.points[j][1]+y],isDragging:j===l.pointerDownState.lastClickedPoint}})),Jn(d)){var k=[];c[0]===0&&k.push(Sn(e.getPointGlobalCoordinates(d,d.points[0])));var _=c[c.length-1];_===d.points.length-1&&k.push(Sn(e.getPointGlobalCoordinates(d,d.points[_]))),k.length&&a(d,k)}return!0}return!1}},{key:"handlePointerUp",value:function(t,n,r){var o,a=n.elementId,l=n.selectedPointsIndices,c=n.isDragging,s=n.pointerDownState,f=e.getElement(a);if(!f)return n;var d={};if(c&&l){var m,b=Fl(l);try{for(b.s();!(m=b.n()).done;){var v=m.value;if(v===0||v===f.points.length-1){Eo(f.points,r.zoom.value)&&e.movePoints(f,[{index:v,point:v===0?f.points[f.points.length-1]:f.points[0]}]);var y=zo(r)?mo(Sn(e.getPointAtIndexGlobalCoordinates(f,v)),Vt.getScene(f)):null;d[v===0?"startBindingElement":"endBindingElement"]=y}}}catch(k){b.e(k)}finally{b.f()}}return $t($t($t({},n),d),{},{selectedPointsIndices:c||t.shiftKey?!c&&t.shiftKey&&(o=s.prevSelectedPointsIndices)!==null&&o!==void 0&&o.includes(s.lastClickedPoint)?l&&l.filter(function(k){return k!==s.lastClickedPoint}):l:l!=null&&l.includes(s.lastClickedPoint)?[s.lastClickedPoint]:l,isDragging:!1,pointerOffset:{x:0,y:0}})}},{key:"handlePointerDown",value:function(t,n,r,o,a){var l,c={didAddPoint:!1,hitElement:null};if(!n.editingLinearElement)return c;var s=n.editingLinearElement.elementId,f=e.getElement(s);if(!f)return c;if(t.altKey)return n.editingLinearElement.lastUncommittedPoint==null&&je(f,{points:[].concat(fe(f.points),[e.createPointAt(f,a.x,a.y,n.gridSize)])}),o.resumeRecording(),r({editingLinearElement:$t($t({},n.editingLinearElement),{},{pointerDownState:{prevSelectedPointsIndices:n.editingLinearElement.selectedPointsIndices,lastClickedPoint:-1},selectedPointsIndices:[f.points.length-1],lastUncommittedPoint:null,endBindingElement:mo(a,Vt.getScene(f))})}),c.didAddPoint=!0,c;var d=e.getPointIndexUnderCursor(f,n.zoom,a.x,a.y);if(d>-1)c.hitElement=f;else{var m=n.editingLinearElement,b=m.startBindingElement,v=m.endBindingElement;zo(n)&&Jn(f)&&Ka(f,b,v)}var y=R(pt(f),4),k=y[0],_=y[1],j=(k+y[2])/2,M=(_+y[3])/2,P=d>-1&&gt(f.x+f.points[d][0],f.y+f.points[d][1],j,M,f.angle),N=d>-1||t.shiftKey?t.shiftKey||(l=n.editingLinearElement.selectedPointsIndices)!==null&&l!==void 0&&l.includes(d)?Pn([].concat(fe(n.editingLinearElement.selectedPointsIndices||[]),[d])):[d]:null;return r({editingLinearElement:$t($t({},n.editingLinearElement),{},{pointerDownState:{prevSelectedPointsIndices:n.editingLinearElement.selectedPointsIndices,lastClickedPoint:d},selectedPointsIndices:N,pointerOffset:P?{x:a.x-P[0],y:a.y-P[1]}:{x:0,y:0}})}),c}},{key:"handlePointerMove",value:function(t,n,r,o,a){var l=o.elementId,c=o.lastUncommittedPoint,s=e.getElement(l);if(!s)return o;var f=s.points,d=f[f.length-1];if(!t.altKey)return d===c&&e.deletePoints(s,[f.length-1]),$t($t({},o),{},{lastUncommittedPoint:null});var m=e.createPointAt(s,n-o.pointerOffset.x,r-o.pointerOffset.y,a);return d===c?e.movePoints(s,[{index:s.points.length-1,point:m}]):e.addPoints(s,[{point:m}]),$t($t({},o),{},{lastUncommittedPoint:s.points[s.points.length-1]})}},{key:"getPointGlobalCoordinates",value:function(t,n){var r=R(pt(t),4),o=r[0],a=r[1],l=(o+r[2])/2,c=(a+r[3])/2,s=t.x,f=t.y,d=R(gt(s+n[0],f+n[1],l,c,t.angle),2);return[s=d[0],f=d[1]]}},{key:"getPointsGlobalCoordinates",value:function(t){var n=R(pt(t),4),r=n[0],o=n[1],a=n[2],l=n[3],c=(r+a)/2,s=(o+l)/2;return t.points.map(function(f){var d=t.x,m=t.y,b=R(gt(d+f[0],m+f[1],c,s,t.angle),2);return[d=b[0],m=b[1]]})}},{key:"getPointAtIndexGlobalCoordinates",value:function(t,n){var r=n<0?t.points.length+n:n,o=R(pt(t),4),a=o[0],l=o[1],c=(a+o[2])/2,s=(l+o[3])/2,f=t.points[r],d=t.x,m=t.y;return gt(d+f[0],m+f[1],c,s,t.angle)}},{key:"pointFromAbsoluteCoords",value:function(t,n){var r=R(pt(t),4),o=r[0],a=r[1],l=(o+r[2])/2,c=(a+r[3])/2,s=R(gt(n[0],n[1],l,c,-t.angle),2),f=s[0],d=s[1];return[f-t.x,d-t.y]}},{key:"getPointIndexUnderCursor",value:function(t,n,r,o){for(var a=this.getPointsGlobalCoordinates(t),l=a.length;--l>-1;){var c=a[l];if(fr(r,o,c[0],c[1])*n.value<this.POINT_HANDLE_SIZE/2+1)return l}return-1}},{key:"createPointAt",value:function(t,n,r,o){var a=pr(n,r,o),l=R(pt(t),4),c=l[0],s=l[1],f=(c+l[2])/2,d=(s+l[3])/2,m=R(gt(a[0],a[1],f,d,-t.angle),2),b=m[0],v=m[1];return[b-t.x,v-t.y]}},{key:"getNormalizedPoints",value:function(t){var n=t.points,r=n[0][0],o=n[0][1];return{points:n.map(function(a,l){return[a[0]-r,a[1]-o]}),x:t.x+r,y:t.y+o}}},{key:"normalizePoints",value:function(t){je(t,e.getNormalizedPoints(t))}},{key:"duplicateSelectedPoints",value:function(t){if(!t.editingLinearElement)return!1;var n=t.editingLinearElement,r=n.selectedPointsIndices,o=n.elementId,a=e.getElement(o);if(!a||r===null)return!1;var l=a.points,c=[],s=!1,f=-1,d=l.reduce(function(b,v,y){if(++f,b.push(v),r.includes(y)){var k=l[y+1];k||(s=!0),b.push(k?[(v[0]+k[0])/2,(v[1]+k[1])/2]:[v[0],v[1]]),c.push(f+1),++f}return b},[]);if(je(a,{points:d}),s){var m=a.points[a.points.length-1];e.movePoints(a,[{index:a.points.length-1,point:[m[0]+30,m[1]+30]}])}return{appState:$t($t({},t),{},{editingLinearElement:$t($t({},t.editingLinearElement),{},{selectedPointsIndices:c})})}}},{key:"deletePoints",value:function(t,n){var r=0,o=0;if(n.includes(0)){var a=t.points.find(function(c,s){return!n.includes(s)});a&&(r=a[0],o=a[1])}var l=t.points.reduce(function(c,s,f){return n.includes(f)||c.push(c.length?[s[0]-r,s[1]-o]:[0,0]),c},[]);e._updatePoints(t,l,r,o)}},{key:"addPoints",value:function(t,n){var r=[].concat(fe(t.points),fe(n.map(function(o){return o.point})));e._updatePoints(t,r,0,0)}},{key:"movePoints",value:function(t,n,r){var o=t.points,a=0,l=0,c=n.find(function(f){return f.index===0});c&&(a=c.point[0]-o[c.index][0],l=c.point[1]-o[c.index][1]);var s=o.map(function(f,d){var m=n.find(function(y){return y.index===d});if(m){if(c)return f;var b=m.point[0]-o[m.index][0],v=m.point[1]-o[m.index][1];return[f[0]+b,f[1]+v]}return a||l?[f[0]-a,f[1]-l]:f});e._updatePoints(t,s,a,l,r)}},{key:"_updatePoints",value:function(t,n,r,o,a){var l=Ls(t,n,t.strokeSharpness||"round"),c=Ls(t,t.points,t.strokeSharpness||"round"),s=(l[0]+l[2])/2,f=(l[1]+l[3])/2,d=(c[0]+c[2])/2,m=(c[1]+c[3])/2,b=gt(r,o,d-s,m-f,t.angle);je(t,$t($t({},a),{},{points:n,x:t.x+b[0],y:t.y+b[1]}))}}]),e}();Lt.POINT_HANDLE_SIZE=20;var Pn=function(e){var t=fe(new Set(e.filter(function(n){return n!==null&&n!==-1})));return t=t.sort(function(n,r){return n-r}),t.length?t:null};function uc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}var zo=function(e){return e.isBindingEnabled},Ka=function(e,t,n){var r=new Set,o=new Set;Zr(e,t,n,"start",r,o),Zr(e,n,t,"end",r,o);var a=Array.from(o).filter(function(l){return!r.has(l)});Vt.getScene(e).getNonDeletedElements(a).forEach(function(l){var c;je(l,{boundElements:(c=l.boundElements)===null||c===void 0?void 0:c.filter(function(s){return s.type!=="arrow"||s.id!==e.id})})})},Zr=function(e,t,n,r,o,a){if(t!=="keep")if(t!=null)n!=null&&(n==="keep"?ui(e,t,r):r!=="start"&&n.id===t.id)||(fc(e,t,r),o.add(t.id));else{var l=Gu(e,r);l!=null&&a.add(l)}},An=function(e){e.forEach(function(t){Jn(t)?Ka(t,di(t,"start"),di(t,"end")):pa(t)&&dc(t)})},dc=function(e){Ar(e).forEach(function(t){var n=R(t,2),r=n[0],o=n[1];return Ka(r,o==="end"?"keep":e,o==="start"?"keep":e)})},Wa=function(e,t,n,r){t.startBoundElement!=null&&fc(e,t.startBoundElement,"start");var o=mo(r,n);o==null||ui(e,o,"end")||fc(e,o,"end")},fc=function(e,t,n){je(e,F({},n==="start"?"startBinding":"endBinding",function(r){for(var o=1;o<arguments.length;o++){var a=arguments[o]!=null?arguments[o]:{};o%2?uc(Object(a),!0).forEach(function(l){F(r,l,a[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(a)):uc(Object(a)).forEach(function(l){Object.defineProperty(r,l,Object.getOwnPropertyDescriptor(a,l))})}return r}({elementId:t.id},_f(e,t,n)))),tr(t.boundElements||[]).has(e.id)||je(t,{boundElements:(t.boundElements||[]).concat({id:e.id,type:"arrow"})})},ui=function(e,t,n){var r=e[n==="start"?"endBinding":"startBinding"];return pc(e,r==null?void 0:r.elementId,t)},pc=function(e,t,n){return t===n.id&&e.points.length<3},hc=function(e){e.forEach(function(t){Jn(t)&&Ka(t,null,null)})},Gu=function(e,t){var n=t==="start"?"startBinding":"endBinding",r=e[n];return r==null?null:(je(e,F({},n,null)),r.elementId)},mo=function(e,t){return Vf(t.getElements(),function(n){return pa(n)&&Fn(n,e)})},_f=function(e,t,n){var r=n==="start"?-1:1,o=r===-1?0:e.points.length-1,a=o-r,l=Lt.getPointAtIndexGlobalCoordinates(e,o),c=Lt.getPointAtIndexGlobalCoordinates(e,a);return{focus:Nl(t,c,l),gap:Math.max(1,ci(t,l))}},Yr=function(e,t){var n,r=((n=e.boundElements)!==null&&n!==void 0?n:[]).filter(function(s){return s.type==="arrow"});if(r.length!==0){var o=t!=null?t:{},a=o.newSize,l=o.simultaneouslyUpdated,c=Va(l);Vt.getScene(e).getNonDeletedElements(r.map(function(s){return s.id})).forEach(function(s){if(Bt(s)){var f=e;if(Zu(s,f)){var d=mc(f,s.startBinding,a),m=mc(f,s.endBinding,a);c.has(s.id)?je(s,{startBinding:d,endBinding:m}):(Kl(s,"start",d,e),Kl(s,"end",m,e))}}})}},Zu=function(e,t){var n,r;return((n=e.startBinding)===null||n===void 0?void 0:n.elementId)===t.id||((r=e.endBinding)===null||r===void 0?void 0:r.elementId)===t.id},Va=function(e){return new Set((e||[]).map(function(t){return t.id}))},Kl=function(e,t,n,r){if(!(n==null||n.elementId!==r.id&&e.points.length>2)){var o=Vt.getScene(e).getElement(n.elementId);if(o!=null){var a,l=t==="start"?-1:1,c=l===-1?0:e.points.length-1,s=c-l,f=Lt.getPointAtIndexGlobalCoordinates(e,s),d=function(b,v,y){if(v===0){var k=pt(b),_=zl(k);return fo(_)}var j,M=Ki(b),P=On(M,si(y)),N=Ml(M);switch(b.type){case"rectangle":case"image":case"text":case"diamond":j=kf(b,v,P);break;case"ellipse":j=Vu(b,v,P)}return fo(On(N,j))}(o,n.focus,f);if(n.gap===0)a=d;else{var m=function(b,v,y){var k=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,_=Ki(b),j=On(_,si(v)),M=On(_,si(y)),P=Hi(j,M),N=Ml(_);return Uu(b,P,j,k).map(function(U){return fo(On(N,U))})}(o,f,d,n.gap);a=m.length===0?d:m[0]}Lt.movePoints(e,[{index:c,point:Lt.pointFromAbsoluteCoords(e,a)}],F({},t==="start"?"startBinding":"endBinding",n))}}},mc=function(e,t,n){if(t==null||n==null)return t;var r=t.gap,o=t.focus,a=t.elementId,l=n.width,c=n.height,s=e.width,f=e.height;return{elementId:a,gap:Math.max(1,Math.min(ir(e,l,c),r*(l<c?l/s:c/f))),focus:o}},Yu=function(e){return[di(e,"start"),di(e,"end")].filter(function(t){return t!=null})},di=function(e,t){return mo(gc(e,t),Vt.getScene(e))},gc=function(e,t){var n=t==="start"?0:-1;return Sn(Lt.getPointAtIndexGlobalCoordinates(e,n))},Ar=function(e){return Vt.getScene(e).getElements().map(function(t){if(!Jn(t))return null;var n=No(t,"start",e),r=No(t,"end",e);return n||r?[t,n&&r?"both":n?"start":"end",e]:null}).filter(function(t){return t!=null})},No=function(e,t,n){return e[t==="start"?"startBinding":"endBinding"]==null&&!ui(e,n,t)&&Fn(n,gc(e,t))},Wl=function(e,t,n,r){var o=new Set,a=new Set,l=r==="duplicatesServeAsOld";t.forEach(function(c){var s=c.boundElements;if(s!=null&&s.length>0&&(s.forEach(function(m){l&&!n.has(m.id)&&o.add(m.id)}),a.add(n.get(c.id))),Jn(c)){if(c.startBinding!=null){var f=c.startBinding.elementId;l&&!n.has(f)&&a.add(f)}if(c.endBinding!=null){var d=c.endBinding.elementId;l&&!n.has(d)&&a.add(d)}c.startBinding==null&&c.endBinding==null||o.add(n.get(c.id))}}),e.filter(function(c){var s=c.id;return o.has(s)}).forEach(function(c){var s=c.startBinding,f=c.endBinding;je(c,{startBinding:Xu(s,n),endBinding:Xu(f,n)})}),e.filter(function(c){var s=c.id;return a.has(s)}).forEach(function(c){var s=c.boundElements;s!=null&&s.length>0&&je(c,{boundElements:s.map(function(f){return n.has(f.id)?{id:n.get(f.id),type:f.type}:f})})})},Xu=function(e,t){var n;if(e==null)return null;var r=e.elementId;return{focus:e.focus,gap:e.gap,elementId:(n=t.get(r))!==null&&n!==void 0?n:r}},vc=function(e,t){var n=new Set(t.map(function(o){return o.id})),r=new Set;t.forEach(function(o){var a;pa(o)&&((a=o.boundElements)===null||a===void 0||a.forEach(function(l){n.has(l.id)||r.add(l.id)}))}),e.filter(function(o){var a=o.id;return r.has(a)}).forEach(function(o){var a=o.startBinding,l=o.endBinding;je(o,{startBinding:qu(a,n),endBinding:qu(l,n)})})},qu=function(e,t){return e==null||t.has(e.elementId)?null:e};function bc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Wi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bc(Object(n),!0).forEach(function(r){F(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bc(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Xr=function(e){return e>=2*Math.PI?e-2*Math.PI:e},$u=function(e,t,n,r){var o=R(pt(e),4),a=o[0],l=o[1],c=(a+o[2])/2,s=(l+o[3])/2,f=5*Math.PI/2+Math.atan2(n-s,t-c);r&&(f+=C.ay/2,f-=f%C.ay),f=Xr(f),je(e,{angle:f});var d=nr(e);if(d){var m=Vt.getScene(e).getElement(d);je(m,{angle:f})}},Ef=function(e,t,n,r,o){var a=R(pt(e),4),l=a[0],c=a[1],s=a[2],f=a[3],d=R(gt(r,o,(l+s)/2,(c+f)/2,-e.angle),2),m=d[0],b=d[1],v=R(t==="end"?[m-e.x,b-e.y]:[e.x+e.points[1][0]-m,e.y+e.points[1][1]-b],2),y=v[0],k=v[1];if(n){var _=function(U,V,q,G){var ae=Oa.apply(void 0,[U].concat(fe(gt(V,q,0,0,G))));return gt(ae.width,ae.height,0,0,-G)}(e.type,y,k,e.angle),j=R(_,2);y=j[0],k=j[1]}var M=R(Ps(t==="end"?{s:!0,e:!0}:{n:!0,w:!0},e.x,e.y,e.angle,0,0,(e.points[1][0]-y)/2,(e.points[1][1]-k)/2),2),P=M[0],N=M[1];je(e,{x:P,y:N,points:[[0,0],[y,k]]})},Qu=function(e,t,n){return Bt(e)||Br(e)?{points:hl(0,t,hl(1,n,e.points))}:{}},Ju=function(e,t,n){var r=e.fontSize*(t/e.width);if(r<1)return null;var o=ao(e.text,dn({fontSize:r,fontFamily:e.fontFamily}),e.containerId?e.width:null);return{size:r,baseline:o.baseline+(n-o.height)}},xr=function(e,t,n,r,o){var a,l=R(pt(e),4),c=l[0],s=l[1],f=l[2],d=l[3],m=R(gt(r,o,(c+f)/2,(s+d)/2,-e.angle),2),b=m[0],v=m[1];switch(t){case"se":a=Math.max((b-c)/(f-c),(v-s)/(d-s));break;case"nw":a=Math.max((f-b)/(f-c),(d-v)/(d-s));break;case"ne":a=Math.max((b-c)/(f-c),(d-v)/(d-s));break;case"sw":a=Math.max((f-b)/(f-c),(v-s)/(d-s))}if(a>0){var y=e.width*a,k=e.height*a,_=Ju(e,y,k);if(_===null)return;var j=R(qo(e,y,k),4),M=(c-j[0])/2,P=(s-j[1])/2,N=(f-j[2])/2,U=(d-j[3])/2,V=Ps(function(oe,ie){return{n:/^(n|ne|nw)$/.test(oe)||ie&&/^(s|se|sw)$/.test(oe),s:/^(s|se|sw)$/.test(oe)||ie&&/^(n|ne|nw)$/.test(oe),w:/^(w|nw|sw)$/.test(oe)||ie&&/^(e|ne|se)$/.test(oe),e:/^(e|ne|se)$/.test(oe)||ie&&/^(w|nw|sw)$/.test(oe)}}(t,n),e.x,e.y,e.angle,M,P,N,U),q=R(V,2),G=q[0],ae=q[1];je(e,{fontSize:_.size,width:y,height:k,baseline:_.baseline,x:G,y:ae})}},ed=function(e,t,n,r,o,a,l){var c=R(qo(e,e.width,e.height),4),s=[c[0],c[1]],f=[c[2],c[3]],d=function(Ut,en){return[(Ut[0]+en[0])/2,(Ut[1]+en[1])/2]}(s,f),m=ha([a,l],d,-e.angle),b=R(qo(n,n.width,n.height),4),v=b[0],y=b[1],k=b[2],_=b[3],j=nr(n),M=k-v,P=_-y,N=(f[0]-s[0])/M,U=(f[1]-s[1])/P;r.includes("e")&&(N=(m[0]-s[0])/M),r.includes("s")&&(U=(m[1]-s[1])/P),r.includes("w")&&(N=(f[0]-m[0])/M),r.includes("n")&&(U=(f[1]-m[1])/P);var V=e.width,q=e.height,G=n.width*N,ae=n.height*U;if(o&&(G=2*G-V,ae=2*ae-q),t){var oe=Math.abs(G)/V,ie=Math.abs(ae)/q;if(r.length===1&&(ae*=oe,G*=ie),r.length===2){var K=Math.max(oe,ie);G=V*K*Math.sign(G),ae=q*K*Math.sign(ae)}}var he=R(qo(e,G,ae),4),ue=he[0],ce=he[1],ve=he[2]-ue,pe=he[3]-ce;if(!(ve<0||pe<0)||!j){var J=[].concat(s);if(["n","w","nw"].includes(r)&&(J=[f[0]-Math.abs(ve),f[1]-Math.abs(pe)]),r==="ne"){var Ee=[s[0],f[1]];J=[Ee[0],Ee[1]-Math.abs(pe)]}if(r==="sw"){var Se=[f[0],s[1]];J=[Se[0]-Math.abs(ve),Se[1]]}t&&(["s","n"].includes(r)&&(J[0]=d[0]-ve/2),["e","w"].includes(r)&&(J[1]=d[1]-pe/2)),G<0&&(r.includes("e")&&(J[0]-=Math.abs(ve)),r.includes("w")&&(J[0]+=Math.abs(ve))),ae<0&&(r.includes("s")&&(J[1]-=Math.abs(pe)),r.includes("n")&&(J[1]+=Math.abs(pe))),o&&(J[0]=d[0]-Math.abs(ve)/2,J[1]=d[1]-Math.abs(pe)/2);var Oe=e.angle,ye=ha(J,d,Oe),ze=[J[0]+Math.abs(ve)/2,J[1]+Math.abs(pe)/2],it=ha(ze,d,Oe);J=ha(ye,it,-Oe);var xt=Qu(e,G,ae),zt=fe(J);zt[0]+=e.x-ue,zt[1]+=e.y-ce;var dt=Wi({width:Math.abs(G),height:Math.abs(ae),x:zt[0],y:zt[1]},xt);"scale"in n&&"scale"in e&&je(n,{scale:[(Math.sign(N)||e.scale[0])*e.scale[0],(Math.sign(U)||e.scale[1])*e.scale[1]]});var Dt=0,ut=Ur(n);ut&&(Dt=Li(dn(ut))),dt.width>=Dt&&dt.height!==0&&Number.isFinite(dt.x)&&Number.isFinite(dt.y)&&(Yr(n,{newSize:{width:dt.width,height:dt.height}}),je(n,dt),xu([n],r))}},td=function(e,t,n,r){var o,a,l=R(hn(e),4),c=l[0],s=l[1],f=l[2],d=l[3];switch(t){case"se":o=Math.max((n-c)/(f-c),(r-s)/(d-s)),a=function(b,v,y){var k=R(v,2),_=k[0],j=k[1],M=R(y,2),P=M[0],N=M[1];return{x:b.x+(_-c)*(o-1)+_-P,y:b.y+(j-s)*(o-1)+j-N}};break;case"nw":o=Math.max((f-n)/(f-c),(d-r)/(d-s)),a=function(b,v,y){var k=R(v,4),_=k[2],j=k[3],M=R(y,4),P=M[2],N=M[3];return{x:b.x-(f-_)*(o-1)+_-P,y:b.y-(d-j)*(o-1)+j-N}};break;case"ne":o=Math.max((n-c)/(f-c),(d-r)/(d-s)),a=function(b,v,y){var k=R(v,4),_=k[0],j=k[3],M=R(y,4),P=M[0],N=M[3];return{x:b.x+(_-c)*(o-1)+_-P,y:b.y-(d-j)*(o-1)+j-N}};break;case"sw":o=Math.max((f-n)/(f-c),(r-s)/(d-s)),a=function(b,v,y){var k=R(v,3),_=k[1],j=k[2],M=R(y,3),P=M[1],N=M[2];return{x:b.x-(f-j)*(o-1)+j-N,y:b.y+(_-s)*(o-1)+_-P}}}if(o>0){var m=e.reduce(function(b,v){if(!b)return b;var y=v.width*o,k=v.height*o,_={};if(St(v)){var j=Ju(v,y,k);if(j===null)return null;_={fontSize:j.size,baseline:j.baseline}}var M=pt(v),P=Qu(v,y,k);Yr(v,{newSize:{width:y,height:k},simultaneouslyUpdated:e});var N=qo(Wi(Wi({},v),P),y,k),U=a(v,M,N),V=U.x,q=U.y;return[].concat(fe(b),[Wi(Wi({width:y,height:k,x:V,y:q},P),_)])},[]);m&&e.forEach(function(b,v){je(b,m[v])})}},Sf=function(e,t,n,r,o,a,l){var c=5*Math.PI/2+Math.atan2(r-l,n-a);o&&(c+=C.ay/2,c-=c%C.ay),t.forEach(function(s,f){var d,m,b=R(pt(s),4),v=b[0],y=b[1],k=(v+b[2])/2,_=(y+b[3])/2,j=(d=(m=e.originalElements.get(s.id))===null||m===void 0?void 0:m.angle)!==null&&d!==void 0?d:s.angle,M=R(gt(k,_,a,l,c+j-s.angle),2),P=M[0],N=M[1];je(s,{x:s.x+(P-k),y:s.y+(N-_),angle:Xr(c+j)});var U=nr(s);if(U){var V=Vt.getScene(s).getElement(U);je(V,{x:V.x+(P-k),y:V.y+(N-_),angle:Xr(c+j)})}})},Vl=function(e,t,n,r,o,a){var l,c;if(e){var s=e&&t<n,f=e&&t>n,d=r.originalElements.get(o.id);l=s&&d?d.x:o.x+a.x,c=f&&d?d.y:o.y+a.y}else l=o.x+a.x,c=o.y+a.y;je(o,{x:l,y:c})},nd=function(e,t,n,r,o,a,l,c,s,f,d){if(s)if(d)c=l/d;else{var m=Oa(t,l,a<r?-c:c);l=m.width,(c=m.height)<0&&(c=-c)}var b=o<n?n-l:n,v=a<r?r-c:r;f&&(b=n-(l+=l)/2,v=r-(c+=c)/2),l!==0&&c!==0&&je(e,{x:b,y:v,width:l,height:c})},Ho=function(e){var t=e.options,n=e.value,r=e.onChange,o=e.group;return(0,p.jsx)("div",{className:"buttonList buttonListIcon",children:t.map(function(a){return(0,p.jsxs)("label",{className:mt({active:n===a.value}),title:a.text,children:[(0,p.jsx)("input",{type:"radio",name:o,onChange:function(){return r(a.value)},checked:n===a.value,"data-testid":a.testId}),a.icon]},a.text)})})},yc=(x(4301),function(e){var t=e.children,n=e.left,r=e.top,o=e.onCloseRequest,a=e.fitInViewport,l=a!==void 0&&a,c=e.offsetLeft,s=c===void 0?0:c,f=e.offsetTop,d=f===void 0?0:f,m=e.viewportWidth,b=m===void 0?window.innerWidth:m,v=e.viewportHeight,y=v===void 0?window.innerHeight:v,k=(0,Q.useRef)(null);return(0,Q.useLayoutEffect)(function(){if(l&&k.current){var _=k.current,j=_.getBoundingClientRect(),M=j.x,P=j.y,N=j.width,U=j.height;M+N-s>b&&(_.style.left="".concat(b-N,"px")),P+U-d>y&&(_.style.top="".concat(y-U,"px"))}},[l,b,y,s,d]),(0,Q.useEffect)(function(){if(o){var _=function(j){var M;(M=k.current)!==null&&M!==void 0&&M.contains(j.target)||(0,ro.unstable_batchedUpdates)(function(){return o(j)})};return document.addEventListener("pointerdown",_,!1),function(){return document.removeEventListener("pointerdown",_,!1)}}},[o]),(0,p.jsx)("div",{className:"popover",style:{top:r,left:n},ref:k,children:t})}),Gl=(x(4220),function(e){var t=new Option().style;return t.color=e,!!t.color}),Vi=[["1","2","3","4","5"],["q","w","e","r","t"],["a","s","d","f","g"]].flat(),jf=function(e){var t=e.colors,n=e.color,r=e.onChange,o=e.onClose,a=e.label,l=e.showInput,c=l===void 0||l,s=e.type,f=ee().useRef(),d=ee().useRef(),m=ee().useRef(),b=ee().useRef();return ee().useEffect(function(){d.current?d.current.focus():b.current?b.current.focus():m.current&&m.current.focus()},[]),(0,p.jsxs)("div",{className:"color-picker color-picker-type-".concat(s),role:"dialog","aria-modal":"true","aria-label":S("labels.colorPicker"),onKeyDown:function(v){if(v.key===re.TAB){var y,k=document.activeElement;if(v.shiftKey)k===f.current&&((y=b.current)===null||y===void 0||y.focus(),v.preventDefault());else if(k===b.current){var _;(_=f.current)===null||_===void 0||_.focus(),v.preventDefault()}}else if(Oi(v.key)){var j=document.activeElement,M=ft().rtl,P=Array.prototype.indexOf.call(m.current.children,j);if(P!==-1){var N=m.current.children.length-(c?1:0),U=v.key===(M?re.ARROW_LEFT:re.ARROW_RIGHT)?(P+1)%N:v.key===(M?re.ARROW_RIGHT:re.ARROW_LEFT)?(N+P-1)%N:v.key===re.ARROW_DOWN?(P+5)%N:v.key===re.ARROW_UP?(N+P-5)%N:P;m.current.children[U].focus()}v.preventDefault()}else if(Vi.includes(v.key.toLowerCase())&&!oo(v.target)){var V=Vi.indexOf(v.key.toLowerCase());m.current.children[V].focus(),v.preventDefault()}else v.key!==re.ESCAPE&&v.key!==re.ENTER||(v.preventDefault(),o());v.nativeEvent.stopImmediatePropagation(),v.stopPropagation()},children:[(0,p.jsx)("div",{className:"color-picker-triangle color-picker-triangle-shadow"}),(0,p.jsx)("div",{className:"color-picker-triangle"}),(0,p.jsxs)("div",{className:"color-picker-content",ref:function(v){v&&(m.current=v)},tabIndex:0,children:[t.map(function(v,y){var k=v.replace("#","");return(0,p.jsxs)("button",{className:"color-picker-swatch",onClick:function(_){_.currentTarget.focus(),r(v)},title:"".concat(S("colors.".concat(k))).concat(Qo(v)?"":" (".concat(v,")")," \u2014 ").concat(Vi[y].toUpperCase()),"aria-label":S("colors.".concat(k)),"aria-keyshortcuts":Vi[y],style:{color:v},ref:function(_){_&&y===0&&(f.current=_),_&&v===n&&(d.current=_)},onFocus:function(){r(v)},children:[Qo(v)?(0,p.jsx)("div",{className:"color-picker-transparent"}):void 0,(0,p.jsx)("span",{className:"color-picker-keybinding",children:Vi[y]})]},v)}),c&&(0,p.jsx)(rd,{color:n,label:a,onChange:function(v){r(v)},ref:b})]})]})},rd=ee().forwardRef(function(e,t){var n=e.color,r=e.onChange,o=e.label,a=R(ee().useState(n),2),l=a[0],c=a[1],s=ee().useRef(null);ee().useEffect(function(){c(n)},[n]),ee().useImperativeHandle(t,function(){return s.current});var f=ee().useCallback(function(d){var m=d.toLowerCase(),b=function(v){return Qo(v)||Gl(v)?v:Gl("#".concat(v))?"#".concat(v):null}(m);b&&r(b),c(m)},[r]);return(0,p.jsxs)("label",{className:"color-input-container",children:[(0,p.jsx)("div",{className:"color-picker-hash",children:"#"}),(0,p.jsx)("input",{spellCheck:!1,className:"color-picker-input","aria-label":o,onChange:function(d){return f(d.target.value)},value:(l||"").replace(/^#/,""),onBlur:function(){return c(n)},ref:s})]})}),xc=function(e){var t=e.type,n=e.color,r=e.onChange,o=e.label,a=e.isActive,l=e.setActive,c=ee().useRef(null);return(0,p.jsxs)("div",{children:[(0,p.jsxs)("div",{className:"color-picker-control-container",children:[(0,p.jsx)("button",{className:"color-picker-label-swatch","aria-label":o,style:n?{"--swatch-color":n}:void 0,onClick:function(){return l(!a)},ref:c}),(0,p.jsx)(rd,{color:n,label:o,onChange:function(s){r(s)}})]}),(0,p.jsx)(ee().Suspense,{fallback:"",children:a?(0,p.jsx)(yc,{onCloseRequest:function(s){return s.target!==c.current&&l(!1)},children:(0,p.jsx)(jf,{colors:jo[t],color:n||null,onChange:function(s){r(s)},onClose:function(){var s;l(!1),(s=c.current)===null||s===void 0||s.focus()},label:o,showInput:!1,type:t})}):null})]})};x(7117);function od(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function id(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?od(Object(n),!0).forEach(function(r){F(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):od(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Cf(e){var t=e.options,n=e.value,r=e.label,o=e.onChange,a=e.onClose,l=ee().useRef(),c=ee().useRef(),s=ee().useRef(null);return ee().useEffect(function(){c.current?c.current.focus():s.current&&s.current.focus()},[]),(0,p.jsx)("div",{className:"picker",role:"dialog","aria-modal":"true","aria-label":r,onKeyDown:function(f){var d=t.find(function(j){return j.keyBinding===f.key.toLowerCase()});if(f.metaKey||f.altKey||f.ctrlKey||!d)if(f.key===re.TAB)setTimeout(function(){c.current!==document.activeElement&&a()},0);else if(Oi(f.key)){var m=document.activeElement,b=ft().rtl,v=Array.prototype.indexOf.call(s.current.children,m);if(v!==-1){var y=t.length,k=v;switch(f.key){case(b?re.ARROW_LEFT:re.ARROW_RIGHT):case re.ARROW_DOWN:k=(v+1)%y;break;case(b?re.ARROW_RIGHT:re.ARROW_LEFT):case re.ARROW_UP:k=(y+v-1)%y}s.current.children[k].focus()}f.preventDefault()}else f.key!==re.ESCAPE&&f.key!==re.ENTER||(f.preventDefault(),a());else{var _=t.indexOf(d);s.current.children[_].focus(),f.preventDefault()}f.nativeEvent.stopImmediatePropagation(),f.stopPropagation()},children:(0,p.jsx)("div",{className:"picker-content",ref:s,children:t.map(function(f,d){return(0,p.jsxs)("button",{className:"picker-option",onClick:function(m){m.currentTarget.focus(),o(f.value)},title:"".concat(f.text," \u2014 ").concat(f.keyBinding.toUpperCase()),"aria-label":f.text||"none","aria-keyshortcuts":f.keyBinding,ref:function(m){m&&d===0&&(l.current=m),m&&f.value===n&&(c.current=m)},onFocus:function(){o(f.value)},children:[f.icon,(0,p.jsx)("span",{className:"picker-keybinding",children:f.keyBinding})]},f.text)})})})}function wc(e){var t,n=e.value,r=e.label,o=e.options,a=e.onChange,l=e.group,c=l===void 0?"":l,s=R(ee().useState(!1),2),f=s[0],d=s[1],m=ee().useRef(null),b=ft().rtl;return(0,p.jsxs)("label",{className:"picker-container",children:[(0,p.jsx)("button",{name:c,className:f?"active":"","aria-label":r,onClick:function(){return d(!f)},ref:m,children:(t=o.find(function(v){return v.value===n}))===null||t===void 0?void 0:t.icon}),(0,p.jsx)(ee().Suspense,{fallback:"",children:f?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(yc,id(id({onCloseRequest:function(v){return v.target!==m.current&&d(!1)}},b?{right:5.5}:{left:-5.5}),{},{children:(0,p.jsx)(Cf,{options:o,value:n,label:r,onChange:a,onClose:function(){var v;d(!1),(v=m.current)===null||v===void 0||v.focus()}})})),(0,p.jsx)("div",{className:"picker-triangle"})]}):null})]})}var Ht=function(e){return e===C.C6.LIGHT?st.orange[4]:st.orange[9]},ad=function(e){return e===C.C6.LIGHT?st.white:"#1e1e1e"},Ce=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:512,n=typeof t=="number"?{width:t}:t,r=n.width,o=r===void 0?512:r,a=n.height,l=a===void 0?o:a,c=n.mirror,s=n.style;return(0,p.jsx)("svg",{"aria-hidden":"true",focusable:"false",role:"img",viewBox:"0 0 ".concat(o," ").concat(l),className:mt({"rtl-mirror":c}),style:s,children:typeof e=="string"?(0,p.jsx)("path",{fill:"currentColor",d:e}):e})},Of=Ce((0,p.jsx)("polyline",{fill:"none",stroke:"currentColor",points:"20 6 9 17 4 12"}),{width:24,height:24}),ld=Ce("M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z",{mirror:!0}),sd=Ce("M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z",{width:448,height:512}),cd=Ce("M252 54L203 8a28 27 0 00-20-8H28C12 0 0 12 0 27v195c0 15 12 26 28 26h204c15 0 28-11 28-26V73a28 27 0 00-8-19zM130 213c-21 0-37-16-37-36 0-19 16-35 37-35 20 0 37 16 37 35 0 20-17 36-37 36zm56-169v56c0 4-4 6-7 6H44c-4 0-7-2-7-6V42c0-4 3-7 7-7h133l4 2 3 2a7 7 0 012 5z M296 201l87 95-188 205-78 9c-10 1-19-8-18-20l9-84zm141-14l-41-44a31 31 0 00-46 0l-38 41 87 95 38-42c13-14 13-36 0-50z",{width:448,height:512}),ud=Ce("M572.694 292.093L500.27 416.248A63.997 63.997 0 0 1 444.989 448H45.025c-18.523 0-30.064-20.093-20.731-36.093l72.424-124.155A64 64 0 0 1 152 256h399.964c18.523 0 30.064 20.093 20.73 36.093zM152 224h328v-48c0-26.51-21.49-48-48-48H272l-64-64H48C21.49 64 0 85.49 0 112v278.046l69.077-118.418C86.214 242.25 117.989 224 152 224z",{width:576,height:512,mirror:!0}),If=Ce("M384 112v352c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h80c0-35.29 28.71-64 64-64s64 28.71 64 64h80c26.51 0 48 21.49 48 48zM192 40c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24m96 114v-20a6 6 0 0 0-6-6H102a6 6 0 0 0-6 6v20a6 6 0 0 0 6 6h180a6 6 0 0 0 6-6z",{width:384,height:512}),Zl=Ce("M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z",{width:448,height:512}),Yl=Ce("M204.3 5C104.9 24.4 24.8 104.3 5.2 203.4c-37 187 131.7 326.4 258.8 306.7 41.2-6.4 61.4-54.6 42.5-91.7-23.1-45.4 9.9-98.4 60.9-98.4h79.7c35.8 0 64.8-29.6 64.9-65.3C511.5 97.1 368.1-26.9 204.3 5zM96 320c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm32-128c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128-64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"),Tf=Ce("M384 121.9c0-6.3-2.5-12.4-7-16.9L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128zM571 308l-95.7-96.4c-10.1-10.1-27.4-3-27.4 11.3V288h-64v64h64v65.2c0 14.3 17.3 21.4 27.4 11.3L571 332c6.6-6.6 6.6-17.4 0-24zm-379 28v-32c0-8.8 7.2-16 16-16h176V160H248c-13.2 0-24-10.8-24-24V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V352H208c-8.8 0-16-7.2-16-16z",{width:576,height:512,mirror:!0}),Mf=Ce((0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("path",{d:"M571 308l-95.7-96.4c-10.1-10.1-27.4-3-27.4 11.3V288h-64v64h64v65.2c0 14.3 17.3 21.4 27.4 11.3L571 332c6.6-6.6 6.6-17.4 0-24zm-187 44v-64 64z"}),(0,p.jsx)("path",{d:"M384 121.941V128H256V0h6.059c6.362 0 12.471 2.53 16.97 7.029l97.941 97.941a24.01 24.01 0 017.03 16.971zM248 160c-13.2 0-24-10.8-24-24V0H24C10.745 0 0 10.745 0 24v464c0 13.255 10.745 24 24 24h336c13.255 0 24-10.745 24-24V160H248zm-135.455 16c26.51 0 48 21.49 48 48s-21.49 48-48 48-48-21.49-48-48 21.491-48 48-48zm208 240h-256l.485-48.485L104.545 328c4.686-4.686 11.799-4.201 16.485.485L160.545 368 264.06 264.485c4.686-4.686 12.284-4.686 16.971 0L320.545 304v112z"})]}),{width:576,height:512,mirror:!0}),Ga=Ce("M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z",{width:512,height:512}),dd=Ce("M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",{width:448,height:512}),fd=Ce("M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",{width:448,height:512}),kc=Ce("M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"),pd=Ce("M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"),hd=Ce("M255.545 8c-66.269.119-126.438 26.233-170.86 68.685L48.971 40.971C33.851 25.851 8 36.559 8 57.941V192c0 13.255 10.745 24 24 24h134.059c21.382 0 32.09-25.851 16.971-40.971l-41.75-41.75c30.864-28.899 70.801-44.907 113.23-45.273 92.398-.798 170.283 73.977 169.484 169.442C423.236 348.009 349.816 424 256 424c-41.127 0-79.997-14.678-110.63-41.556-4.743-4.161-11.906-3.908-16.368.553L89.34 422.659c-4.872 4.872-4.631 12.815.482 17.433C133.798 479.813 192.074 504 256 504c136.966 0 247.999-111.033 248-247.998C504.001 119.193 392.354 7.755 255.545 8z",{mirror:!0}),Pf=Ce("M256.455 8c66.269.119 126.437 26.233 170.859 68.685l35.715-35.715C478.149 25.851 504 36.559 504 57.941V192c0 13.255-10.745 24-24 24H345.941c-21.382 0-32.09-25.851-16.971-40.971l41.75-41.75c-30.864-28.899-70.801-44.907-113.23-45.273-92.398-.798-170.283 73.977-169.484 169.442C88.764 348.009 162.184 424 256 424c41.127 0 79.997-14.678 110.629-41.556 4.743-4.161 11.906-3.908 16.368.553l39.662 39.662c4.872 4.872 4.631 12.815-.482 17.433C378.202 479.813 319.926 504 256 504 119.034 504 8.001 392.967 8 256.002 7.999 119.193 119.646 7.755 256.455 8z",{mirror:!0}),md=Ce("M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zM262.655 90c-54.497 0-89.255 22.957-116.549 63.758-3.536 5.286-2.353 12.415 2.715 16.258l34.699 26.31c5.205 3.947 12.621 3.008 16.665-2.122 17.864-22.658 30.113-35.797 57.303-35.797 20.429 0 45.698 13.148 45.698 32.958 0 14.976-12.363 22.667-32.534 33.976C247.128 238.528 216 254.941 216 296v4c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12v-1.333c0-28.462 83.186-29.647 83.186-106.667 0-58.002-60.165-102-116.531-102zM256 338c-25.365 0-46 20.635-46 46 0 25.364 20.635 46 46 46s46-20.636 46-46c0-25.365-20.635-46-46-46z",{mirror:!0}),Xl=(Ce("M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z",{width:24,height:24}),Ce("M16 5l-1.42 1.42-1.59-1.59V16h-1.98V4.83L9.42 6.42 8 5l4-4 4 4zm4 5v11c0 1.1-.9 2-2 2H6c-1.11 0-2-.9-2-2V10c0-1.11.89-2 2-2h3v2H6v11h12V10h-3V8h3c1.1 0 2 .89 2 2z",{width:24,height:24}),Ce((0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("path",{stroke:"currentColor",fill:"currentColor",d:"M40 5.6v6.1l-4.1.7c-8.9 1.4-16.5 6.9-20.6 15C13 32 10.9 43 12.4 43c.4 0 2.4-1.3 4.4-3 5-3.9 12.1-7 18.2-7.7l5-.6v12.8l11.2-11.3L62.5 22 51.2 10.8 40-.5v6.1zm10.2 22.6L44 34.5v-6.8l-6.9.6c-3.9.3-9.8 1.7-13.2 3.1-3.5 1.4-6.5 2.4-6.7 2.2-.9-1 3-7.5 6.4-10.8C28 18.6 34.4 16 40.1 16c3.7 0 3.9-.1 3.9-3.2V9.5l6.2 6.3 6.3 6.2-6.3 6.2z"}),(0,p.jsx)("path",{stroke:"currentColor",fill:"currentColor",d:"M0 36v20h48v-6.2c0-6 0-6.1-2-4.3-1.1 1-2 2.9-2 4.2V52H4V34c0-17.3-.1-18-2-18s-2 .7-2 20z"})]}),{width:64,height:64}),Ce((0,p.jsx)("path",{stroke:"currentColor",strokeWidth:"40",fill:"currentColor",d:"M148 560a318 318 0 0 0 522 110 316 316 0 0 0 0-450 316 316 0 0 0-450 0c-11 11-21 22-30 34v4h47c25 0 46 21 46 46s-21 45-46 45H90c-13 0-25-6-33-14-9-9-14-20-14-33V156c0-25 20-45 45-45s45 20 45 45v32l1 1a401 401 0 0 1 623 509l212 212a42 42 0 0 1-59 59L698 757A401 401 0 0 1 65 570a42 42 0 0 1 83-10z"}),{width:1024}),ee().memo(function(e){var t=e.theme;return Ce((0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("path",{d:"M22 9.556C22 8.696 21.303 8 20.444 8H16v8H8v4.444C8 21.304 8.697 22 9.556 22h10.888c.86 0 1.556-.697 1.556-1.556V9.556z",fill:"var(--icon-fill-color)",stroke:"var(--icon-fill-color)",strokeWidth:"2"}),(0,p.jsx)("path",{d:"M16 3.556C16 2.696 15.303 2 14.444 2H3.556C2.696 2 2 2.697 2 3.556v10.888C2 15.304 2.697 16 3.556 16h10.888c.86 0 1.556-.697 1.556-1.556V3.556z",fill:Ht(t),stroke:Ht(t),strokeWidth:"2"})]}),{width:24,mirror:!0})})),ql=ee().memo(function(e){var t=e.theme;return Ce((0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("path",{d:"M16 3.556C16 2.696 15.303 2 14.444 2H3.556C2.696 2 2 2.697 2 3.556v10.888C2 15.304 2.697 16 3.556 16h10.888c.86 0 1.556-.697 1.556-1.556V3.556z",fill:Ht(t),stroke:Ht(t),strokeWidth:"2"}),(0,p.jsx)("path",{d:"M22 9.556C22 8.696 21.303 8 20.444 8H9.556C8.696 8 8 8.697 8 9.556v10.888C8 21.304 8.697 22 9.556 22h10.888c.86 0 1.556-.697 1.556-1.556V9.556z",fill:"var(--icon-fill-color)",stroke:"var(--icon-fill-color)",strokeWidth:"2"})]}),{width:24,mirror:!0})}),Af=ee().memo(function(e){var t=e.theme;return Ce((0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("path",{d:"M13 21a1 1 0 001 1h7a1 1 0 001-1v-7a1 1 0 00-1-1h-3v5h-5v3zM11 3a1 1 0 00-1-1H3a1 1 0 00-1 1v7a1 1 0 001 1h3V6h5V3z",fill:"var(--icon-fill-color)",stroke:"var(--icon-fill-color)",strokeWidth:"2"}),(0,p.jsx)("path",{d:"M18 7.333C18 6.597 17.403 6 16.667 6H7.333C6.597 6 6 6.597 6 7.333v9.334C6 17.403 6.597 18 7.333 18h9.334c.736 0 1.333-.597 1.333-1.333V7.333z",fill:Ht(t),stroke:Ht(t),strokeWidth:"2"})]}),{width:24,mirror:!0})}),_c=ee().memo(function(e){var t=e.theme;return Ce((0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("path",{d:"M18 7.333C18 6.597 17.403 6 16.667 6H7.333C6.597 6 6 6.597 6 7.333v9.334C6 17.403 6.597 18 7.333 18h9.334c.736 0 1.333-.597 1.333-1.333V7.333z",fill:Ht(t),stroke:Ht(t),strokeWidth:"2"}),(0,p.jsx)("path",{d:"M11 3a1 1 0 00-1-1H3a1 1 0 00-1 1v7a1 1 0 001 1h8V3zM22 14a1 1 0 00-1-1h-7a1 1 0 00-1 1v7a1 1 0 001 1h8v-8z",fill:"var(--icon-fill-color)",stroke:"var(--icon-fill-color)",strokeWidth:"2"})]}),{width:24,mirror:!0})}),gd=ee().memo(function(e){var t=e.theme;return Ce((0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("path",{d:"M 2,5 H 22",fill:"var(--icon-fill-color)",stroke:"var(--icon-fill-color)",strokeWidth:"2",strokeLinecap:"round"}),(0,p.jsx)("path",{d:"M 6,7 C 5.446,7 5,7.446 5,8 v 9.999992 c 0,0.554 0.446,1 1,1 h 3.0000001 c 0.554,0 0.9999999,-0.446 0.9999999,-1 V 8 C 10,7.446 9.5540001,7 9.0000001,7 Z m 9,0 c -0.554,0 -1,0.446 -1,1 v 5.999992 c 0,0.554 0.446,1 1,1 h 3 c 0.554,0 1,-0.446 1,-1 V 8 C 19,7.446 18.554,7 18,7 Z",fill:Ht(t),stroke:Ht(t),strokeWidth:"2"})]}),{width:24,mirror:!0})}),Lf=ee().memo(function(e){var t=e.theme;return Ce((0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("path",{d:"M 2,19 H 22",fill:"var(--icon-fill-color)",stroke:"var(--icon-fill-color)",strokeWidth:"2",strokeLinecap:"round"}),(0,p.jsx)("path",{d:"m 6,16.999992 c -0.554,0 -1,-0.446 -1,-1 V 6 C 5,5.446 5.446,5 6,5 H 9.0000001 C 9.5540001,5 10,5.446 10,6 v 9.999992 c 0,0.554 -0.4459999,1 -0.9999999,1 z m 9,0 c -0.554,0 -1,-0.446 -1,-1 V 10 c 0,-0.554 0.446,-1 1,-1 h 3 c 0.554,0 1,0.446 1,1 v 5.999992 c 0,0.554 -0.446,1 -1,1 z",fill:Ht(t),stroke:Ht(t),strokeWidth:"2"})]}),{width:24,mirror:!0})}),Lr=ee().memo(function(e){var t=e.theme;return Ce((0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("path",{d:"M 5,2 V 22",fill:"var(--icon-fill-color)",stroke:"var(--icon-fill-color)",strokeWidth:"2",strokeLinecap:"round"}),(0,p.jsx)("path",{d:"m 7.000004,5.999996 c 0,-0.554 0.446,-1 1,-1 h 9.999992 c 0.554,0 1,0.446 1,1 v 3.0000001 c 0,0.554 -0.446,0.9999999 -1,0.9999999 H 8.000004 c -0.554,0 -1,-0.4459999 -1,-0.9999999 z m 0,9 c 0,-0.554 0.446,-1 1,-1 h 5.999992 c 0.554,0 1,0.446 1,1 v 3 c 0,0.554 -0.446,1 -1,1 H 8.000004 c -0.554,0 -1,-0.446 -1,-1 z",fill:Ht(t),stroke:Ht(t),strokeWidth:"2"})]}),{width:24})}),Df=ee().memo(function(e){var t=e.theme;return Ce((0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("path",{d:"M 19,2 V 22",fill:"var(--icon-fill-color)",stroke:"var(--icon-fill-color)",strokeWidth:"2",strokeLinecap:"round"}),(0,p.jsx)("path",{d:"m 16.999996,5.999996 c 0,-0.554 -0.446,-1 -1,-1 H 6.000004 c -0.554,0 -1,0.446 -1,1 v 3.0000001 c 0,0.554 0.446,0.9999999 1,0.9999999 h 9.999992 c 0.554,0 1,-0.4459999 1,-0.9999999 z m 0,9 c 0,-0.554 -0.446,-1 -1,-1 h -5.999992 c -0.554,0 -1,0.446 -1,1 v 3 c 0,0.554 0.446,1 1,1 h 5.999992 c 0.554,0 1,-0.446 1,-1 z",fill:Ht(t),stroke:Ht(t),strokeWidth:"2"})]}),{width:24})}),Rf=ee().memo(function(e){var t=e.theme;return Ce((0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("path",{d:"M19 5V19M5 5V19",stroke:"var(--icon-fill-color)",strokeWidth:"2",strokeLinecap:"round"}),(0,p.jsx)("path",{d:"M15 9C15.554 9 16 9.446 16 10V14C16 14.554 15.554 15 15 15H9C8.446 15 8 14.554 8 14V10C8 9.446 8.446 9 9 9H15Z",fill:Ht(t),stroke:Ht(t),strokeWidth:"2"})]}),{width:24})}),fi=ee().memo(function(e){var t=e.theme;return Ce((0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("path",{d:"M5 5L19 5M5 19H19",fill:"var(--icon-fill-color)",stroke:"var(--icon-fill-color)",strokeWidth:"2",strokeLinecap:"round"}),(0,p.jsx)("path",{d:"M15 9C15.554 9 16 9.446 16 10V14C16 14.554 15.554 15 15 15H9C8.446 15 8 14.554 8 14V10C8 9.446 8.446 9 9 9H15Z",fill:Ht(t),stroke:Ht(t),strokeWidth:"2"})]}),{width:24})}),lt=ee().memo(function(e){var t=e.theme;return Ce((0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("path",{d:"m 5.000004,16.999996 c 0,0.554 0.446,1 1,1 h 3 c 0.554,0 1,-0.446 1,-1 v -10 c 0,-0.554 -0.446,-1 -1,-1 h -3 c -0.554,0 -1,0.446 -1,1 z m 9,-2 c 0,0.554 0.446,1 1,1 h 3 c 0.554,0 1,-0.446 1,-1 v -6 c 0,-0.554 -0.446,-1 -1,-1 h -3 c -0.554,0 -1,0.446 -1,1 z",fill:Ht(t),stroke:Ht(t),strokeWidth:"2"}),(0,p.jsx)("path",{d:"M 2,12 H 22",fill:"var(--icon-fill-color)",stroke:"var(--icon-fill-color)",strokeWidth:"2",strokeDasharray:"1, 2.8",strokeLinecap:"round"})]}),{width:24,mirror:!0})}),zf=ee().memo(function(e){var t=e.theme;return Ce((0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("path",{d:"M 7 5 C 6.446 5 6 5.446 6 6 L 6 9 C 6 9.554 6.446 10 7 10 L 17 10 C 17.554 10 18 9.554 18 9 L 18 6 C 18 5.446 17.554 5 17 5 L 7 5 z M 9 14 C 8.446 14 8 14.446 8 15 L 8 18 C 8 18.554 8.446 19 9 19 L 15 19 C 15.554 19 16 18.554 16 18 L 16 15 C 16 14.446 15.554 14 15 14 L 9 14 z ",fill:Ht(t),stroke:Ht(t),strokeWidth:"2"}),(0,p.jsx)("path",{d:"M 12,2 V 22",fill:"var(--icon-fill-color)",stroke:"var(--icon-fill-color)",strokeWidth:"2",strokeDasharray:"1, 2.8",strokeLinecap:"round"})]}),{width:24})}),Xn=Ce("M192 256c61.9 0 112-50.1 112-112S253.9 32 192 32 80 82.1 80 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C51.6 288 0 339.6 0 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zM480 256c53 0 96-43 96-96s-43-96-96-96-96 43-96 96 43 96 96 96zm48 32h-3.8c-13.9 4.8-28.6 8-44.2 8s-30.3-3.2-44.2-8H432c-20.4 0-39.2 5.9-55.7 15.4 24.4 26.3 39.7 61.2 39.7 99.8v38.4c0 2.2-.5 4.3-.6 6.4H592c26.5 0 48-21.5 48-48 0-61.9-50.1-112-112-112z",{width:640,height:512,mirror:!0}),Qt=(Ce("M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm115.7 272l-176 101c-15.8 8.8-35.7-2.5-35.7-21V152c0-18.4 19.8-29.8 35.7-21l176 107c16.4 9.2 16.4 32.9 0 42z"),Ce("M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm96 328c0 8.8-7.2 16-16 16H176c-8.8 0-16-7.2-16-16V176c0-8.8 7.2-16 16-16h160c8.8 0 16 7.2 16 16v160z"),Ce("M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z",{width:352,height:512})),Bo=Ce("M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z",{width:320,height:512,style:{marginLeft:"-0.2rem"},mirror:!0}),Nf=Ce("M464 0c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48H176c-26.51 0-48-21.49-48-48V48c0-26.51 21.49-48 48-48h288M176 416c-44.112 0-80-35.888-80-80V128H48c-26.51 0-48 21.49-48 48v288c0 26.51 21.49 48 48 48h288c26.51 0 48-21.49 48-48v-48H176z",{mirror:!0}),Ec=(Ce("M11.553 22.894a.998.998 0 00.894 0s3.037-1.516 5.465-4.097C19.616 16.987 21 14.663 21 12V5a1 1 0 00-.649-.936l-8-3a.998.998 0 00-.702 0l-8 3A1 1 0 003 5v7c0 2.663 1.384 4.987 3.088 6.797 2.428 2.581 5.465 4.097 5.465 4.097zm-1.303-8.481l6.644-6.644a.856.856 0 111.212 1.212l-7.25 7.25a.856.856 0 01-1.212 0l-3.75-3.75a.856.856 0 111.212-1.212l3.144 3.144z",{width:24}),Ce("M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM332.1 128H256V51.9l76.1 76.1zM48 464V48h160v104c0 13.3 10.7 24 24 24h104v288H48zm32-48h224V288l-23.5-23.5c-4.7-4.7-12.3-4.7-17 0L176 352l-39.5-39.5c-4.7-4.7-12.3-4.7-17 0L80 352v64zm48-240c-26.5 0-48 21.5-48 48s21.5 48 48 48 48-21.5 48-48-21.5-48-48-48z",{width:384,height:512})),go=ee().memo(function(e){var t=e.theme;return Ce((0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("path",{d:"M25 26H111V111H25",fill:"var(--icon-fill-color)"}),(0,p.jsx)("path",{d:"M25 111C25 80.2068 25 49.4135 25 26M25 26C48.6174 26 72.2348 26 111 26H25ZM25 26C53.3671 26 81.7343 26 111 26H25ZM111 26C111 52.303 111 78.606 111 111V26ZM111 26C111 51.2947 111 76.5893 111 111V26ZM111 111C87.0792 111 63.1585 111 25 111H111ZM111 111C87.4646 111 63.9293 111 25 111H111ZM25 111C25 81.1514 25 51.3028 25 26V111Z",stroke:"var(--icon-fill-color)",strokeWidth:"2"}),(0,p.jsx)("path",{d:"M100 100H160V160H100",fill:"var(--icon-fill-color)"}),(0,p.jsx)("path",{d:"M100 160C100 144.106 100 128.211 100 100M100 100C117.706 100 135.412 100 160 100H100ZM100 100C114.214 100 128.428 100 160 100H100ZM160 100C160 120.184 160 140.369 160 160V100ZM160 100C160 113.219 160 126.437 160 160V100ZM160 160C145.534 160 131.068 160 100 160H160ZM160 160C143.467 160 126.934 160 100 160H160ZM100 160C100 143.661 100 127.321 100 100V160Z",stroke:"var(--icon-fill-color)",strokeWidth:"2"}),(0,p.jsxs)("g",{fill:ad(t),stroke:"var(--icon-fill-color)",strokeWidth:"6",children:[(0,p.jsx)("rect",{x:"2.5",y:"2.5",width:"30",height:"30"}),(0,p.jsx)("rect",{x:"2.5",y:"149.5",width:"30",height:"30"}),(0,p.jsx)("rect",{x:"147.5",y:"149.5",width:"30",height:"30"}),(0,p.jsx)("rect",{x:"147.5",y:"2.5",width:"30",height:"30"})]})]}),{width:182,height:182,mirror:!0})}),vd=ee().memo(function(e){var t=e.theme;return Ce((0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("path",{d:"M25 26H111V111H25",fill:"var(--icon-fill-color)"}),(0,p.jsx)("path",{d:"M25 111C25 80.2068 25 49.4135 25 26M25 26C48.6174 26 72.2348 26 111 26H25ZM25 26C53.3671 26 81.7343 26 111 26H25ZM111 26C111 52.303 111 78.606 111 111V26ZM111 26C111 51.2947 111 76.5893 111 111V26ZM111 111C87.0792 111 63.1585 111 25 111H111ZM111 111C87.4646 111 63.9293 111 25 111H111ZM25 111C25 81.1514 25 51.3028 25 26V111Z",stroke:"var(--icon-fill-color)",strokeWidth:"2"}),(0,p.jsx)("path",{d:"M100 100H160V160H100",fill:"var(--icon-fill-color)"}),(0,p.jsx)("path",{d:"M100 160C100 144.106 100 128.211 100 100M100 100C117.706 100 135.412 100 160 100H100ZM100 100C114.214 100 128.428 100 160 100H100ZM160 100C160 120.184 160 140.369 160 160V100ZM160 100C160 113.219 160 126.437 160 160V100ZM160 160C145.534 160 131.068 160 100 160H160ZM160 160C143.467 160 126.934 160 100 160H160ZM100 160C100 143.661 100 127.321 100 100V160Z",stroke:"var(--icon-fill-color)",strokeWidth:"2"}),(0,p.jsxs)("g",{fill:ad(t),stroke:"var(--icon-fill-color)",strokeWidth:"6",children:[(0,p.jsx)("rect",{x:"2.5",y:"2.5",width:"30",height:"30"}),(0,p.jsx)("rect",{x:"78.5",y:"149.5",width:"30",height:"30"}),(0,p.jsx)("rect",{x:"147.5",y:"149.5",width:"30",height:"30"}),(0,p.jsx)("rect",{x:"147.5",y:"78.5",width:"30",height:"30"}),(0,p.jsx)("rect",{x:"105.5",y:"2.5",width:"30",height:"30"}),(0,p.jsx)("rect",{x:"2.5",y:"102.5",width:"30",height:"30"})]})]}),{width:182,height:182,mirror:!0})}),$l=ee().memo(function(e){return e.theme,Ce((0,p.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.101 16H28.0934L36 8.95989V4H33.5779L20.101 16ZM30.5704 4L17.0935 16H9.10101L22.5779 4H30.5704ZM19.5704 4L6.09349 16H4V10.7475L11.5779 4H19.5704ZM8.57036 4H4V8.06952L8.57036 4ZM36 11.6378L31.101 16H36V11.6378ZM2 2V18H38V2H2Z",fill:"var(--icon-fill-color)"}),{width:40,height:20})}),Jt=ee().memo(function(e){return e.theme,Ce((0,p.jsxs)("g",{fill:"var(--icon-fill-color)",fillRule:"evenodd",clipRule:"evenodd",children:[(0,p.jsx)("path",{d:"M20.101 16H28.0934L36 8.95989V4H33.5779L20.101 16ZM30.5704 4L17.0935 16H9.10101L22.5779 4H30.5704ZM19.5704 4L6.09349 16H4V10.7475L11.5779 4H19.5704ZM8.57036 4H4V8.06952L8.57036 4ZM36 11.6378L31.101 16H36V11.6378ZM2 2V18H38V2H2Z"}),(0,p.jsx)("path",{d:"M14.0001 18L3.00006 4.00002L4.5727 2.76438L15.5727 16.7644L14.0001 18ZM25.0001 18L14.0001 4.00002L15.5727 2.76438L26.5727 16.7644L25.0001 18ZM36.0001 18L25.0001 4.00002L26.5727 2.76438L37.5727 16.7644L36.0001 18Z"})]}),{width:40,height:20})}),sn=ee().memo(function(e){return e.theme,Ce((0,p.jsx)("path",{d:"M2 2H38V18H2V2Z",fill:"var(--icon-fill-color)"}),{width:40,height:20})}),Ql=ee().memo(function(e){e.theme;var t=e.strokeWidth;return Ce((0,p.jsx)("path",{d:"M6 10H32",stroke:"var(--icon-fill-color)",strokeWidth:t,strokeLinecap:"round",fill:"none"}),{width:40,height:20})}),bd=ee().memo(function(e){return e.theme,Ce((0,p.jsx)("path",{d:"M6 10H34",stroke:"var(--icon-fill-color)",strokeWidth:2,fill:"none",strokeLinecap:"round"}),{width:40,height:20})}),Za=ee().memo(function(e){return e.theme,Ce((0,p.jsx)("path",{d:"M6 10H34",stroke:"var(--icon-fill-color)",strokeWidth:2.5,strokeDasharray:"10, 8",fill:"none",strokeLinecap:"round"}),{width:40,height:20})}),Sc=ee().memo(function(e){return e.theme,Ce((0,p.jsx)("path",{d:"M6 10H36",stroke:"var(--icon-fill-color)",strokeWidth:2.5,strokeDasharray:"2, 4.5",fill:"none",strokeLinecap:"round"}),{width:40,height:20})}),yd=ee().memo(function(e){return e.theme,Ce((0,p.jsx)("path",{d:"M3.00098 16.1691C6.28774 13.9744 19.6399 2.8905 22.7215 3.00082C25.8041 3.11113 19.1158 15.5488 21.4962 16.8309C23.8757 18.1131 34.4155 11.7148 37.0001 10.6919",stroke:"var(--icon-fill-color)",strokeWidth:2,strokeLinecap:"round",fill:"none"}),{width:40,height:20,mirror:!0})}),Jl=ee().memo(function(e){return e.theme,Ce((0,p.jsx)("path",{d:"M3 17C6.68158 14.8752 16.1296 9.09849 22.0648 6.54922C28 3.99995 22.2896 13.3209 25 14C27.7104 14.6791 36.3757 9.6471 36.3757 9.6471M6.40706 15C13 11.1918 20.0468 1.51045 23.0234 3.0052C26 4.49995 20.457 12.8659 22.7285 16.4329C25 20 36.3757 13 36.3757 13",stroke:"var(--icon-fill-color)",strokeWidth:2,strokeLinecap:"round",fill:"none"}),{width:40,height:20,mirror:!0})}),ar=ee().memo(function(e){return e.theme,Ce((0,p.jsx)("path",{d:"M3 15.6468C6.93692 13.5378 22.5544 2.81528 26.6206 3.00242C30.6877 3.18956 25.6708 15.3346 27.4009 16.7705C29.1309 18.2055 35.4001 12.4762 37 11.6177M3.97143 10.4917C6.61158 9.24563 16.3706 2.61886 19.8104 3.01724C23.2522 3.41472 22.0773 12.2013 24.6181 12.8783C27.1598 13.5536 33.3179 8.04068 35.0571 7.07244",stroke:"var(--icon-fill-color)",strokeWidth:2,strokeLinecap:"round",fill:"none"}),{width:40,height:20,mirror:!0})}),Gi=ee().memo(function(e){return e.theme,Ce((0,p.jsx)("path",{d:"M10 17L10 5L35 5",stroke:"var(--icon-fill-color)",strokeWidth:2,strokeLinecap:"round",fill:"none"}),{width:40,height:20,mirror:!0})}),Hf=ee().memo(function(e){return e.theme,Ce((0,p.jsx)("path",{d:"M10 17V15C10 8 13 5 21 5L33.5 5",stroke:"var(--icon-fill-color)",strokeWidth:2,strokeLinecap:"round",fill:"none"}),{width:40,height:20,mirror:!0})}),xd=ee().memo(function(e){return e.theme,Ce((0,p.jsx)("path",{d:"M6 10H34",stroke:"var(--icon-fill-color)",strokeWidth:2,fill:"none"}),{width:40,height:20})}),jc=ee().memo(function(e){e.theme;var t=e.flip,n=t!==void 0&&t;return Ce((0,p.jsxs)("g",{transform:n?"translate(40, 0) scale(-1, 1)":"",stroke:"var(--icon-fill-color)",strokeWidth:2,fill:"none",children:[(0,p.jsx)("path",{d:"M34 10H6M34 10L27 5M34 10L27 15"}),(0,p.jsx)("path",{d:"M27.5 5L34.5 10L27.5 15"})]}),{width:40,height:20})}),qr=ee().memo(function(e){e.theme;var t=e.flip,n=t!==void 0&&t;return Ce((0,p.jsxs)("g",{stroke:"var(--icon-fill-color)",fill:"var(--icon-fill-color)",transform:n?"translate(40, 0) scale(-1, 1)":"",children:[(0,p.jsx)("path",{d:"M32 10L6 10",strokeWidth:2}),(0,p.jsx)("circle",{r:"4",transform:"matrix(-1 0 0 1 30 10)"})]}),{width:40,height:20})}),ct=ee().memo(function(e){e.theme;var t=e.flip,n=t!==void 0&&t;return Ce((0,p.jsx)("g",{transform:n?"translate(40, 0) scale(-1, 1)":"",children:(0,p.jsx)("path",{d:"M34 10H5.99996M34 10L34 5M34 10L34 15",stroke:"var(--icon-fill-color)",strokeWidth:2,fill:"none"})}),{width:40,height:20})}),Cc=ee().memo(function(e){e.theme;var t=e.flip,n=t!==void 0&&t;return Ce((0,p.jsxs)("g",{stroke:"var(--icon-fill-color)",fill:"var(--icon-fill-color)",transform:n?"translate(40, 0) scale(-1, 1)":"",children:[(0,p.jsx)("path",{d:"M32 10L6 10",strokeWidth:2}),(0,p.jsx)("path",{d:"M27.5 5.5L34.5 10L27.5 14.5L27.5 5.5"})]}),{width:40,height:20})}),wr=ee().memo(function(e){return e.theme,Ce((0,p.jsx)("path",{fill:"var(--icon-fill-color)",d:"M 0 69.092 L 0 55.03 A 124.24 124.24 0 0 0 4.706 57.02 Q 6.826 57.863 8.708 58.5 A 53.466 53.466 0 0 0 12.231 59.571 Q 17.236 60.889 21.387 60.889 A 20.909 20.909 0 0 0 24.265 60.704 Q 25.719 60.502 26.903 60.077 A 8.649 8.649 0 0 0 29.028 58.985 Q 31.689 57.08 31.689 53.321 Q 31.689 51.221 30.518 49.585 A 10.126 10.126 0 0 0 29.282 48.177 Q 28.352 47.287 27.075 46.436 A 23.719 23.719 0 0 0 25.752 45.627 Q 23.774 44.492 20.176 42.735 A 254.44 254.44 0 0 0 17.822 41.602 Q 11.503 38.631 8.236 35.888 A 19.742 19.742 0 0 1 8.008 35.694 A 22.18 22.18 0 0 1 2.783 29.102 Q 0.83 25.342 0.83 20.313 A 22.471 22.471 0 0 1 1.733 13.778 A 17.283 17.283 0 0 1 7.251 5.42 A 21.486 21.486 0 0 1 15.177 1.272 Q 18.361 0.338 22.166 0.09 A 43.573 43.573 0 0 1 25 0 A 42.399 42.399 0 0 1 34.349 1.01 A 39.075 39.075 0 0 1 35.62 1.319 A 67.407 67.407 0 0 1 42.108 3.382 A 83.357 83.357 0 0 1 46.191 5.03 L 41.309 16.797 Q 35.596 14.453 31.86 13.526 A 30.762 30.762 0 0 0 25.417 12.612 A 28.337 28.337 0 0 0 24.512 12.598 A 14.846 14.846 0 0 0 22.022 12.793 Q 19.498 13.224 17.92 14.6 Q 15.625 16.602 15.625 19.824 Q 15.625 21.826 16.553 23.316 Q 17.48 24.805 19.507 26.197 A 18.343 18.343 0 0 0 20.659 26.912 Q 22.596 28.035 26.516 29.953 A 299.99 299.99 0 0 0 29.102 31.201 Q 37.91 35.412 41.841 39.642 A 16.553 16.553 0 0 1 42.822 40.796 A 17.675 17.675 0 0 1 46.301 49.233 A 23.517 23.517 0 0 1 46.533 52.588 A 21.581 21.581 0 0 1 45.471 59.515 A 17.733 17.733 0 0 1 39.575 67.823 Q 33.745 72.486 24.094 73.243 A 49.683 49.683 0 0 1 20.215 73.389 A 51.712 51.712 0 0 1 9.448 72.315 A 40.672 40.672 0 0 1 0 69.092 Z"}),{width:47,height:77})}),wd=ee().memo(function(e){return e.theme,Ce((0,p.jsx)("path",{fill:"var(--icon-fill-color)",d:"M 44.092 71.387 L 30.225 71.387 L 13.037 15.381 L 12.598 15.381 A 1505.093 1505.093 0 0 1 12.959 22.313 Q 13.426 31.715 13.508 36.4 A 102.991 102.991 0 0 1 13.525 38.184 L 13.525 71.387 L 0 71.387 L 0 0 L 20.605 0 L 37.5 54.59 L 37.793 54.59 L 55.713 0 L 76.318 0 L 76.318 71.387 L 62.207 71.387 L 62.207 37.598 Q 62.207 35.205 62.28 32.08 A 160.703 160.703 0 0 1 62.326 30.544 Q 62.452 26.754 62.866 17.168 A 5390.536 5390.536 0 0 1 62.939 15.479 L 62.5 15.479 L 44.092 71.387 Z"}),{width:77,height:75})}),Tt=ee().memo(function(e){return e.theme,Ce((0,p.jsx)("path",{fill:"var(--icon-fill-color)",d:"M 44.092 71.387 L 0 71.387 L 0 0 L 15.137 0 L 15.137 58.887 L 44.092 58.887 L 44.092 71.387 Z"}),{width:45,height:75})}),Bf=ee().memo(function(e){return e.theme,Ce((0,p.jsx)("path",{fill:"var(--icon-fill-color)",d:"M 42.578 35.4 L 66.699 71.387 L 49.414 71.387 L 32.813 44.385 L 16.211 71.387 L 0 71.387 L 23.682 34.57 L 1.514 0 L 18.213 0 L 33.594 25.684 L 48.682 0 L 64.99 0 L 42.578 35.4 Z M 119.775 71.387 L 75.684 71.387 L 75.684 0 L 90.82 0 L 90.82 58.887 L 119.775 58.887 L 119.775 71.387 Z"}),{width:120,height:75})}),kd=ee().memo(function(e){return e.theme,Ce((0,p.jsx)("path",{fill:"var(--icon-fill-color)",d:"M290.74 93.24l128.02 128.02-277.99 277.99-114.14 12.6C11.35 513.54-1.56 500.62.14 485.34l12.7-114.22 277.9-277.88zm207.2-19.06l-60.11-60.11c-18.75-18.75-49.16-18.75-67.91 0l-56.55 56.55 128.02 128.02 56.55-56.55c18.75-18.76 18.75-49.16 0-67.91z"}),{width:448,height:512})}),es=ee().memo(function(e){return e.theme,Ce((0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("path",{fill:"var(--icon-fill-color)",d:"M 63.818 71.68 L 54.492 71.68 L 45.898 49.561 L 17.578 49.561 L 9.082 71.68 L 0 71.68 L 27.881 0 L 35.986 0 L 63.818 71.68 Z M 20.605 41.602 L 43.213 41.602 L 35.205 19.971 L 31.787 9.277 Q 30.322 15.137 28.711 19.971 L 20.605 41.602 Z"}),(0,p.jsx)("path",{fill:"var(--icon-fill-color)",d:"M 68.994 71.68 L 52.686 71.68 L 47.51 54.688 L 21.484 54.688 L 16.309 71.68 L 0 71.68 L 25.195 0 L 43.701 0 L 68.994 71.68 Z M 25.293 41.992 L 43.896 41.992 A 27590.463 27590.463 0 0 1 42.2 36.532 Q 36.965 19.676 35.937 16.273 A 120.932 120.932 0 0 1 35.815 15.869 A 131.65 131.65 0 0 1 35.396 14.435 Q 34.951 12.879 34.675 11.741 A 34.866 34.866 0 0 1 34.521 11.084 A 141.762 141.762 0 0 1 33.706 14.075 Q 31.482 21.957 25.293 41.992 Z"})]}),{width:70,height:78})}),Ff=ee().memo(function(e){return e.theme,Ce((0,p.jsx)(p.Fragment,{children:(0,p.jsx)("path",{fill:"var(--icon-fill-color)",d:"M278.9 511.5l-61-17.7c-6.4-1.8-10-8.5-8.2-14.9L346.2 8.7c1.8-6.4 8.5-10 14.9-8.2l61 17.7c6.4 1.8 10 8.5 8.2 14.9L293.8 503.3c-1.9 6.4-8.5 10.1-14.9 8.2zm-114-112.2l43.5-46.4c4.6-4.9 4.3-12.7-.8-17.2L117 256l90.6-79.7c5.1-4.5 5.5-12.3.8-17.2l-43.5-46.4c-4.5-4.8-12.1-5.1-17-.5L3.8 247.2c-5.1 4.7-5.1 12.8 0 17.5l144.1 135.1c4.9 4.6 12.5 4.4 17-.5zm327.2.6l144.1-135.1c5.1-4.7 5.1-12.8 0-17.5L492.1 112.1c-4.8-4.5-12.4-4.3-17 .5L431.6 159c-4.6 4.9-4.3 12.7.8 17.2L523 256l-90.6 79.7c-5.1 4.5-5.5 12.3-.8 17.2l43.5 46.4c4.5 4.9 12.1 5.1 17 .6z"})}),{width:640,height:512})}),Uf=ee().memo(function(e){return e.theme,Ce((0,p.jsx)("path",{d:"M12.83 352h262.34A12.82 12.82 0 00288 339.17v-38.34A12.82 12.82 0 00275.17 288H12.83A12.82 12.82 0 000 300.83v38.34A12.82 12.82 0 0012.83 352zm0-256h262.34A12.82 12.82 0 00288 83.17V44.83A12.82 12.82 0 00275.17 32H12.83A12.82 12.82 0 000 44.83v38.34A12.82 12.82 0 0012.83 96zM432 160H16a16 16 0 00-16 16v32a16 16 0 0016 16h416a16 16 0 0016-16v-32a16 16 0 00-16-16zm0 256H16a16 16 0 00-16 16v32a16 16 0 0016 16h416a16 16 0 0016-16v-32a16 16 0 00-16-16z",fill:"var(--icon-fill-color)",strokeLinecap:"round"}),{width:448,height:512})}),Kf=ee().memo(function(e){return e.theme,Ce((0,p.jsx)("path",{d:"M432 160H16a16 16 0 00-16 16v32a16 16 0 0016 16h416a16 16 0 0016-16v-32a16 16 0 00-16-16zm0 256H16a16 16 0 00-16 16v32a16 16 0 0016 16h416a16 16 0 0016-16v-32a16 16 0 00-16-16zM108.1 96h231.81A12.09 12.09 0 00352 83.9V44.09A12.09 12.09 0 00339.91 32H108.1A12.09 12.09 0 0096 44.09V83.9A12.1 12.1 0 00108.1 96zm231.81 256A12.09 12.09 0 00352 339.9v-39.81A12.09 12.09 0 00339.91 288H108.1A12.09 12.09 0 0096 300.09v39.81a12.1 12.1 0 0012.1 12.1z",fill:"var(--icon-fill-color)"}),{width:448,height:512})}),Wf=ee().memo(function(e){return e.theme,Ce((0,p.jsx)("path",{d:"M16 224h416a16 16 0 0016-16v-32a16 16 0 00-16-16H16a16 16 0 00-16 16v32a16 16 0 0016 16zm416 192H16a16 16 0 00-16 16v32a16 16 0 0016 16h416a16 16 0 0016-16v-32a16 16 0 00-16-16zm3.17-384H172.83A12.82 12.82 0 00160 44.83v38.34A12.82 12.82 0 00172.83 96h262.34A12.82 12.82 0 00448 83.17V44.83A12.82 12.82 0 00435.17 32zm0 256H172.83A12.82 12.82 0 00160 300.83v38.34A12.82 12.82 0 00172.83 352h262.34A12.82 12.82 0 00448 339.17v-38.34A12.82 12.82 0 00435.17 288z",fill:"var(--icon-fill-color)",strokeLinecap:"round"}),{width:448,height:512})}),Oc=Ce((0,p.jsx)("path",{d:"M537.6 226.6c4.1-10.7 6.4-22.4 6.4-34.6 0-53-43-96-96-96-19.7 0-38.1 6-53.3 16.2C367 64.2 315.3 32 256 32c-88.4 0-160 71.6-160 160 0 2.7.1 5.4.2 8.1C40.2 219.8 0 273.2 0 336c0 79.5 64.5 144 144 144h368c70.7 0 128-57.3 128-128 0-61.9-44-113.6-102.4-125.4zM393.4 288H328v112c0 8.8-7.2 16-16 16h-48c-8.8 0-16-7.2-16-16V288h-65.4c-14.3 0-21.4-17.2-11.3-27.3l105.4-105.4c6.2-6.2 16.4-6.2 22.6 0l105.4 105.4c10.1 10.1 2.9 27.3-11.3 27.3z",fill:"currentColor"}),{width:640,height:512}),Ic=Ce((0,p.jsx)("path",{fill:"currentColor",d:"M402.3 344.9l32-32c5-5 13.7-1.5 13.7 5.7V464c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V112c0-26.5 21.5-48 48-48h273.5c7.1 0 10.7 8.6 5.7 13.7l-32 32c-1.5 1.5-3.5 2.3-5.7 2.3H48v352h352V350.5c0-2.1.8-4.1 2.3-5.6zm156.6-201.8L296.3 405.7l-90.4 10c-26.2 2.9-48.5-19.2-45.6-45.6l10-90.4L432.9 17.1c22.9-22.9 59.9-22.9 82.7 0l43.2 43.2c22.9 22.9 22.9 60 .1 82.8zM460.1 174L402 115.9 216.2 301.8l-7.3 65.3 65.3-7.3L460.1 174zm64.8-79.7l-43.2-43.2c-4.1-4.1-10.8-4.1-14.8 0L436 82l58.1 58.1 30.9-30.9c4-4.2 4-10.8-.1-14.9z"}),{width:640,height:512}),Zi=function(e){return e==="rectangle"||e==="ellipse"||e==="diamond"||e==="line"||e==="freedraw"},Tc=function(e){return e!=="image"},_d=function(e){return e==="rectangle"||e==="ellipse"||e==="diamond"||e==="freedraw"||e==="arrow"||e==="line"},xn=function(e){return e==="rectangle"||e==="ellipse"||e==="diamond"||e==="arrow"||e==="line"},Ln=function(e){return e==="rectangle"||e==="arrow"||e==="line"||e==="diamond"},Ed=function(e){return e==="text"},Ya=function(e){return e==="arrow"},Vf=function(e,t){for(var n=null,r=e.length-1;r>=0;--r){var o=e[r];if(!o.isDeleted&&t(o)){n=o;break}}return n},Gf=function(e,t){return e.filter(function(n){return!n.isDeleted&&t(n)})},Mc=function(e,t,n){for(var r=null,o=e.length-1;o>=0;--o)if(!e[o].isDeleted){var a=R(pt(e[o]),4),l=a[0],c=a[1],s=a[2],f=a[3];if(l<t&&t<s&&c<n&&n<f){r=e[o];break}}return r},ts=[],Ie=function(e){return ts=ts.concat(e),e};function pi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Rt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pi(Object(n),!0).forEach(function(r){F(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pi(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var lr=function(e,t,n){var r=arguments.length>3&&arguments[3]!==void 0&&arguments[3],o=tr(ge(e,t,r));return e.map(function(a){var l;return o.get(a.id)||a.id===((l=t.editingElement)===null||l===void 0?void 0:l.id)?n(a):a})},qn=function(e,t,n,r){var o,a,l=t.editingElement,c=Y(e);return(o=(a=l&&n(l))!==null&&a!==void 0?a:ne(c,t)?xe(c,t,n):r)!==null&&o!==void 0?o:null},Pc=function(e,t,n,r){var o=new Set;return{elements:lr(e,t,function(a){if(St(a)){var l=n(a);o.add(l);var c=It(a,{fontSize:l});return ln(c,Kr(a)),s=a,c=dr(f=c)?f:je(f,{x:s.textAlign==="left"?s.x:s.x+(s.width-f.width)/(s.textAlign==="center"?2:1),y:s.y+(s.height-f.height)/2},!1)}var s,f;return a},!0),appState:Rt(Rt({},t),{},{currentItemFontSize:o.size===1?fe(o)[0]:r!=null?r:t.currentItemFontSize}),commitToHistory:!0}},Sd=(Ie({name:"changeStrokeColor",perform:function(e,t,n){return Rt(Rt({},n.currentItemStrokeColor&&{elements:lr(e,t,function(r){return Tc(r.type)?It(r,{strokeColor:n.currentItemStrokeColor}):r},!0)}),{},{appState:Rt(Rt({},t),n),commitToHistory:!!n.currentItemStrokeColor})},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("h3",{"aria-hidden":"true",children:S("labels.stroke")}),(0,p.jsx)(xc,{type:"elementStroke",label:S("labels.stroke"),color:qn(t,n,function(o){return o.strokeColor},n.currentItemStrokeColor),onChange:function(o){return r({currentItemStrokeColor:o})},isActive:n.openPopup==="strokeColorPicker",setActive:function(o){return r({openPopup:o?"strokeColorPicker":null})}})]})}}),Ie({name:"changeBackgroundColor",perform:function(e,t,n){return Rt(Rt({},n.currentItemBackgroundColor&&{elements:lr(e,t,function(r){return It(r,{backgroundColor:n.currentItemBackgroundColor})})}),{},{appState:Rt(Rt({},t),n),commitToHistory:!!n.currentItemBackgroundColor})},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("h3",{"aria-hidden":"true",children:S("labels.background")}),(0,p.jsx)(xc,{type:"elementBackground",label:S("labels.background"),color:qn(t,n,function(o){return o.backgroundColor},n.currentItemBackgroundColor),onChange:function(o){return r({currentItemBackgroundColor:o})},isActive:n.openPopup==="backgroundColorPicker",setActive:function(o){return r({openPopup:o?"backgroundColorPicker":null})}})]})}}),Ie({name:"changeFillStyle",perform:function(e,t,n){return{elements:lr(e,t,function(r){return It(r,{fillStyle:n})}),appState:Rt(Rt({},t),{},{currentItemFillStyle:n}),commitToHistory:!0}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,p.jsxs)("fieldset",{children:[(0,p.jsx)("legend",{children:S("labels.fill")}),(0,p.jsx)(Ho,{options:[{value:"hachure",text:S("labels.hachure"),icon:(0,p.jsx)($l,{theme:n.theme})},{value:"cross-hatch",text:S("labels.crossHatch"),icon:(0,p.jsx)(Jt,{theme:n.theme})},{value:"solid",text:S("labels.solid"),icon:(0,p.jsx)(sn,{theme:n.theme})}],group:"fill",value:qn(t,n,function(o){return o.fillStyle},n.currentItemFillStyle),onChange:function(o){r(o)}})]})}}),Ie({name:"changeStrokeWidth",perform:function(e,t,n){return{elements:lr(e,t,function(r){return It(r,{strokeWidth:n})}),appState:Rt(Rt({},t),{},{currentItemStrokeWidth:n}),commitToHistory:!0}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,p.jsxs)("fieldset",{children:[(0,p.jsx)("legend",{children:S("labels.strokeWidth")}),(0,p.jsx)(Ho,{group:"stroke-width",options:[{value:1,text:S("labels.thin"),icon:(0,p.jsx)(Ql,{theme:n.theme,strokeWidth:2})},{value:2,text:S("labels.bold"),icon:(0,p.jsx)(Ql,{theme:n.theme,strokeWidth:6})},{value:4,text:S("labels.extraBold"),icon:(0,p.jsx)(Ql,{theme:n.theme,strokeWidth:10})}],value:qn(t,n,function(o){return o.strokeWidth},n.currentItemStrokeWidth),onChange:function(o){return r(o)}})]})}}),Ie({name:"changeSloppiness",perform:function(e,t,n){return{elements:lr(e,t,function(r){return It(r,{seed:ii(),roughness:n})}),appState:Rt(Rt({},t),{},{currentItemRoughness:n}),commitToHistory:!0}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,p.jsxs)("fieldset",{children:[(0,p.jsx)("legend",{children:S("labels.sloppiness")}),(0,p.jsx)(Ho,{group:"sloppiness",options:[{value:0,text:S("labels.architect"),icon:(0,p.jsx)(yd,{theme:n.theme})},{value:1,text:S("labels.artist"),icon:(0,p.jsx)(Jl,{theme:n.theme})},{value:2,text:S("labels.cartoonist"),icon:(0,p.jsx)(ar,{theme:n.theme})}],value:qn(t,n,function(o){return o.roughness},n.currentItemRoughness),onChange:function(o){return r(o)}})]})}}),Ie({name:"changeStrokeStyle",perform:function(e,t,n){return{elements:lr(e,t,function(r){return It(r,{strokeStyle:n})}),appState:Rt(Rt({},t),{},{currentItemStrokeStyle:n}),commitToHistory:!0}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,p.jsxs)("fieldset",{children:[(0,p.jsx)("legend",{children:S("labels.strokeStyle")}),(0,p.jsx)(Ho,{group:"strokeStyle",options:[{value:"solid",text:S("labels.strokeStyle_solid"),icon:(0,p.jsx)(bd,{theme:n.theme})},{value:"dashed",text:S("labels.strokeStyle_dashed"),icon:(0,p.jsx)(Za,{theme:n.theme})},{value:"dotted",text:S("labels.strokeStyle_dotted"),icon:(0,p.jsx)(Sc,{theme:n.theme})}],value:qn(t,n,function(o){return o.strokeStyle},n.currentItemStrokeStyle),onChange:function(o){return r(o)}})]})}}),Ie({name:"changeOpacity",perform:function(e,t,n){return{elements:lr(e,t,function(r){return It(r,{opacity:n})}),appState:Rt(Rt({},t),{},{currentItemOpacity:n}),commitToHistory:!0}},PanelComponent:function(e){var t,n=e.elements,r=e.appState,o=e.updateData;return(0,p.jsxs)("label",{className:"control-label",children:[S("labels.opacity"),(0,p.jsx)("input",{type:"range",min:"0",max:"100",step:"10",onChange:function(a){return o(+a.target.value)},onWheel:function(a){a.stopPropagation();var l=+a.target.value;a.deltaY<0&&l<100?o(l+10):a.deltaY>0&&l>0&&o(l-10)},value:(t=qn(n,r,function(a){return a.opacity},r.currentItemOpacity))!==null&&t!==void 0?t:void 0})]})}}),Ie({name:"changeFontSize",perform:function(e,t,n){return Pc(e,t,function(){return n},n)},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,p.jsxs)("fieldset",{children:[(0,p.jsx)("legend",{children:S("labels.fontSize")}),(0,p.jsx)(Ho,{group:"font-size",options:[{value:16,text:S("labels.small"),icon:(0,p.jsx)(wr,{theme:n.theme}),testId:"fontSize-small"},{value:20,text:S("labels.medium"),icon:(0,p.jsx)(wd,{theme:n.theme}),testId:"fontSize-medium"},{value:28,text:S("labels.large"),icon:(0,p.jsx)(Tt,{theme:n.theme}),testId:"fontSize-large"},{value:36,text:S("labels.veryLarge"),icon:(0,p.jsx)(Bf,{theme:n.theme}),testId:"fontSize-veryLarge"}],value:qn(t,n,function(o){if(St(o))return o.fontSize;var a=Ur(o);return a?a.fontSize:null},n.currentItemFontSize||C.n5),onChange:function(o){return r(o)}})]})}}),Ie({name:"decreaseFontSize",perform:function(e,t,n){return Pc(e,t,function(r){return Math.round(1/1.1*r.fontSize)})},keyTest:function(e){return e[re.CTRL_OR_CMD]&&e.shiftKey&&(e.key===re.CHEVRON_LEFT||e.key===re.COMMA)}})),jd=Ie({name:"increaseFontSize",perform:function(e,t,n){return Pc(e,t,function(r){return Math.round(1.1*r.fontSize)})},keyTest:function(e){return e[re.CTRL_OR_CMD]&&e.shiftKey&&(e.key===re.CHEVRON_RIGHT||e.key===re.PERIOD)}});Ie({name:"changeFontFamily",perform:function(e,t,n){return{elements:lr(e,t,function(r){if(St(r)){var o=It(r,{fontFamily:n});return ln(o,Kr(r)),o}return r},!0),appState:Rt(Rt({},t),{},{currentItemFontFamily:n}),commitToHistory:!0}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData,o=[{value:C.ut.Virgil,text:S("labels.handDrawn"),icon:(0,p.jsx)(kd,{theme:n.theme})},{value:C.ut.Helvetica,text:S("labels.normal"),icon:(0,p.jsx)(es,{theme:n.theme})},{value:C.ut.Cascadia,text:S("labels.code"),icon:(0,p.jsx)(Ff,{theme:n.theme})}];return(0,p.jsxs)("fieldset",{children:[(0,p.jsx)("legend",{children:S("labels.fontFamily")}),(0,p.jsx)(Ho,{group:"font-family",options:o,value:qn(t,n,function(a){if(St(a))return a.fontFamily;var l=Ur(a);return l?l.fontFamily:null},n.currentItemFontFamily||C.rk),onChange:function(a){return r(a)}})]})}}),Ie({name:"changeTextAlign",perform:function(e,t,n){return{elements:lr(e,t,function(r){if(St(r)){var o=It(r,{textAlign:n});return ln(o,Kr(r)),o}return r},!0),appState:Rt(Rt({},t),{},{currentItemTextAlign:n}),commitToHistory:!0}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,p.jsxs)("fieldset",{children:[(0,p.jsx)("legend",{children:S("labels.textAlign")}),(0,p.jsx)(Ho,{group:"text-align",options:[{value:"left",text:S("labels.left"),icon:(0,p.jsx)(Uf,{theme:n.theme})},{value:"center",text:S("labels.center"),icon:(0,p.jsx)(Kf,{theme:n.theme})},{value:"right",text:S("labels.right"),icon:(0,p.jsx)(Wf,{theme:n.theme})}],value:qn(t,n,function(o){if(St(o))return o.textAlign;var a=Ur(o);return a?a.textAlign:null},n.currentItemTextAlign),onChange:function(o){return r(o)}})]})}}),Ie({name:"changeSharpness",perform:function(e,t,n){var r=Te(Y(e),t),o=r.length?r.every(function(l){return!Bt(l)}):!_o(t.elementType),a=r.length?r.every(Bt):_o(t.elementType);return{elements:lr(e,t,function(l){return It(l,{strokeSharpness:n})}),appState:Rt(Rt({},t),{},{currentItemStrokeSharpness:o?n:t.currentItemStrokeSharpness,currentItemLinearStrokeSharpness:a?n:t.currentItemLinearStrokeSharpness}),commitToHistory:!0}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,p.jsxs)("fieldset",{children:[(0,p.jsx)("legend",{children:S("labels.edges")}),(0,p.jsx)(Ho,{group:"edges",options:[{value:"sharp",text:S("labels.sharp"),icon:(0,p.jsx)(Gi,{theme:n.theme})},{value:"round",text:S("labels.round"),icon:(0,p.jsx)(Hf,{theme:n.theme})}],value:qn(t,n,function(o){return o.strokeSharpness},Ln(n.elementType)&&(_o(n.elementType)?n.currentItemLinearStrokeSharpness:n.currentItemStrokeSharpness)||null),onChange:function(o){return r(o)}})]})}}),Ie({name:"changeArrowhead",perform:function(e,t,n){return{elements:lr(e,t,function(r){if(Bt(r)){var o=n.position,a=n.type;if(o==="start")return It(r,{startArrowhead:a});if(o==="end")return It(r,{endArrowhead:a})}return r}),appState:Rt(Rt({},t),{},F({},n.position==="start"?"currentItemStartArrowhead":"currentItemEndArrowhead",n.type)),commitToHistory:!0}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData,o=ft().rtl;return(0,p.jsxs)("fieldset",{children:[(0,p.jsx)("legend",{children:S("labels.arrowheads")}),(0,p.jsxs)("div",{className:"iconSelectList",children:[(0,p.jsx)(wc,{label:"arrowhead_start",options:[{value:null,text:S("labels.arrowhead_none"),icon:(0,p.jsx)(xd,{theme:n.theme}),keyBinding:"q"},{value:"arrow",text:S("labels.arrowhead_arrow"),icon:(0,p.jsx)(jc,{theme:n.theme,flip:!o}),keyBinding:"w"},{value:"bar",text:S("labels.arrowhead_bar"),icon:(0,p.jsx)(ct,{theme:n.theme,flip:!o}),keyBinding:"e"},{value:"dot",text:S("labels.arrowhead_dot"),icon:(0,p.jsx)(qr,{theme:n.theme,flip:!o}),keyBinding:"r"},{value:"triangle",text:S("labels.arrowhead_triangle"),icon:(0,p.jsx)(Cc,{theme:n.theme,flip:!o}),keyBinding:"t"}],value:qn(t,n,function(a){return Bt(a)&&Ya(a.type)?a.startArrowhead:n.currentItemStartArrowhead},n.currentItemStartArrowhead),onChange:function(a){return r({position:"start",type:a})}}),(0,p.jsx)(wc,{label:"arrowhead_end",group:"arrowheads",options:[{value:null,text:S("labels.arrowhead_none"),keyBinding:"q",icon:(0,p.jsx)(xd,{theme:n.theme})},{value:"arrow",text:S("labels.arrowhead_arrow"),keyBinding:"w",icon:(0,p.jsx)(jc,{theme:n.theme,flip:o})},{value:"bar",text:S("labels.arrowhead_bar"),keyBinding:"e",icon:(0,p.jsx)(ct,{theme:n.theme,flip:o})},{value:"dot",text:S("labels.arrowhead_dot"),keyBinding:"r",icon:(0,p.jsx)(qr,{theme:n.theme,flip:o})},{value:"triangle",text:S("labels.arrowhead_triangle"),icon:(0,p.jsx)(Cc,{theme:n.theme,flip:o}),keyBinding:"t"}],value:qn(t,n,function(a){return Bt(a)&&Ya(a.type)?a.endArrowhead:n.currentItemEndArrowhead},n.currentItemEndArrowhead),onChange:function(a){return r({position:"end",type:a})}})]})]})}}),x(5422);function Zf(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Ac(e,t,n){return Ac=Zf()?Reflect.construct:function(r,o,a){var l=[null];l.push.apply(l,o);var c=new(Function.bind.apply(r,l));return a&&at(c,a.prototype),c},Ac.apply(null,arguments)}function ns(e){var t=typeof Map=="function"?new Map:void 0;return ns=function(n){if(n===null||(r=n,Function.toString.call(r).indexOf("[native code]")===-1))return n;var r;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(t!==void 0){if(t.has(n))return t.get(n);t.set(n,o)}function o(){return Ac(n,arguments,un(this).constructor)}return o.prototype=Object.create(n.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),at(o,n)},ns(e)}function rs(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=un(e);if(t){var o=un(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Yt(this,n)}}var Lc=function(e){kt(n,e);var t=rs(n);function n(){var r,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Couldn't export canvas.",a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"CANVAS_ERROR";return de(this,n),(r=t.call(this)).name=a,r.message=o,r}return Ze(n)}(ns(Error)),Dc=function(e){kt(n,e);var t=rs(n);function n(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Request Aborted";return de(this,n),t.call(this,r,"AbortError")}return Ze(n)}(ns(DOMException)),Cd=(x(371),function(e){var t=e.size,n=t===void 0?"1em":t,r=e.circleWidth,o=r===void 0?8:r;return(0,p.jsx)("div",{className:"Spinner",children:(0,p.jsx)("svg",{viewBox:"0 0 100 100",style:{width:n,height:n},children:(0,p.jsx)("circle",{cx:"50",cy:"50",r:50-o/2,strokeWidth:o,fill:"none",strokeMiterlimit:"10"})})})}),tt=ee().forwardRef(function(e,t){var n=ws().id,r=ee().useRef(null);ee().useImperativeHandle(t,function(){return r.current});var o="ToolIcon_size_".concat(e.size),a=R((0,Q.useState)(!1),2),l=a[0],c=a[1],s=(0,Q.useRef)(!0),f=function(){var b=(0,le.Z)($().mark(function v(y){var k,_;return $().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:if(!(_="onClick"in e&&((k=e.onClick)===null||k===void 0?void 0:k.call(e,y)))||!("then"in _)){j.next=18;break}return j.prev=2,c(!0),j.next=6,_;case 6:j.next=15;break;case 8:if(j.prev=8,j.t0=j.catch(2),j.t0 instanceof Dc){j.next=14;break}throw j.t0;case 14:console.warn(j.t0);case 15:return j.prev=15,s.current&&c(!1),j.finish(15);case 18:case"end":return j.stop()}},v,null,[[2,8,15,18]])}));return function(v){return b.apply(this,arguments)}}();(0,Q.useEffect)(function(){return function(){s.current=!1}},[]);var d=(0,Q.useRef)(null);if(e.type==="button"||e.type==="icon"||e.type==="submit"){var m=e.type==="icon"?"button":e.type;return(0,p.jsxs)("button",{className:mt("ToolIcon_type_button",o,e.className,e.visible&&!e.hidden?"ToolIcon_type_button--show":"ToolIcon_type_button--hide",{ToolIcon:!e.hidden,"ToolIcon--selected":e.selected,"ToolIcon--plain":e.type==="icon"}),"data-testid":e["data-testid"],hidden:e.hidden,title:e.title,"aria-label":e["aria-label"],type:m,onClick:f,ref:r,disabled:l||e.isLoading,children:[(e.icon||e.label)&&(0,p.jsxs)("div",{className:"ToolIcon__icon","aria-hidden":"true",children:[e.icon||e.label,e.keyBindingLabel&&(0,p.jsx)("span",{className:"ToolIcon__keybinding",children:e.keyBindingLabel}),e.isLoading&&(0,p.jsx)(Cd,{})]}),e.showAriaLabel&&(0,p.jsxs)("div",{className:"ToolIcon__label",children:[e["aria-label"]," ",l&&(0,p.jsx)(Cd,{})]}),e.children]})}return(0,p.jsxs)("label",{className:mt("ToolIcon",e.className),title:e.title,onPointerDown:function(b){d.current=b.pointerType||null},onPointerUp:function(){requestAnimationFrame(function(){d.current=null})},children:[(0,p.jsx)("input",{className:"ToolIcon_type_radio ".concat(o),type:"radio",name:e.name,"aria-label":e["aria-label"],"aria-keyshortcuts":e["aria-keyshortcuts"],"data-testid":e["data-testid"],id:"".concat(n,"-").concat(e.id),onChange:function(){var b;(b=e.onChange)===null||b===void 0||b.call(e,{pointerType:d.current})},checked:e.checked,ref:r}),(0,p.jsxs)("div",{className:"ToolIcon__icon",children:[e.icon,e.keyBindingLabel&&(0,p.jsx)("span",{className:"ToolIcon__keybinding",children:e.keyBindingLabel})]})]})});tt.defaultProps={visible:!0,className:"",size:"medium"};var Od=function(e){var t=e.title||(e.value==="dark"?S("buttons.lightMode"):S("buttons.darkMode"));return(0,p.jsx)(tt,{type:"icon",icon:e.value===C.C6.LIGHT?Id.MOON:Id.SUN,title:t,"aria-label":t,onClick:function(){return e.onChange(e.value===C.C6.DARK?C.C6.LIGHT:C.C6.DARK)},"data-testid":"toggle-dark-mode"})},Id={SUN:(0,p.jsx)("svg",{width:"512",height:"512",className:"rtl-mirror",viewBox:"0 0 512 512",children:(0,p.jsx)("path",{fill:"currentColor",d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"})}),MOON:(0,p.jsx)("svg",{width:"512",height:"512",className:"rtl-mirror",viewBox:"0 0 512 512",children:(0,p.jsx)("path",{fill:"currentColor",d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"})})},Dn=function(e){var t=e.scenePoint,n=e.viewportDimensions,r=e.zoom;return{scrollX:n.width/2*(1/r.value)-t.x,scrollY:n.height/2*(1/r.value)-t.y}},hi=function(e,t,n){if(!(e=Z(e)).length)return{scrollX:0,scrollY:0};var r=R(hn(e),4),o=r[0],a=r[1],l=r[2],c=r[3];if(function(d,m,b){var v=R(b,4),y=v[0],k=v[1],_=v[2],j=v[3],M=_e({sceneX:y,sceneY:k},d),P=M.x,N=M.y,U=_e({sceneX:_,sceneY:j},d),V=U.x,q=U.y;return V-P>d.width||q-N>d.height}(t,0,[o,a,l,c])){var s=function(d,m){if(!d.length)return[0,0,0,0];var b=1/0,v=d[0];return d.forEach(function(y){var k=R(Si(y),4),_=k[0],j=k[1],M=k[2],P=k[3],N=fr((_+M)/2,(j+P)/2,m.x,m.y);N<b&&(b=N,v=y)}),Si(v)}(e,te({clientX:t.scrollX,clientY:t.scrollY},t)),f=R(s,4);o=f[0],a=f[1],l=f[2],c=f[3]}return Dn({scenePoint:{x:(o+l)/2,y:(a+c)/2},viewportDimensions:{width:t.width,height:t.height},zoom:t.zoom})},Yi=function(e){return Math.max(.1,Math.min(e,30))},Xi=function(e,t){var n=e.viewportX,r=e.viewportY,o=e.nextZoom,a=n-t.offsetLeft,l=r-t.offsetTop,c=t.zoom.value;return{scrollX:t.scrollX+(a-a/c)+-(a-a/o),scrollY:t.scrollY+(l-l/c)+-(l-l/o),zoom:{value:o}}},mi=(x(6781),function(){var e=document.querySelector(".excalidraw-tooltip");if(e)return e;var t=document.createElement("div");return document.body.appendChild(t),t.classList.add("excalidraw-tooltip"),t}),os=function(e,t){var n,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"bottom",o=e.getBoundingClientRect(),a=window.innerWidth,l=window.innerHeight,c=5,s=t.left+t.width/2-o.width/2;s<0?s=c:s+o.width>=a&&(s=a-o.width-c),r==="bottom"?(n=t.top+t.height+c)+o.height>=l&&(n=t.top-o.height-c):(n=t.top-o.height-c)<0&&(n=t.top+t.height+c),Object.assign(e.style,{top:"".concat(n,"px"),left:"".concat(s,"px")})},is=function(e){var t=e.children,n=e.label,r=e.long,o=r!==void 0&&r,a=e.style;return(0,Q.useEffect)(function(){return function(){return mi().classList.remove("excalidraw-tooltip--visible")}},[]),(0,p.jsx)("div",{className:"excalidraw-tooltip-wrapper",onPointerEnter:function(l){return function(c,s,f,d){s.classList.add("excalidraw-tooltip--visible"),s.style.minWidth=d?"50ch":"10ch",s.style.maxWidth=d?"50ch":"15ch",s.textContent=f;var m=c.getBoundingClientRect();os(s,m)}(l.currentTarget,mi(),n,o)},onPointerLeave:function(){return mi().classList.remove("excalidraw-tooltip--visible")},style:a,children:t})};x(196),x(1106);function Td(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Yf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Td(Object(n),!0).forEach(function(r){F(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Td(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Dr=ee().forwardRef(function(e,t){var n=e.children,r=e.padding,o=e.className,a=e.style;return(0,p.jsx)("div",{className:mt("Island",o),style:Yf({"--padding":r},a),ref:t,children:n})}),Xf=(x(8328),function(e){var t=e.theme,n=t===void 0?C.C6.LIGHT:t,r=e.closeOnClickOutside,o=r===void 0||r,a=qf(n);return a?(0,ro.createPortal)((0,p.jsxs)("div",{className:mt("Modal",e.className),role:"dialog","aria-modal":"true",onKeyDown:function(l){l.key===re.ESCAPE&&(l.nativeEvent.stopImmediatePropagation(),l.stopPropagation(),e.onCloseRequest())},"aria-labelledby":e.labelledBy,children:[(0,p.jsx)("div",{className:"Modal__background",onClick:o?e.onCloseRequest:void 0}),(0,p.jsx)("div",{className:"Modal__content",style:{"--max-width":"".concat(e.maxWidth,"px")},tabIndex:0,children:e.children})]}),a):null}),qf=function(e){var t=R((0,Q.useState)(null),2),n=t[0],r=t[1],o=zr(),a=(0,Q.useRef)(o);a.current=o;var l=ws().container;return(0,Q.useLayoutEffect)(function(){n&&n.classList.toggle("excalidraw--mobile",o)},[n,o]),(0,Q.useLayoutEffect)(function(){var c=!(l==null||!l.classList.contains("theme--dark"))||e==="dark",s=document.createElement("div");return s.classList.add("excalidraw","excalidraw-modal-container"),s.classList.toggle("excalidraw--mobile",a.current),c&&(s.classList.add("theme--dark"),s.classList.add("theme--dark-background-none")),document.body.appendChild(s),r(s),function(){document.body.removeChild(s)}},[l,e]),n},$r=function(e){var t=function(){var f=R((0,Q.useState)(null),2),d=f[0],m=f[1];return[d,(0,Q.useCallback)(function(b){return m(b)},[])]}(),n=R(t,2),r=n[0],o=n[1],a=R((0,Q.useState)(document.activeElement),1)[0],l=ws().id;(0,Q.useEffect)(function(){if(r){var f=c(r);f.length>0&&e.autofocus!==!1&&(f[1]||f[0]).focus();var d=function(m){if(m.key===re.TAB){var b=c(r),v=document.activeElement,y=b.findIndex(function(k){return k===v});y===0&&m.shiftKey?(b[b.length-1].focus(),m.preventDefault()):y!==b.length-1||m.shiftKey||(b[0].focus(),m.preventDefault())}};return r.addEventListener("keydown",d),function(){return r.removeEventListener("keydown",d)}}},[r,e.autofocus]);var c=function(f){var d=f.querySelectorAll("button, a, input, select, textarea, div[tabindex]");return d?Array.from(d):[]},s=function(){a.focus(),e.onCloseRequest()};return(0,p.jsx)(Xf,{className:mt("Dialog",e.className),labelledBy:"dialog-title",maxWidth:e.small?550:800,onCloseRequest:s,theme:e.theme,closeOnClickOutside:e.closeOnClickOutside,children:(0,p.jsxs)(Dr,{ref:o,children:[(0,p.jsxs)("h2",{id:"".concat(l,"-dialog-title"),className:"Dialog__title",children:[(0,p.jsx)("span",{className:"Dialog__titleContent",children:e.title}),(0,p.jsx)("button",{className:"Modal__close",onClick:s,"aria-label":S("buttons.close"),children:zr()?Bo:Qt})]}),(0,p.jsx)("div",{className:"Dialog__content",children:e.children})]})})},Rc=(x(4678),["onConfirm","onCancel","children","confirmText","cancelText","className"]);function Md(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Pd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Md(Object(n),!0).forEach(function(r){F(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Md(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Ad=function(e){var t=e.onConfirm,n=e.onCancel,r=e.children,o=e.confirmText,a=o===void 0?S("buttons.confirm"):o,l=e.cancelText,c=l===void 0?S("buttons.cancel"):l,s=e.className,f=s===void 0?"":s,d=Yn(e,Rc);return(0,p.jsxs)($r,Pd(Pd({onCloseRequest:n,small:!0},d),{},{className:"confirm-dialog ".concat(f),children:[r,(0,p.jsxs)("div",{className:"confirm-dialog-buttons",children:[(0,p.jsx)(tt,{type:"button",title:c,"aria-label":c,label:c,onClick:n,className:"confirm-dialog--cancel"}),(0,p.jsx)(tt,{type:"button",title:a,"aria-label":a,label:a,onClick:t,className:"confirm-dialog--confirm"})]})]}))},$f=function(e){var t=e.onConfirm,n=R((0,Q.useState)(!1),2),r=n[0],o=n[1],a=function(){o(!r)};return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(tt,{type:"button",icon:Zl,title:S("buttons.clearReset"),"aria-label":S("buttons.clearReset"),showAriaLabel:zr(),onClick:a,"data-testid":"clear-canvas-button"}),r&&(0,p.jsx)(Ad,{onConfirm:function(){t(),a()},onCancel:a,title:S("clearCanvasDialog.title"),children:(0,p.jsxs)("p",{className:"clear-canvas__content",children:[" ",S("alerts.clearReset")]})})]})};function as(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Un(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?as(Object(n),!0).forEach(function(r){F(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):as(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}Ie({name:"changeViewBackgroundColor",perform:function(e,t,n){return{appState:Un(Un({},t),n),commitToHistory:!!n.viewBackgroundColor}},PanelComponent:function(e){var t=e.appState,n=e.updateData;return(0,p.jsx)("div",{style:{position:"relative"},children:(0,p.jsx)(xc,{label:S("labels.canvasBackground"),type:"canvasBackground",color:t.viewBackgroundColor,onChange:function(r){return n({viewBackgroundColor:r})},isActive:t.openPopup==="canvasColorPicker",setActive:function(r){return n({openPopup:r?"canvasColorPicker":null})},"data-testid":"canvas-background-picker"})})}}),Ie({name:"clearCanvas",perform:function(e,t,n,r){return r.imageCache.clear(),{elements:e.map(function(o){return It(o,{isDeleted:!0})}),appState:Un(Un({},Oo()),{},{files:{},theme:t.theme,elementLocked:t.elementLocked,penMode:t.penMode,penDetected:t.penDetected,exportBackground:t.exportBackground,exportEmbedScene:t.exportEmbedScene,gridSize:t.gridSize,showStats:t.showStats,pasteDialog:t.pasteDialog,elementType:t.elementType==="image"?"selection":t.elementType}),commitToHistory:!0}},PanelComponent:function(e){var t=e.updateData;return(0,p.jsx)($f,{onConfirm:t})}});var Ld=Ie({name:"zoomIn",perform:function(e,t,n,r){return{appState:Un(Un({},t),Xi({viewportX:t.width/2+t.offsetLeft,viewportY:t.height/2+t.offsetTop,nextZoom:Yi(t.zoom.value+C.V4)},t)),commitToHistory:!1}},PanelComponent:function(e){var t=e.updateData;return(0,p.jsx)(tt,{type:"button",icon:dd,title:"".concat(S("buttons.zoomIn")," \u2014 ").concat(H("CtrlOrCmd++")),"aria-label":S("buttons.zoomIn"),onClick:function(){t(null)},size:"small"})},keyTest:function(e){return(e.code===Zt||e.code===Ds)&&(e[re.CTRL_OR_CMD]||e.shiftKey)}}),Dd=Ie({name:"zoomOut",perform:function(e,t,n,r){return{appState:Un(Un({},t),Xi({viewportX:t.width/2+t.offsetLeft,viewportY:t.height/2+t.offsetTop,nextZoom:Yi(t.zoom.value-C.V4)},t)),commitToHistory:!1}},PanelComponent:function(e){var t=e.updateData;return(0,p.jsx)(tt,{type:"button",icon:fd,title:"".concat(S("buttons.zoomOut")," \u2014 ").concat(H("CtrlOrCmd+-")),"aria-label":S("buttons.zoomOut"),onClick:function(){t(null)},size:"small"})},keyTest:function(e){return(e.code===Co||e.code===hf)&&(e[re.CTRL_OR_CMD]||e.shiftKey)}}),i=(Ie({name:"resetZoom",perform:function(e,t,n,r){return{appState:Un(Un({},t),Xi({viewportX:t.width/2+t.offsetLeft,viewportY:t.height/2+t.offsetTop,nextZoom:Yi(1)},t)),commitToHistory:!1}},PanelComponent:function(e){var t=e.updateData,n=e.appState;return(0,p.jsx)(is,{label:S("buttons.resetZoom"),style:{height:"100%"},children:(0,p.jsxs)(tt,{type:"button",className:"reset-zoom-button",title:S("buttons.resetZoom"),"aria-label":S("buttons.resetZoom"),onClick:function(){t(null)},size:"small",children:[(100*n.zoom.value).toFixed(0),"%"]})})},keyTest:function(e){return(e.code===zs||e.code===Rs)&&(e[re.CTRL_OR_CMD]||e.shiftKey)}}),function(e,t){var n=R(e,4),r=n[0],o=n[1],a=n[2],l=n[3],c=a-r,s=t.width/c,f=l-o,d=t.height/f,m=Math.min(s,d),b=Math.floor(m/C.V4)*C.V4;return Math.min(Math.max(b,C.V4),1)}),u=function(e,t,n){var r=Y(e),o=ge(r,t),a=n&&o.length>0?hn(o):hn(r),l={value:i(a,{width:t.width,height:t.height})},c=R(a,4),s=c[0],f=c[1],d=(s+c[2])/2,m=(f+c[3])/2;return{appState:Un(Un(Un({},t),Dn({scenePoint:{x:d,y:m},viewportDimensions:{width:t.width,height:t.height},zoom:l})),{},{zoom:l}),commitToHistory:!1}},h=(Ie({name:"zoomToSelection",perform:function(e,t){return u(e,t,!0)},keyTest:function(e){return e.code===Ci&&e.shiftKey&&!e.altKey&&!e[re.CTRL_OR_CMD]}}),Ie({name:"zoomToFit",perform:function(e,t){return u(e,t,!1)},keyTest:function(e){return e.code===vl&&e.shiftKey&&!e.altKey&&!e[re.CTRL_OR_CMD]}}),Ie({name:"toggleTheme",perform:function(e,t,n){return{appState:Un(Un({},t),{},{theme:n||(t.theme===C.C6.LIGHT?C.C6.DARK:C.C6.LIGHT)}),commitToHistory:!1}},PanelComponent:function(e){var t=e.appState,n=e.updateData;return(0,p.jsx)("div",{style:{marginInlineStart:"0.25rem"},children:(0,p.jsx)(Od,{value:t.theme,onChange:function(r){n(r)}})})},keyTest:function(e){return e.altKey&&e.shiftKey&&e.code===Ns}}),function(e,t,n,r,o,a){var l=r.zoom,c=180*n/Math.PI,s=e*(l.value-1)/2,f=t*(l.value-1)/2;return e>o&&l.value!==1&&(s=o*(l.value-1)/2),t>a&&l.value!==1&&(f=a*(l.value-1)/2),"translate(".concat(s,"px, ").concat(f,"px) scale(").concat(l.value,") rotate(").concat(c,"deg)")}),w=function(e){var t,n=e.id,r=e.onChange,o=e.onSubmit,a=e.getViewportCoords,l=e.element,c=e.canvas,s=e.excalidrawContainer,f=e.app,d=function(){var K,he=f.state,ue=(K=Vt.getScene(l))===null||K===void 0?void 0:K.getElement(n),ce=ei(dn(ue));if(ue&&St(ue)){var ve=ue.x,pe=ue.y,J=Kr(ue),Ee=ue.width,Se=ue.height,Oe=ue.width,ye=ue.height;if(J&&ue.containerId){var ze=function(be,Ne){var We=Ne.style.fontFamily.replace(/"/g,"");return jr({fontFamily:be.fontFamily})!==We||"".concat(be.fontSize,"px")!==Ne.style.fontSize}(ue,m),it=Number(m.style.height.slice(0,-2));if(it>0&&(ye=it),ze&&(t=J.height,ye=ue.height),t||(t=J.height),Ee=J.width-2*C.gK,Se=J.height-2*C.gK,Oe=Ee,ve=J.x+C.gK,ye>Se){var xt=Math.min(ye-Se,ce);return void je(J,{height:J.height+xt})}if(J.height>t&&ye<Se){var zt=Math.min(Se-ye,ce);je(J,{height:J.height-zt})}else pe=J.y+J.height/2-ye/2}var dt=R(a(ve,pe),2),Dt=dt[0],ut=dt[1],Ut=ue.textAlign;m.value=ue.originalText;var en=ue.originalText.split(`
`),Kn=ue.containerId?ce:ue.height/en.length;J||(Ee=(he.width-8-Dt)/he.zoom.value);var cr=(he.height-ut)/he.zoom.value,kr=J?J.angle:ue.angle;Object.assign(m.style,{font:dn(ue),lineHeight:"".concat(Kn,"px"),width:"".concat(Oe,"px"),height:"".concat(ye,"px"),left:"".concat(Dt,"px"),top:"".concat(ut,"px"),transform:h(Oe,ye,kr,he,Ee,cr),textAlign:Ut,color:ue.strokeColor,opacity:ue.opacity/100,filter:"var(--theme-filter)",maxWidth:"".concat(Ee,"px"),maxHeight:"".concat(cr,"px")}),Fr()&&(m.style.fontFamily=jr(ue)),je(ue,{x:ve,y:pe})}},m=document.createElement("textarea");m.dir="auto",m.tabIndex=0,m.dataset.type="wysiwyg",m.wrap="off",m.classList.add("excalidraw-wysiwyg");var b="pre",v="normal";dr(l)&&(b="pre-wrap",v="break-word"),Object.assign(m.style,{position:"absolute",display:"inline-block",minHeight:"1em",backfaceVisibility:"hidden",margin:0,padding:0,border:0,outline:0,resize:"none",background:"transparent",overflow:"hidden",zIndex:"var(--zIndex-wysiwyg)",wordBreak:v,whiteSpace:b,overflowWrap:"break-word"}),d(),r&&(m.oninput=function(){var K,he=(K=Vt.getScene(l))===null||K===void 0?void 0:K.getElement(n),ue=dn(he),ce=m.scrollHeight/ei(ue);if(dr(l)&&ce>1){var ve="auto";if(ce===2){var pe=Kr(l);Ai(m.value,ue,pe.width).split(`
`).length===1&&(ve="".concat(m.scrollHeight/2,"px"))}m.style.height=ve,m.style.height="".concat(m.scrollHeight,"px")}r(m.value.replace(/\t/g,"        ").replace(/\r?\n|\r/g,`
`))}),m.onkeydown=function(K){if(K.stopPropagation(),!K.shiftKey&&Ld.keyTest(K))K.preventDefault(),f.actionManager.executeAction(Ld),d();else if(!K.shiftKey&&Dd.keyTest(K))K.preventDefault(),f.actionManager.executeAction(Dd),d();else if(Sd.keyTest(K))f.actionManager.executeAction(Sd);else if(jd.keyTest(K))f.actionManager.executeAction(jd);else if(K.key===re.ESCAPE)K.preventDefault(),N=!0,U();else if(K.key===re.ENTER&&K[re.CTRL_OR_CMD]){if(K.preventDefault(),K.isComposing||K.keyCode===229)return;N=!0,U()}else(K.key===re.TAB||K[re.CTRL_OR_CMD]&&(K.code===ji||K.code===gl))&&(K.preventDefault(),K.shiftKey||K.code===ji?j():_(),m.dispatchEvent(new Event("input")))};var y=" ".repeat(4),k=new RegExp("^ {1,".concat(4,"}")),_=function(){var K=m.selectionStart,he=m.selectionEnd,ue=M(),ce=m.value;ue.forEach(function(ve){var pe=ce.slice(0,ve),J=ce.slice(ve);ce="".concat(pe).concat(y).concat(J)}),m.value=ce,m.selectionStart=K+4,m.selectionEnd=he+4*ue.length},j=function(){var K=m.selectionStart,he=m.selectionEnd,ue=M(),ce=[],ve=m.value;ue.forEach(function(pe){var J=ve.slice(pe,pe+4).match(k);if(J){var Ee=ve.slice(0,pe),Se=ve.slice(pe+J[0].length);ve="".concat(Ee).concat(Se),ce.push(pe)}}),m.value=ve,ce.length&&(K>ce[ce.length-1]?m.selectionStart=Math.max(K-4,ce[ce.length-1]):m.selectionStart=K,m.selectionEnd=Math.max(m.selectionStart,he-4*ce.length))},M=function(){var K=m.selectionStart,he=m.selectionEnd,ue=m.value,ce=ue.slice(0,K).match(/[^\n]*$/)[0].length;return K-=ce,ue.slice(K,he).split(`
`).reduce(function(ve,pe,J,Ee){return ve.concat(J?ve[J-1]+Ee[J-1].length+1:K)},[]).reverse()},P=function(K){K.preventDefault(),K.stopPropagation()},N=!1,U=function(){var K;V();var he=(K=Vt.getScene(l))===null||K===void 0?void 0:K.getElement(l.id);if(he){var ue=m.value,ce=Kr(he);if(ce)if(ue=he.text,m.value){var ve=nr(ce);ve&&ve===l.id||je(ce,{boundElements:(ce.boundElements||[]).concat({type:"text",id:l.id})})}else{var pe;je(ce,{boundElements:(pe=ce.boundElements)===null||pe===void 0?void 0:pe.filter(function(J){return!St(J)})})}o({text:ue,viaKeyboard:N,originalText:m.value})}},V=function(){oe||(oe=!0,m.onblur=null,m.oninput=null,m.onkeydown=null,ie&&ie.disconnect(),window.removeEventListener("resize",d),window.removeEventListener("wheel",P,!0),window.removeEventListener("pointerdown",G),window.removeEventListener("pointerup",q),window.removeEventListener("blur",U),ae(),m.remove())},q=function K(he){window.removeEventListener("pointerup",K);var ue=he==null?void 0:he.target,ce=ue instanceof HTMLInputElement&&ue.closest(".color-picker-input")&&oo(ue);setTimeout(function(){m.onblur=U,ue&&ce&&(ue.onblur=function(){m.focus()}),ce||m.focus()})},G=function(K){var he=K.target instanceof HTMLInputElement&&K.target.closest(".color-picker-input")&&oo(K.target);((K.target instanceof HTMLElement||K.target instanceof SVGElement)&&K.target.closest(".".concat(C.$C.SHAPE_ACTIONS_MENU))&&!oo(K.target)||he)&&(m.onblur=null,window.addEventListener("pointerup",q),window.addEventListener("blur",U))},ae=Vt.getScene(l).addCallback(function(){var K;d(),!((K=document.activeElement)===null||K===void 0||!K.closest(".color-picker-input"))||m.focus()}),oe=!1;m.select(),q();var ie=null;c&&"ResizeObserver"in window?(ie=new window.ResizeObserver(function(){d()})).observe(c):window.addEventListener("resize",d),window.addEventListener("pointerdown",G),window.addEventListener("wheel",P,{passive:!1,capture:!0}),s==null||s.querySelector(".excalidraw-textEditorContainer").appendChild(m)},E=function(e,t){return Boolean(!e.viewModeEnabled&&(e.editingElement||ge(t,e).length||e.elementType!=="selection"))};function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?T(Object(n),!0).forEach(function(r){F(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var B=function(e){return e.reduce(function(t,n){return t+n.version},0)},Z=function(e){return e.filter(function(t){return!t.isDeleted&&!qt(t)})},Y=function(e){return e.filter(function(t){return!t.isDeleted})},se=function(e){return!e.isDeleted},me=function(e){return Y(e).map(function(t){return _o(t.type)?z(z({},t),{},{lastCommittedPoint:null}):t})},Me=function(e){return me(e)},Re=function(e){return me(e)},Xe=function(e,t,n){var r=R([e.horizontal,e.vertical].map(function(l){return l!=null&&l.x<=t&&t<=l.x+l.width&&l.y<=n&&n<=l.y+l.height}),2),o=r[0],a=r[1];return{isOverEither:o||a,isOverHorizontal:o,isOverVertical:a}},ne=function(e,t){return e.some(function(n){return t.selectedElementIds[n.id]})},xe=function(e,t,n){var r=Array.from(new Set(ge(e,t).map(function(o){return n(o)})));return r.length===1?r[0]:null},ge=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return e.filter(function(r){return t.selectedElementIds[r.id]||n&&dr(r)&&t.selectedElementIds[r==null?void 0:r.containerId]?r:null})},Te=function(e,t){return t.editingElement?[t.editingElement]:ge(e,t,!0)};function Je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Be(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Je(Object(n),!0).forEach(function(r){F(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Je(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var bt=function(e,t){if(e.editingGroupId){var n=Wr(Y(t),e.editingGroupId);if(n.length)return Be(Be({},e),{},{selectedElementIds:F({},n[0].id,!0)})}return e},Ke=Ie({name:"deleteSelectedElements",perform:function(e,t){if(t.editingLinearElement){var n=t.editingLinearElement,r=n.elementId,o=n.selectedPointsIndices,a=n.startBindingElement,l=n.endBindingElement,c=Lt.getElement(r);if(!c)return!1;if(o==null||c.points.length<2){var s=e.filter(function(v){return v.id!==c.id});return{elements:s,appState:Be(Be({},bt(t,s)),{},{editingLinearElement:null}),commitToHistory:!1}}var f={startBindingElement:o!=null&&o.includes(0)?null:a,endBindingElement:o!=null&&o.includes(c.points.length-1)?null:l};return Lt.deletePoints(c,o),{elements:e,appState:Be(Be({},t),{},{editingLinearElement:Be(Be(Be({},t.editingLinearElement),f),{},{selectedPointsIndices:(o==null?void 0:o[0])>0?[o[0]-1]:[0]})}),commitToHistory:!0}}var d=function(v,y){return{elements:v.map(function(k){return y.selectedElementIds[k.id]||dr(k)&&y.selectedElementIds[k.containerId]?It(k,{isDeleted:!0}):k}),appState:Be(Be({},y),{},{selectedElementIds:{}})}}(e,t),m=d.elements,b=d.appState;return vc(m,e.filter(function(v){var y=v.id;return t.selectedElementIds[y]})),{elements:m,appState:Be(Be({},b=bt(b,m)),{},{elementType:"selection",multiElement:null}),commitToHistory:ne(Y(e),t)}},contextItemLabel:"labels.delete",keyTest:function(e){return e.key===re.BACKSPACE||e.key===re.DELETE},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,p.jsx)(tt,{type:"button",icon:Zl,title:S("labels.delete"),"aria-label":S("labels.delete"),onClick:function(){return r(null)},visible:ne(Y(t),n)})}}),$e=function(e,t){for(var n=[],r=[],o=null,a=-1,l=tr(ge(e,t,!0));++a<e.length;)l.get(e[a].id)?(r.length&&(n=n.concat(r),r=[]),n.push(a),o=a+1):e[a].isDeleted&&o===a?(o=a+1,r.push(a)):r=[];return n},gn=function(e,t,n){if("containerId"in e&&e.containerId){if(n!=="left")return t.indexOf(e);var r=Vt.getScene(e).getElement(e.containerId);if(r)return t.indexOf(r)}else{var o,a,l=(o=e.boundElements)===null||o===void 0||(a=o.find(function(s){return s.type!=="arrow"}))===null||a===void 0?void 0:a.id;if(l){if(n==="left")return t.indexOf(e);var c=Vt.getScene(e).getElement(l);if(c)return t.indexOf(c)}}},sr=function(e,t,n,r){var o,a=t[n],l=function(b){return!b.isDeleted&&(!e.editingGroupId||b.groupIds.includes(e.editingGroupId))},c=r==="left"?function(b,v){var y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:b.length-1;y<0&&(y=b.length+y);for(var k=(y=Math.min(b.length-1,Math.max(y,0)))+1;--k>-1;)if(v(b[k],k,b))return k;return-1}(t,l,Math.max(0,n-1)):function(b,v){var y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;y<0&&(y=b.length+y);for(var k=(y=Math.min(b.length,Math.max(y,0)))-1;++k<b.length;)if(v(b[k],k,b))return k;return-1}(t,l,n+1),s=t[c];if(!s)return-1;if(e.editingGroupId){var f;if((a==null?void 0:a.groupIds.join(""))===(s==null?void 0:s.groupIds.join("")))return(f=gn(s,t,r))!==null&&f!==void 0?f:c;if(s==null||!s.groupIds.includes(e.editingGroupId))return-1}if(!s.groupIds.length)return(o=gn(s,t,r))!==null&&o!==void 0?o:c;var d=e.editingGroupId?s.groupIds[s.groupIds.indexOf(e.editingGroupId)-1]:s.groupIds[s.groupIds.length-1],m=Wr(t,d);return m.length?r==="left"?t.indexOf(m[0]):t.indexOf(m[m.length-1]):c},Rr=function(e,t){return t.reduce(function(n,r){var o=e[r];return n[o.id]=o,n},{})},vn=function(e,t,n){var r,o,a=$e(t,e),l=Rr(t,a),c=(o=0,(r=a).reduce(function(s,f,d){return d>0&&r[d-1]!==f-1&&(o=++o),(s[o]||(s[o]=[])).push(f),s},[]));return n==="right"&&(c=c.reverse()),c.forEach(function(s,f){var d=s[0],m=s[s.length-1],b=n==="left"?d:m,v=sr(e,t,b,n);if(v!==-1&&b!==v){var y=n==="left"?t.slice(0,v):t.slice(0,d),k=t.slice(d,m+1),_=n==="left"?t.slice(v,d):t.slice(m+1,v+1),j=n==="left"?t.slice(m+1):t.slice(v+1);t=n==="left"?[].concat(fe(y),fe(k),fe(_),fe(j)):[].concat(fe(y),fe(_),fe(k),fe(j))}}),t.map(function(s){return l[s.id]?Ca(s):s})},Qr=function(e,t,n){var r,o,a=$e(e,t),l=Rr(e,a),c=[];if(n==="left"){if(t.editingGroupId){var s=Wr(e,t.editingGroupId);if(!s.length)return e;r=e.indexOf(s[0])}else r=0;o=a[a.length-1]}else{if(t.editingGroupId){var f=Wr(e,t.editingGroupId);if(!f.length)return e;o=e.indexOf(f[f.length-1])}else o=e.length-1;r=a[0]}for(var d=r;d<o+1;d++)a.includes(d)||c.push(e[d]);var m=Object.values(l).map(function(y){return Ca(y)}),b=e.slice(0,r),v=e.slice(o+1);return n==="left"?[].concat(fe(b),fe(m),c,fe(v)):[].concat(fe(b),c,fe(m),fe(v))},Fo=function(e,t){return vn(t,e,"left")},Xa=function(e,t){return vn(t,e,"right")},ls=function(e,t){return Qr(e,t,"left")},qi=function(e,t){return Qr(e,t,"right")},gi=Ie({name:"sendBackward",perform:function(e,t){return{elements:Fo(e,t),appState:t,commitToHistory:!0}},contextItemLabel:"labels.sendBackward",keyPriority:40,keyTest:function(e){return e[re.CTRL_OR_CMD]&&!e.shiftKey&&e.code===ji},PanelComponent:function(e){var t=e.updateData,n=e.appState;return(0,p.jsx)("button",{type:"button",className:"zIndexButton",onClick:function(){return t(null)},title:"".concat(S("labels.sendBackward")," \u2014 ").concat(H("CtrlOrCmd+[")),children:(0,p.jsx)(ql,{theme:n.theme})})}}),Rd=Ie({name:"bringForward",perform:function(e,t){return{elements:Xa(e,t),appState:t,commitToHistory:!0}},contextItemLabel:"labels.bringForward",keyPriority:40,keyTest:function(e){return e[re.CTRL_OR_CMD]&&!e.shiftKey&&e.code===gl},PanelComponent:function(e){var t=e.updateData,n=e.appState;return(0,p.jsx)("button",{type:"button",className:"zIndexButton",onClick:function(){return t(null)},title:"".concat(S("labels.bringForward")," \u2014 ").concat(H("CtrlOrCmd+]")),children:(0,p.jsx)(Xl,{theme:n.theme})})}}),zd=Ie({name:"sendToBack",perform:function(e,t){return{elements:ls(e,t),appState:t,commitToHistory:!0}},contextItemLabel:"labels.sendToBack",keyTest:function(e){return En?e[re.CTRL_OR_CMD]&&e.altKey&&e.code===ji:e[re.CTRL_OR_CMD]&&e.shiftKey&&e.code===ji},PanelComponent:function(e){var t=e.updateData,n=e.appState;return(0,p.jsx)("button",{type:"button",className:"zIndexButton",onClick:function(){return t(null)},title:"".concat(S("labels.sendToBack")," \u2014 ").concat(H(En?"CtrlOrCmd+Alt+[":"CtrlOrCmd+Shift+[")),children:(0,p.jsx)(_c,{theme:n.theme})})}}),ss=Ie({name:"bringToFront",perform:function(e,t){return{elements:qi(e,t),appState:t,commitToHistory:!0}},contextItemLabel:"labels.bringToFront",keyTest:function(e){return En?e[re.CTRL_OR_CMD]&&e.altKey&&e.code===gl:e[re.CTRL_OR_CMD]&&e.shiftKey&&e.code===gl},PanelComponent:function(e){var t=e.updateData,n=e.appState;return(0,p.jsx)("button",{type:"button",className:"zIndexButton",onClick:function(r){return t(null)},title:"".concat(S("labels.bringToFront")," \u2014 ").concat(H(En?"CtrlOrCmd+Alt+]":"CtrlOrCmd+Shift+]")),children:(0,p.jsx)(Af,{theme:n.theme})})}});function cs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function qa(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cs(Object(n),!0).forEach(function(r){F(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cs(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var us=Ie({name:"selectAll",perform:function(e,t){return!t.editingLinearElement&&{appState:yr(qa(qa({},t),{},{editingGroupId:null,selectedElementIds:e.reduce(function(n,r){return r.isDeleted||St(r)&&r.containerId||(n[r.id]=!0),n},{})}),Y(e)),commitToHistory:!0}},contextItemLabel:"labels.selectAll",keyTest:function(e){return e[re.CTRL_OR_CMD]&&e.key===re.A}});function zc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function vi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zc(Object(n),!0).forEach(function(r){F(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zc(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var ds=Ie({name:"duplicateSelection",perform:function(e,t){if(t.editingLinearElement){var n=Lt.duplicateSelectedPoints(t);return!!n&&{elements:e,appState:n.appState,commitToHistory:!0}}return vi(vi({},Om(e,t)),{},{commitToHistory:!0})},contextItemLabel:"labels.duplicateSelection",keyTest:function(e){return e[re.CTRL_OR_CMD]&&e.key===re.D},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,p.jsx)(tt,{type:"button",icon:Nf,title:"".concat(S("labels.duplicateSelection")," \u2014 ").concat(H("CtrlOrCmd+D")),"aria-label":S("labels.duplicateSelection"),onClick:function(){return r(null)},visible:ne(Y(t),n)})}}),Om=function(e,t){for(var n=new Map,r=[],o=[],a=new Map,l=function(v){var y=Ol(t.editingGroupId,n,v,{x:v.x+C.k/2,y:v.y+C.k/2});return a.set(v.id,y.id),o.push(v),r.push(y),y},c=[],s=0,f=tr(ge(e,t,!0));s<e.length;){var d=e[s];if(f.get(d.id)){if(d.groupIds.length){var m=Ou(t,d);if(m){var b=Wr(e,m);c.push.apply(c,fe(b).concat(fe(b.map(function(v){return l(v)})))),s+=b.length;continue}}c.push(d,l(d))}else c.push(d);s++}return _n(c,o,a),Wl(c,o,a),{elements:c,appState:yr(vi(vi({},t),{},{selectedGroupIds:{},selectedElementIds:r.reduce(function(v,y){return dr(y)||(v[y.id]=!0),v},{})}),Y(c))}};function Lp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function fs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Lp(Object(n),!0).forEach(function(r){F(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lp(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Qf,Jf,$i,Uo=Ie({name:"finalize",perform:function(e,t,n,r){var o,a=r.canvas,l=r.focusContainer;if(t.editingLinearElement){var c=t.editingLinearElement,s=c.elementId,f=c.startBindingElement,d=c.endBindingElement,m=Lt.getElement(s);if(m)return Jn(m)&&Ka(m,f,d),{elements:m.points.length<2||qt(m)?e.filter(function(V){return V.id!==m.id}):void 0,appState:fs(fs({},t),{},{editingLinearElement:null}),commitToHistory:!0}}var b=e;t.pendingImageElement&&je(t.pendingImageElement,{isDeleted:!0},!1),window.document.activeElement instanceof HTMLElement&&l();var v=t.multiElement?t.multiElement:((o=t.editingElement)===null||o===void 0?void 0:o.type)==="freedraw"?t.editingElement:null;if(v){if(v.type!=="freedraw"&&t.lastPointerDownWith!=="touch"){var y=v.points,k=v.lastCommittedPoint;k&&y[y.length-1]===k||je(v,{points:v.points.slice(0,-1)})}qt(v)&&(b=b.slice(0,-1));var _=Eo(v.points,t.zoom.value);if((v.type==="line"||v.type==="freedraw")&&_){var j=v.points,M=j[0];je(v,{points:j.map(function(V,q){return q===j.length-1?[M[0],M[1]]:V})})}if(Jn(v)&&!_&&v.points.length>1){var P=R(Lt.getPointAtIndexGlobalCoordinates(v,-1),2),N=P[0],U=P[1];Wa(v,t,Vt.getScene(v),{x:N,y:U})}t.elementLocked||t.elementType==="freedraw"||(t.selectedElementIds[v.id]=!0)}return(t.elementLocked||t.elementType==="freedraw")&&v||Cr(a),{elements:b,appState:fs(fs({},t),{},{elementType:(t.elementLocked||t.elementType==="freedraw")&&v?t.elementType:"selection",draggingElement:null,multiElement:null,editingElement:null,startBoundElement:null,suggestedBindings:[],selectedElementIds:v&&!t.elementLocked&&t.elementType!=="freedraw"?fs(fs({},t.selectedElementIds),{},F({},v.id,!0)):t.selectedElementIds,pendingImageElement:null}),commitToHistory:t.elementType==="freedraw"}},keyTest:function(e,t){return e.key===re.ESCAPE&&(t.editingLinearElement!==null||!t.draggingElement&&t.multiElement===null)||(e.key===re.ESCAPE||e.key===re.ENTER)&&t.multiElement!==null},PanelComponent:function(e){var t=e.appState,n=e.updateData;return(0,p.jsx)(tt,{type:"button",icon:kc,title:S("buttons.done"),"aria-label":S("buttons.done"),onClick:n,visible:t.multiElement!=null})}}),ps=typeof process<"u"&&(Qf={REACT_APP_BACKEND_V2_GET_URL:"https://json.excalidraw.com/api/v2/",REACT_APP_BACKEND_V2_POST_URL:"https://json.excalidraw.com/api/v2/post/",REACT_APP_LIBRARY_URL:"https://libraries.excalidraw.com",REACT_APP_LIBRARY_BACKEND:"https://us-central1-excalidraw-room-persistence.cloudfunctions.net/libraries",REACT_APP_SOCKET_SERVER_URL:"https://oss-collab-us1.excalidraw.com",REACT_APP_FIREBASE_CONFIG:'{"apiKey":"AIzaSyAd15pYlMci_xIp9ko6wkEsDzAAA0Dn0RU","authDomain":"excalidraw-room-persistence.firebaseapp.com","databaseURL":"https://excalidraw-room-persistence.firebaseio.com","projectId":"excalidraw-room-persistence","storageBucket":"excalidraw-room-persistence.appspot.com","messagingSenderId":"654800341332","appId":"1:654800341332:web:4a692de832b55bd57ce0c1"}',REACT_APP_GOOGLE_ANALYTICS_ID:"UA-387204-13"})!==null&&Qf!==void 0&&Qf.REACT_APP_GOOGLE_ANALYTICS_ID&&typeof window<"u"&&window.gtag?function(e,t,n,r){window.gtag("event",t,{event_category:e,event_label:n,value:r})}:(typeof process<"u"&&(Jf={REACT_APP_BACKEND_V2_GET_URL:"https://json.excalidraw.com/api/v2/",REACT_APP_BACKEND_V2_POST_URL:"https://json.excalidraw.com/api/v2/post/",REACT_APP_LIBRARY_URL:"https://libraries.excalidraw.com",REACT_APP_LIBRARY_BACKEND:"https://us-central1-excalidraw-room-persistence.cloudfunctions.net/libraries",REACT_APP_SOCKET_SERVER_URL:"https://oss-collab-us1.excalidraw.com",REACT_APP_FIREBASE_CONFIG:'{"apiKey":"AIzaSyAd15pYlMci_xIp9ko6wkEsDzAAA0Dn0RU","authDomain":"excalidraw-room-persistence.firebaseapp.com","databaseURL":"https://excalidraw-room-persistence.firebaseio.com","projectId":"excalidraw-room-persistence","storageBucket":"excalidraw-room-persistence.appspot.com","messagingSenderId":"654800341332","appId":"1:654800341332:web:4a692de832b55bd57ce0c1"}',REACT_APP_GOOGLE_ANALYTICS_ID:"UA-387204-13"})!==null&&Jf!==void 0&&Jf.JEST_WORKER_ID,function(e,t,n,r){}),Im=(x(518),x(9966),function(e){var t=ws().id,n=R((0,Q.useState)(e.value),2),r=n[0],o=n[1];return(0,p.jsxs)("div",{className:"ProjectName",children:[(0,p.jsx)("label",{className:"ProjectName-label",htmlFor:"filename",children:"".concat(e.label).concat(e.isNameEditable?"":":")}),e.isNameEditable?(0,p.jsx)("input",{type:"text",className:"TextInput",onBlur:function(a){(function(c){for(var s=c.parentElement;s;){if(s.tabIndex>-1)return void s.focus();s=s.parentElement}})(a.target);var l=a.target.value;l!==e.value&&e.onChange(l)},onKeyDown:function(a){if(a.key==="Enter"){if(a.preventDefault(),a.nativeEvent.isComposing||a.keyCode===229)return;a.currentTarget.blur()}},id:"".concat(t,"-filename"),value:r,onChange:function(a){return o(a.target.value)}}):(0,p.jsx)("span",{className:"TextInput TextInput--readonly",id:"".concat(t,"-filename"),children:e.value})]})}),ep=function(e,t){if(t!=null&&t.collaborators){var n=t.collaborators.get(e);if(n!=null&&n.color)return n.color}var r=e.split("").reduce(function(l,c){return l+c.charCodeAt(0)},0),o=jo.elementBackground.slice(1),a=jo.elementStroke.slice(1);return{background:o[r%o.length],stroke:a[r%a.length]}};(function(e){e.ACTIVE="active",e.AWAY="away",e.IDLE="idle"})($i||($i={})),x(4404);function Dp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Rp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Dp(Object(n),!0).forEach(function(r){F(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dp(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var zp=document.createElement("img");zp.src="data:".concat(C.LO.svg,", ").concat(encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#1971c2" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg>'));var tp=!1,Tm=function(e){var t=e.element,n=e.appState,r=e.setAppState,o=e.onLinkOpen,a=t.link||"",l=R((0,Q.useState)(a),2),c=l[0],s=l[1],f=(0,Q.useRef)(null),d=n.showHyperlinkPopup==="editor"||!a,m=(0,Q.useCallback)(function(){if(f.current){var _=Hp(f.current.value);je(t,{link:_}),r({showHyperlinkPopup:"info"})}},[t,r]);(0,Q.useLayoutEffect)(function(){return function(){m()}},[m]),(0,Q.useEffect)(function(){var _=null,j=function(M){d||(_&&clearTimeout(_),Pm(t,n,[M.clientX,M.clientY])&&(_=window.setTimeout(function(){r({showHyperlinkPopup:!1})},500)))};return window.addEventListener(C.Ks.POINTER_MOVE,j,!1),function(){window.removeEventListener(C.Ks.POINTER_MOVE,j,!1),_&&clearTimeout(_)}},[n,t,d,r]);var b=(0,Q.useCallback)(function(){je(t,{link:null}),d&&(f.current.value=""),r({showHyperlinkPopup:!1})},[r,t,d]),v=Np(t,n),y=v.x,k=v.y;return n.draggingElement||n.resizingElement||n.isRotating||n.openMenu?null:(0,p.jsxs)("div",{className:"excalidraw-hyperlinkContainer",style:{top:"".concat(k,"px"),left:"".concat(y,"px"),width:320,padding:5},children:[d?(0,p.jsx)("input",{className:mt("excalidraw-hyperlinkContainer-input"),placeholder:"Type or paste your link here",ref:f,value:c,onChange:function(_){return s(_.target.value)},autoFocus:!0,onKeyDown:function(_){_.stopPropagation(),_[re.CTRL_OR_CMD]&&_.key===re.K&&_.preventDefault(),_.key!==re.ENTER&&_.key!==re.ESCAPE||m()}}):(0,p.jsx)("a",{href:t.link||"",className:mt("excalidraw-hyperlinkContainer-link",{"d-none":d}),target:Bp(t.link)?"_self":"_blank",onClick:function(_){if(t.link&&o){var j=ya(C.Ks.EXCALIDRAW_LINK,_.nativeEvent);o(t,j),j.defaultPrevented&&_.preventDefault()}},rel:"noopener noreferrer",children:t.link}),(0,p.jsxs)("div",{className:"excalidraw-hyperlinkContainer__buttons",children:[!d&&(0,p.jsx)(tt,{type:"button",title:S("buttons.edit"),"aria-label":S("buttons.edit"),label:S("buttons.edit"),onClick:function(){r({showHyperlinkPopup:"editor"})},className:"excalidraw-hyperlinkContainer--edit",icon:Ic}),a&&(0,p.jsx)(tt,{type:"button",title:S("buttons.remove"),"aria-label":S("buttons.remove"),label:S("buttons.remove"),onClick:b,className:"excalidraw-hyperlinkContainer--remove",icon:Zl})]})]})},Np=function(e,t){var n=R(pt(e),2),r=n[0],o=n[1],a=_e({sceneX:r+e.width/2,sceneY:o},t),l=a.x,c=a.y;return{x:l-t.offsetLeft-160,y:c-t.offsetTop-85}},Hp=function(e){return(e=e.trim())&&(e.includes("://")||/^[[\\/]/.test(e)||(e="https://".concat(e))),e},Bp=function(e){return!!(e!=null&&e.includes(location.origin)||e!=null&&e.startsWith("/"))},Fp=Ie({name:"link",perform:function(e,t){return t.showHyperlinkPopup!=="editor"&&{elements:e,appState:Rp(Rp({},t),{},{showHyperlinkPopup:"editor",openMenu:null}),commitToHistory:!0}},keyTest:function(e){return e[re.CTRL_OR_CMD]&&e.key===re.K},contextItemLabel:function(e,t){return Up(e,t)},contextItemPredicate:function(e,t){return ge(e,t).length===1},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData,o=ge(t,n);return(0,p.jsx)(tt,{type:"button",icon:ld,"aria-label":S(Up(t,n)),title:"".concat(S("labels.link.label")," - ").concat(H("CtrlOrCmd+K")),onClick:function(){return r(null)},selected:o.length===1&&!!o[0].link})}}),Up=function(e,t){return ge(e,t)[0].link?"labels.link.edit":"labels.link.create"},np=function(e,t,n){var r=R(e,4),o=r[0],a=r[1],l=r[2],c=r[3],s=14/n.zoom.value,f=14/n.zoom.value,d=14/n.zoom.value,m=(o+l)/2,b=(a+c)/2,v=6/(2*n.zoom.value),y=4/n.zoom.value,k=R(gt(l+y-v+s/2,a-y-d+v+f/2,m,b,t),2);return[k[0]-s/2,k[1]-f/2,s,f]},Nd=function(e,t,n,r){var o=R(n,2),a=o[0],l=o[1],c=4/t.zoom.value;if(!r&&t.viewModeEnabled&&Na(e,[a,l],c))return!0;var s=R(pt(e),4),f=s[0],d=s[1],m=s[2],b=s[3],v=R(np([f,d,m,b],e.angle,t),4),y=v[0],k=v[1],_=v[2],j=v[3];return a>y-c&&a<y+c+_&&l>k-c&&l<k+j+c},Nc=null,Mm=function(e,t){if(e.link){var n=mi();n.classList.add("excalidraw-tooltip--visible"),n.style.maxWidth="20rem",n.textContent=e.link;var r=R(pt(e),4),o=r[0],a=r[1],l=r[2],c=r[3],s=R(np([o,a,l,c],e.angle,t),4),f=s[0],d=s[1],m=s[2],b=s[3],v=_e({sceneX:f,sceneY:d},t);os(n,{left:v.x,top:v.y,width:m,height:b},"top"),tp=!0}},Pm=function(e,t,n){var r=R(n,2),o=r[0],a=r[1],l=te({clientX:o,clientY:a},t),c=l.x,s=l.y,f=15/t.zoom.value;if(Na(e,[c,s],f))return!1;var d=R(pt(e),3),m=d[0],b=d[1],v=d[2];if(c>=m&&c<=v&&s>=b-85&&s<=b)return!1;var y=Np(e,t),k=y.x,_=y.y;return!(o>=k-f&&o<=k+320+10+f&&a>=_-f&&a<=_+f+10+42)};function Am(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(s,f){if(!!s){if(typeof s=="string")return Kp(s,f);var d=Object.prototype.toString.call(s).slice(8,-1);if(d==="Object"&&s.constructor&&(d=s.constructor.name),d==="Map"||d==="Set")return Array.from(s);if(d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return Kp(s,f)}}(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(s){throw s},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,l=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var s=n.next();return l=s.done,s},e:function(s){c=!0,a=s},f:function(){try{l||n.return==null||n.return()}finally{if(c)throw a}}}}function Kp(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Qi,rp=function(){var e=document.createElement("canvas").getContext("2d");return e?(e.fillStyle="#f00",e.textBaseline="top",e.font="32px Arial",e.fillText("\u{1F600}",0,0),e.getImageData(12,12,1,1).data[0]!==0):!1}(),Hd=function(e,t,n,r,o,a,l,c){var s=arguments.length>8&&arguments[8]!==void 0&&arguments[8];e.save(),e.translate(a,l),e.rotate(c),s&&e.fillRect(t-a,n-l,r,o),e.strokeRect(t-a,n-l,r,o),e.restore()},op=function(e,t,n,r){e.beginPath(),e.arc(t,n,r,0,2*Math.PI),e.fill(),e.stroke()},Wp=function(e,t,n,r,o,a,l){if(a===null)return{atLeastOneVisibleElement:!1};var c=l.renderScrollbars,s=c===void 0||c,f=l.renderSelection,d=f===void 0||f,m=l.renderGrid,b=m===void 0||m,v=l.isExporting,y=a.getContext("2d");y.setTransform(1,0,0,1,0,0),y.save(),y.scale(r,r);var k=a.width/r,_=a.height/r;v&&l.theme==="dark"&&(y.filter=C.ZF),typeof l.viewBackgroundColor=="string"?((l.viewBackgroundColor==="transparent"||l.viewBackgroundColor.length===5||l.viewBackgroundColor.length===9||/(hsla|rgba)\(/.test(l.viewBackgroundColor))&&y.clearRect(0,0,k,_),y.save(),y.fillStyle=l.viewBackgroundColor,y.fillRect(0,0,k,_),y.restore()):y.clearRect(0,0,k,_),y.save(),y.scale(l.zoom.value,l.zoom.value),b&&t.gridSize&&function(be,Ne,We,ot,jt,Kt){be.save(),be.strokeStyle="rgba(0,0,0,0.1)",be.beginPath();for(var wt=We;wt<We+jt+2*Ne;wt+=Ne)be.moveTo(wt,ot-Ne),be.lineTo(wt,ot+Kt+2*Ne);for(var tn=ot;tn<ot+Kt+2*Ne;tn+=Ne)be.moveTo(We-Ne,tn),be.lineTo(We+jt+2*Ne,tn);be.stroke(),be.restore()}(y,t.gridSize,-Math.ceil(l.zoom.value/t.gridSize)*t.gridSize+l.scrollX%t.gridSize,-Math.ceil(l.zoom.value/t.gridSize)*t.gridSize+l.scrollY%t.gridSize,k/l.zoom.value,_/l.zoom.value);var j,M=e.filter(function(be){return Hm(be,k,_,{zoom:l.zoom,offsetLeft:t.offsetLeft,offsetTop:t.offsetTop,scrollX:l.scrollX,scrollY:l.scrollY})});if(M.forEach(function(be){try{El(be,o,y,l),v||Nm(be,y,t)}catch(Ne){console.error(Ne)}}),t.editingLinearElement){var P=Lt.getElement(t.editingLinearElement.elementId);P&&function(be,Ne,We,ot){be.save(),be.translate(We.scrollX,We.scrollY),be.lineWidth=1/We.zoom.value,Lt.getPointsGlobalCoordinates(ot).forEach(function(jt,Kt){var wt,tn;be.strokeStyle="red",be.setLineDash([]),be.fillStyle=(wt=Ne.editingLinearElement)!==null&&wt!==void 0&&(tn=wt.selectedPointsIndices)!==null&&tn!==void 0&&tn.includes(Kt)?"rgba(255, 127, 127, 0.9)":"rgba(255, 255, 255, 0.9)";var ur=Lt.POINT_HANDLE_SIZE;op(be,jt[0],jt[1],ur/2/We.zoom.value)}),be.restore()}(y,t,l,P)}if(n)try{El(n,o,y,l)}catch(be){console.error(be)}if(zo(t)&&t.suggestedBindings.filter(function(be){return be!=null}).forEach(function(be){Dm(y,l,be)}),d&&!t.multiElement&&!t.editingLinearElement){var N,U=e.reduce(function(be,Ne){var We=[];if(t.selectedElementIds[Ne.id]&&!Ta(t,Ne)&&We.push(st.black),l.remoteSelectedElementIds[Ne.id]&&We.push.apply(We,fe(l.remoteSelectedElementIds[Ne.id].map(function(ur){return ep(ur,t).background}))),We.length){var ot=R(pt(Ne),4),jt=ot[0],Kt=ot[1],wt=ot[2],tn=ot[3];be.push({angle:Ne.angle,elementX1:jt,elementY1:Kt,elementX2:wt,elementY2:tn,selectionColors:We})}return be},[]),V=function(be){var Ne=Wr(e,be),We=R(hn(Ne),4),ot=We[0],jt=We[1],Kt=We[2],wt=We[3];U.push({angle:0,elementX1:ot,elementX2:Kt,elementY1:jt,elementY2:wt,selectionColors:[st.black]})},q=Am(zi(t));try{for(q.s();!(N=q.n()).done;)V(N.value)}catch(be){q.e(be)}finally{q.f()}t.editingGroupId&&V(t.editingGroupId),U.forEach(function(be){return Lm(y,l,be)});var G=ge(e,t);if(y.save(),y.translate(l.scrollX,l.scrollY),G.length===1){y.fillStyle=st.white;var ae=rc(G[0],l.zoom,"mouse");t.viewModeEnabled||Vp(y,l,ae,G[0].angle)}else if(G.length>1&&!t.isRotating){var oe=4/l.zoom.value;y.fillStyle=st.white;var ie=R(hn(G),4),K=ie[0],he=ie[1],ue=ie[2],ce=ie[3],ve=y.getLineDash();y.setLineDash([2/l.zoom.value]);var pe=y.lineWidth;y.lineWidth=1/l.zoom.value,Hd(y,K-oe,he-oe,ue-K+2*oe,ce-he+2*oe,(K+ue)/2,(he+ce)/2,0),y.lineWidth=pe,y.setLineDash(ve);var J=nc([K,he,ue,ce],0,l.zoom,"mouse",Il);Vp(y,l,J,0)}y.restore()}for(var Ee in y.restore(),l.remotePointerViewportCoords){var Se=l.remotePointerViewportCoords[Ee],Oe=Se.x,ye=Se.y;Oe-=t.offsetLeft,ye-=t.offsetTop;var ze=Oe<0||Oe>k-9||ye<0||ye>_-14;Oe=Math.max(Oe,0),Oe=Math.min(Oe,k-9),ye=Math.max(ye,0),ye=Math.min(ye,_-14);var it=ep(Ee,t),xt=it.background,zt=it.stroke;y.save(),y.strokeStyle=zt,y.fillStyle=xt;var dt=l.remotePointerUserStates[Ee];(ze||dt===$i.AWAY)&&(y.globalAlpha=.48),l.remotePointerButton&&l.remotePointerButton[Ee]==="down"&&(y.beginPath(),y.arc(Oe,ye,15,0,2*Math.PI,!1),y.lineWidth=3,y.strokeStyle="#ffffff88",y.stroke(),y.closePath(),y.beginPath(),y.arc(Oe,ye,15,0,2*Math.PI,!1),y.lineWidth=1,y.strokeStyle=zt,y.stroke(),y.closePath()),y.beginPath(),y.moveTo(Oe,ye),y.lineTo(Oe+1,ye+14),y.lineTo(Oe+4,ye+9),y.lineTo(Oe+9,ye+10),y.lineTo(Oe,ye),y.fill(),y.stroke();var Dt=l.remotePointerUsernames[Ee],ut="";dt===$i.AWAY?ut=rp?"\u26AB\uFE0F":" (".concat($i.AWAY,")"):dt===$i.IDLE?ut=rp?"\u{1F4A4}":" (".concat($i.IDLE,")"):dt===$i.ACTIVE&&(ut=rp?"\u{1F7E2}":"");var Ut="".concat(Dt?"".concat(Dt," "):"").concat(ut);if(!ze&&Ut){var en=Oe+9,Kn=ye+14,cr=y.measureText(Ut),kr=cr.actualBoundingBoxDescent+cr.actualBoundingBoxAscent;y.fillStyle=zt,y.fillRect(en-1,Kn-1,cr.width+8+2,kr+8+2),y.fillStyle=xt,y.fillRect(en,Kn,cr.width+8,kr+8),y.fillStyle=st.white,y.fillText(Ut,en+4,Kn+4+cr.actualBoundingBoxAscent)}y.restore(),y.closePath()}return s&&(j=function(be,Ne,We,ot){var jt=ot.scrollX,Kt=ot.scrollY,wt=ot.zoom;if(be.length===0)return{horizontal:null,vertical:null};var tn=R(hn(be),4),ur=tn[0],rl=tn[1],bo=tn[2],yo=tn[3],_r=Ne/wt.value,oa=We/wt.value,to=Ne-_r,Wo=We-oa,$n={top:parseInt(et("sat")),bottom:parseInt(et("sab")),left:parseInt(et("sal")),right:parseInt(et("sar"))},tf=ft().rtl,ia=to/2-jt+$n.left,aa=Wo/2-Kt+$n.top,Zc=ia+_r-$n.right,Yc=aa+oa-$n.bottom,ks=Math.min(ur,ia),la=Math.min(rl,aa),_s=Math.max(bo,Zc),Xc=Math.max(yo,Yc);return{horizontal:ia===ks&&Zc===_s?null:{x:Math.max($n.left,4)+(ia-ks)/(_s-ks)*Ne,y:We-6-Math.max(4,$n.bottom),width:(Zc-ia)/(_s-ks)*Ne-Math.max(8,$n.left+$n.right),height:6},vertical:aa===la&&Yc===Xc?null:{x:tf?Math.max($n.left,4):Ne-6-Math.max($n.right,4),y:(aa-la)/(Xc-la)*We+Math.max($n.top,4),width:6,height:(Yc-aa)/(Xc-la)*We-Math.max(8,$n.top+$n.bottom)}}}(e,k,_,l),y.save(),y.fillStyle="rgba(0,0,0,0.3)",y.strokeStyle="rgba(255,255,255,0.8)",[j.horizontal,j.vertical].forEach(function(be){be&&function(Ne,We,ot,jt,Kt,wt){Ne.beginPath(),Ne.moveTo(We+wt,ot),Ne.lineTo(We+jt-wt,ot),Ne.quadraticCurveTo(We+jt,ot,We+jt,ot+wt),Ne.lineTo(We+jt,ot+Kt-wt),Ne.quadraticCurveTo(We+jt,ot+Kt,We+jt-wt,ot+Kt),Ne.lineTo(We+wt,ot+Kt),Ne.quadraticCurveTo(We,ot+Kt,We,ot+Kt-wt),Ne.lineTo(We,ot+wt),Ne.quadraticCurveTo(We,ot,We+wt,ot),Ne.closePath(),Ne.fill(),Ne.stroke()}(y,be.x,be.y,be.width,be.height,3)}),y.restore()),y.restore(),{atLeastOneVisibleElement:M.length>0,scrollBars:j}},Vp=function(e,t,n,r){Object.keys(n).forEach(function(o){var a=n[o];a!==void 0&&(e.save(),e.lineWidth=1/t.zoom.value,o==="rotation"?op(e,a[0]+a[2]/2,a[1]+a[3]/2,a[2]/2):Hd(e,a[0],a[1],a[2],a[3],a[0]+a[2]/2,a[1]+a[3]/2,r,!0),e.restore())})},Lm=function(e,t,n){var r=n.angle,o=n.elementX1,a=n.elementY1,l=n.elementX2,c=n.elementY2,s=n.selectionColors,f=l-o,d=c-a,m=4/t.zoom.value,b=8/t.zoom.value,v=4/t.zoom.value;e.save(),e.translate(t.scrollX,t.scrollY),e.lineWidth=1/t.zoom.value;for(var y=s.length,k=0;k<y;++k)e.strokeStyle=s[k],e.setLineDash([b,v+(b+v)*(y-1)]),e.lineDashOffset=(b+v)*k,Hd(e,o-m,a-m,f+2*m,d+2*m,o+f/2,a+d/2,r);e.restore()},Dm=function(e,t,n){var r=Array.isArray(n)?zm:Rm;e.save(),e.translate(t.scrollX,t.scrollY),r(e,n),e.restore()},Rm=function(e,t){var n=R(pt(t),4),r=n[0],o=n[1],a=n[2]-r,l=n[3]-o,c=ir(t,a,l);e.strokeStyle="rgba(0,0,0,.05)",e.lineWidth=c-4;var s=2+c/2;switch(t.type){case"rectangle":case"text":case"image":Hd(e,r-s,o-s,a+2*s,l+2*s,r+a/2,o+l/2,t.angle);break;case"diamond":var f=Math.hypot(a,l);(function(d,m,b,v,y,k){d.save(),d.translate(v,y),d.rotate(k),d.beginPath(),d.moveTo(0,b/2),d.lineTo(m/2,0),d.lineTo(0,-b/2),d.lineTo(-m/2,0),d.closePath(),d.stroke(),d.restore()})(e,a+2*(s*f/l),l+2*(s*f/a),r+a/2,o+l/2,t.angle);break;case"ellipse":(function(d,m,b,v,y,k){d.beginPath(),d.ellipse(v,y,m/2,b/2,k,0,2*Math.PI),d.stroke()})(e,a+2*s,l+2*s,r+a/2,o+l/2,t.angle)}},zm=function(e,t){var n=R(t,3),r=n[0],o=n[1],a=n[2],l=ir(a,a.width,a.height);e.strokeStyle="rgba(0,0,0,0)",e.fillStyle="rgba(0,0,0,.05)",(o==="both"?[0,-1]:o==="start"?[0]:[-1]).forEach(function(c){var s=R(Lt.getPointAtIndexGlobalCoordinates(r,c),2),f=s[0],d=s[1];op(e,f,d,l)})},Nm=function(e,t,n){if(e.link&&!n.selectedElementIds[e.id]){var r=R(pt(e),4),o=r[0],a=r[1],l=r[2],c=r[3],s=R(np([o,a,l,c],e.angle,n),4),f=s[0],d=s[1],m=s[2],b=s[3],v=f+m/2,y=d+b/2;if(t.save(),t.translate(n.scrollX+v,n.scrollY+y),t.rotate(e.angle),Qi&&Qi.zoom===n.zoom.value)t.drawImage(Qi,f-v,d-y,m,b);else{(Qi=document.createElement("canvas")).zoom=n.zoom.value,Qi.width=m*window.devicePixelRatio*n.zoom.value,Qi.height=b*window.devicePixelRatio*n.zoom.value;var k=Qi.getContext("2d");k.scale(window.devicePixelRatio*n.zoom.value,window.devicePixelRatio*n.zoom.value),k.fillStyle="#fff",k.fillRect(0,0,m,b),k.drawImage(zp,0,0,m,b),k.restore(),t.drawImage(Qi,f-v,d-y,m,b)}t.restore()}},Hm=function(e,t,n,r){var o=R(Si(e),4),a=o[0],l=o[1],c=o[2],s=o[3],f=te({clientX:r.offsetLeft,clientY:r.offsetTop},r),d=te({clientX:r.offsetLeft+t,clientY:r.offsetTop+n},r);return f.x<=c&&f.y<=s&&d.x>=a&&d.y>=l},Bm=function(e,t,n,r){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{},a=o.offsetX,l=a===void 0?0:a,c=o.offsetY,s=c===void 0?0:c,f=o.exportWithDarkMode,d=f!==void 0&&f;n&&e.forEach(function(m){if(!m.isDeleted)try{Sl(m,t,n,r,m.x+l,m.y+s,d)}catch(b){console.error(b)}})},Gp=Object.defineProperty,hs=(e,t)=>()=>(e&&(t=e(e=0)),t),ms=(e,t)=>{for(var n in(r=>{Gp(r,"__esModule",{value:!0})})(e),t)Gp(e,n,{get:t[n],enumerable:!0})},Zp={};ms(Zp,{default:()=>Yp});var Yp,Fm=hs(()=>{Yp=async(e=[{}])=>(Array.isArray(e)||(e=[e]),new Promise((t,n)=>{let r=document.createElement("input");r.type="file";let o=[...e.map(c=>c.mimeTypes||[]).join(),e.map(c=>c.extensions||[]).join()].join();r.multiple=e[0].multiple||!1,r.accept=o||"";let a=c=>{typeof l=="function"&&l(),t(c)},l=e[0].legacySetup&&e[0].legacySetup(a,()=>l(n),r);r.addEventListener("change",()=>{a(r.multiple?Array.from(r.files):r.files[0])}),r.click()}))}),Xp={};ms(Xp,{default:()=>$p});var qp,$p,Um=hs(()=>{qp=async e=>{let t=await e.getFile();return t.handle=e,t},$p=async(e=[{}])=>{Array.isArray(e)||(e=[e]);let t=[];e.forEach((o,a)=>{t[a]={description:o.description||"",accept:{}},o.mimeTypes?o.mimeTypes.map(l=>{t[a].accept[l]=o.extensions||[]}):t[a].accept["*/*"]=o.extensions||[]});let n=await window.showOpenFilePicker({id:e[0].id,startIn:e[0].startIn,types:t,multiple:e[0].multiple||!1,excludeAcceptAllOption:e[0].excludeAcceptAllOption||!1}),r=await Promise.all(n.map(qp));return e[0].multiple?r:r[0]}}),Qp={};ms(Qp,{default:()=>Jp});var Jp,Km=hs(()=>{Jp=async(e=[{}])=>(Array.isArray(e)||(e=[e]),e[0].recursive=e[0].recursive||!1,new Promise((t,n)=>{let r=document.createElement("input");r.type="file",r.webkitdirectory=!0;let o=l=>{typeof a=="function"&&a(),t(l)},a=e[0].legacySetup&&e[0].legacySetup(o,()=>a(n),r);r.addEventListener("change",()=>{let l=Array.from(r.files);e[0].recursive?e[0].recursive&&e[0].skipDirectory&&(l=l.filter(c=>c.webkitRelativePath.split("/").every(s=>!e[0].skipDirectory({name:s,kind:"directory"})))):l=l.filter(c=>c.webkitRelativePath.split("/").length===2),o(l)}),r.click()}))}),eh={};ms(eh,{default:()=>th});var ip,th,Wm=hs(()=>{ip=async(e,t,n=e.name,r)=>{let o=[],a=[];for await(let l of e.values()){let c=`${n}/${l.name}`;l.kind==="file"?a.push(l.getFile().then(s=>(s.directoryHandle=e,Object.defineProperty(s,"webkitRelativePath",{configurable:!0,enumerable:!0,get:()=>c})))):l.kind==="directory"&&t&&(!r||!r(l))&&o.push(ip(l,t,c,r))}return[...(await Promise.all(o)).flat(),...await Promise.all(a)]},th=async(e={})=>{e.recursive=e.recursive||!1;let t=await window.showDirectoryPicker({id:e.id,startIn:e.startIn});return ip(t,e.recursive,void 0,e.skipDirectory)}}),nh={};ms(nh,{default:()=>rh});var rh,Vm=hs(()=>{rh=async(e,t={})=>{Array.isArray(t)&&(t=t[0]);let n=document.createElement("a"),r=e;"body"in e&&(r=await async function(l,c){let s=l.getReader(),f=new ReadableStream({start:m=>async function b(){return s.read().then(({done:v,value:y})=>{if(!v)return m.enqueue(y),b();m.close()})}()}),d=new Response(f);return s.releaseLock(),new Blob([await d.blob()],{type:c})}(e.body,e.headers.get("content-type"))),n.download=t.fileName||"Untitled",n.href=URL.createObjectURL(r);let o=()=>{typeof a=="function"&&a()},a=t.legacySetup&&t.legacySetup(o,()=>a(reject),n);return n.addEventListener("click",()=>{setTimeout(()=>URL.revokeObjectURL(n.href),3e4),o()}),n.click(),null}}),oh={};ms(oh,{default:()=>ih});var ih,Gm=hs(()=>{ih=async(e,t=[{}],n=null,r=!1)=>{Array.isArray(t)||(t=[t]),t[0].fileName=t[0].fileName||"Untitled";let o=[];if(t.forEach((c,s)=>{o[s]={description:c.description||"",accept:{}},c.mimeTypes?(s===0&&(e.type?c.mimeTypes.push(e.type):e.headers&&e.headers.get("content-type")&&c.mimeTypes.push(e.headers.get("content-type"))),c.mimeTypes.map(f=>{o[s].accept[f]=c.extensions||[]})):e.type&&(o[s].accept[e.type]=c.extensions||[])}),n)try{await n.getFile()}catch(c){if(n=null,r)throw c}let a=n||await window.showSaveFilePicker({suggestedName:t[0].fileName,id:t[0].id,startIn:t[0].startIn,types:o,excludeAcceptAllOption:t[0].excludeAcceptAllOption||!1}),l=await a.createWritable();return"stream"in e?(await e.stream().pipeTo(l),a):"body"in e?(await e.body.pipeTo(l),a):(await l.write(blob),await l.close(),a)}}),Ji=(()=>{if(typeof self>"u")return!1;if("top"in self&&self!==top)try{top.location}catch(e){return!1}else if("showOpenFilePicker"in self)return"showOpenFilePicker";return!1})(),Zm=Ji?Promise.resolve().then(()=>(Um(),Xp)):Promise.resolve().then(()=>(Fm(),Zp));Ji?Promise.resolve().then(()=>(Wm(),eh)):Promise.resolve().then(()=>(Km(),Qp));var Ym=Ji?Promise.resolve().then(()=>(Gm(),oh)):Promise.resolve().then(()=>(Vm(),nh)),ap=function(e){var t,n,r,o=(t=e.extensions)===null||t===void 0?void 0:t.reduce(function(l,c){return l.push(C.LO[c]),l},[]),a=(n=e.extensions)===null||n===void 0?void 0:n.reduce(function(l,c){return c==="jpg"?l.concat(".jpg",".jpeg"):l.concat(".".concat(c))},[]);return async function(...l){return(await Zm).default(...l)}({description:e.description,extensions:a,mimeTypes:o,multiple:(r=e.multiple)!==null&&r!==void 0&&r,legacySetup:function(l,c,s){var f=Vs(c,500),d=function(){m(),document.addEventListener(C.Ks.KEYUP,f),document.addEventListener(C.Ks.POINTER_UP,f),f()},m=function(){var v;if((v=s.files)!==null&&v!==void 0&&v.length){var y=e.multiple?fe(s.files):s.files[0];l(y)}};requestAnimationFrame(function(){window.addEventListener(C.Ks.FOCUS,d)});var b=window.setInterval(function(){m()},500);return function(v){clearInterval(b),f.cancel(),window.removeEventListener(C.Ks.FOCUS,d),document.removeEventListener(C.Ks.KEYUP,f),document.removeEventListener(C.Ks.POINTER_UP,f),v&&(console.warn("Opening the file was canceled (legacy-fs)."),v(new Dc))}}})},Bd=function(e,t){return async function(...n){return(await Ym).default(...n)}(e,{fileName:"".concat(t.name,".").concat(t.extension),description:t.description,extensions:[".".concat(t.extension)]},t.fileHandle)};function ah(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(s,f){if(!!s){if(typeof s=="string")return lh(s,f);var d=Object.prototype.toString.call(s).slice(8,-1);if(d==="Object"&&s.constructor&&(d=s.constructor.name),d==="Map"||d==="Set")return Array.from(s);if(d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return lh(s,f)}}(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(s){throw s},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,l=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var s=n.next();return l=s.done,s},e:function(s){c=!0,a=s},f:function(){try{l||n.return==null||n.return()}finally{if(c)throw a}}}}function lh(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function sh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function $a(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sh(Object(n),!0).forEach(function(r){F(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sh(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Xm={selection:!0,text:!0,rectangle:!0,diamond:!0,ellipse:!0,line:!0,image:!0,arrow:!0,freedraw:!0},Hc=function(e,t){var n,r,o,a,l,c,s,f,d,m,b,v,y,k,_={type:t.type||e.type,version:e.version||1,versionNonce:(n=e.versionNonce)!==null&&n!==void 0?n:0,isDeleted:(r=e.isDeleted)!==null&&r!==void 0&&r,id:e.id||Bn(),fillStyle:e.fillStyle||"hachure",strokeWidth:e.strokeWidth||1,strokeStyle:(o=e.strokeStyle)!==null&&o!==void 0?o:"solid",roughness:(a=e.roughness)!==null&&a!==void 0?a:1,opacity:e.opacity==null?100:e.opacity,angle:e.angle||0,x:(l=(c=t.x)!==null&&c!==void 0?c:e.x)!==null&&l!==void 0?l:0,y:(s=(f=t.y)!==null&&f!==void 0?f:e.y)!==null&&s!==void 0?s:0,strokeColor:e.strokeColor,backgroundColor:e.backgroundColor,width:e.width||0,height:e.height||0,seed:(d=e.seed)!==null&&d!==void 0?d:1,groupIds:(m=e.groupIds)!==null&&m!==void 0?m:[],strokeSharpness:(b=e.strokeSharpness)!==null&&b!==void 0?b:_o(e.type)?"round":"sharp",boundElements:e.boundElementIds?e.boundElementIds.map(function(j){return{type:"arrow",id:j}}):(v=e.boundElements)!==null&&v!==void 0?v:[],updated:(y=e.updated)!==null&&y!==void 0?y:io(),link:(k=e.link)!==null&&k!==void 0?k:null};return $a($a($a({},_),$s(_)),t)},qm=function(e){var t,n,r;switch(e.type){case"text":var o=e.fontSize,a=e.fontFamily;if("font"in e){var l=R(e.font.split(" "),2),c=l[0],s=l[1];o=parseInt(c,10),r=s,a=Object.keys(C.ut).includes(r)?C.ut[r]:C.rk}return Hc(e,{fontSize:o,fontFamily:a,text:(t=e.text)!==null&&t!==void 0?t:"",baseline:e.baseline,textAlign:e.textAlign||C.Hg,verticalAlign:e.verticalAlign||C.hs,containerId:(n=e.containerId)!==null&&n!==void 0?n:null,originalText:e.originalText||e.text});case"freedraw":return Hc(e,{points:e.points,lastCommittedPoint:null,simulatePressure:e.simulatePressure,pressures:e.pressures});case"image":return Hc(e,{status:e.status||"pending",fileId:e.fileId,scale:e.scale||[1,1]});case"line":case"draw":case"arrow":var f=e.startArrowhead,d=f===void 0?null:f,m=e.endArrowhead,b=m===void 0?e.type==="arrow"?"arrow":null:m,v=e.x,y=e.y,k=!Array.isArray(e.points)||e.points.length<2?[[0,0],[e.width,e.height]]:e.points;if(k[0][0]!==0||k[0][1]!==0){var _=Lt.getNormalizedPoints(e);k=_.points,v=_.x,y=_.y}return Hc(e,{type:e.type==="draw"?"line":e.type,startBinding:e.startBinding,endBinding:e.endBinding,lastCommittedPoint:null,startArrowhead:d,endArrowhead:b,points:k,x:v,y});case"ellipse":case"rectangle":case"diamond":return Hc(e,{})}},Fd=function(e,t){var n=t?tr(t):null;return(e||[]).reduce(function(r,o){if(o.type!=="selection"&&!qt(o)){var a=qm(o);if(a){var l=n==null?void 0:n.get(o.id);l&&l.version>a.version&&(a=Ca(a,l.version)),r.push(a)}}return r},[])},ch=function(e,t){e=e||{};var n,r=Oo(),o={},a=ah(Object.entries(r));try{for(a.s();!(n=a.n()).done;){var l=R(n.value,2),c=l[0],s=l[1],f=e[c],d=t?t[c]:void 0;o[c]=f!==void 0?f:d!==void 0?d:s}}catch(m){a.e(m)}finally{a.f()}return $a($a({},o),{},{elementType:Xm[o.elementType]?o.elementType:"selection",zoom:typeof e.zoom=="number"?{value:e.zoom}:e.zoom||r.zoom})},Bc=function(e,t,n){return{elements:Fd(e==null?void 0:e.elements,n),appState:ch(e==null?void 0:e.appState,t||null),files:(e==null?void 0:e.files)||{}}},lp=function(e,t){var n,r=[],o=ah(e);try{for(o.s();!(n=o.n()).done;){var a=n.value;if(Array.isArray(a))r.push({status:t,elements:a,id:Bn(),created:Date.now()});else{var l=a;r.push($a($a({},l),{},{id:l.id||Bn(),status:l.status||t,created:l.created||Date.now()}))}}}catch(c){o.e(c)}finally{o.f()}return r};function uh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function dh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uh(Object(n),!0).forEach(function(r){F(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uh(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var fh=function(){var e=(0,le.Z)($().mark(function t(n){var r;return $().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(n.type!==C.LO.png){o.next=18;break}return o.prev=1,o.next=4,Promise.all([x.e(736),x.e(499)]).then(x.bind(x,673));case 4:return o.next=6,o.sent.decodePngMetadata(n);case 6:return o.abrupt("return",o.sent);case 9:if(o.prev=9,o.t0=o.catch(1),o.t0.message!=="INVALID"){o.next=15;break}throw new DOMException(S("alerts.imageDoesNotContainScene"),"EncodingError");case 15:throw new DOMException(S("alerts.cannotRestoreFromImage"),"EncodingError");case 16:o.next=43;break;case 18:if(!("text"in Blob)){o.next=24;break}return o.next=21,n.text();case 21:r=o.sent,o.next=27;break;case 24:return o.next=26,new Promise(function(a){var l=new FileReader;l.readAsText(n,"utf8"),l.onloadend=function(){l.readyState===FileReader.DONE&&a(l.result)}});case 26:r=o.sent;case 27:if(n.type!==C.LO.svg){o.next=43;break}return o.prev=28,o.next=31,Promise.all([x.e(736),x.e(499)]).then(x.bind(x,673));case 31:return o.next=33,o.sent.decodeSvgMetadata({svg:r});case 33:return o.abrupt("return",o.sent);case 36:if(o.prev=36,o.t1=o.catch(28),o.t1.message!=="INVALID"){o.next=42;break}throw new DOMException(S("alerts.imageDoesNotContainScene"),"EncodingError");case 42:throw new DOMException(S("alerts.cannotRestoreFromImage"),"EncodingError");case 43:return o.abrupt("return",r);case 44:case"end":return o.stop()}},t,null,[[1,9],[28,36]])}));return function(t){return e.apply(this,arguments)}}(),ph=function(e){var t;return e&&((t=e.name.match(/\.(json|excalidraw|png|svg)$/))===null||t===void 0?void 0:t[1])||null},sp=function(e){var t=ph(e);return t==="png"||t==="svg"},Ud=function(e){var t=(e||{}).type;return!!t&&C.jo.includes(t)},Fc=function(){var e=(0,le.Z)($().mark(function t(n,r,o){var a,l,c;return $().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,fh(n);case 2:if(a=s.sent,s.prev=3,l=JSON.parse(a),n1(l)){s.next=7;break}throw new Error(S("alerts.couldNotLoadInvalidFile"));case 7:return c=Bc({elements:Re(l.elements||[]),appState:dh(dh({theme:r==null?void 0:r.theme,fileHandle:n.handle||null},gu(l.appState||{})),r?hi(l.elements||[],r):{}),files:l.files},r,o),s.abrupt("return",c);case 11:throw s.prev=11,s.t0=s.catch(3),console.error(s.t0.message),new Error(S("alerts.couldNotLoadInvalidFile"));case 15:case"end":return s.stop()}},t,null,[[3,11]])}));return function(t,n,r){return e.apply(this,arguments)}}(),hh=function(){var e=(0,le.Z)($().mark(function t(n){var r,o;return $().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fh(n);case 2:if(r=a.sent,(o=JSON.parse(r)).type===C.r8.excalidrawLibrary){a.next=6;break}throw new Error(S("alerts.couldNotLoadInvalidFile"));case 6:return a.abrupt("return",o);case 7:case"end":return a.stop()}},t)}));return function(t){return e.apply(this,arguments)}}(),cp=function(){var e=(0,le.Z)($().mark(function t(n){return $().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",new Promise(function(o,a){try{n.toBlob(function(l){if(!l)return a(new Lc(S("canvasError.canvasTooBig"),"CANVAS_POSSIBLY_TOO_BIG"));o(l)})}catch(l){a(l)}}));case 1:case"end":return r.stop()}},t)}));return function(t){return e.apply(this,arguments)}}(),$m=function(){var e=(0,le.Z)($().mark(function t(n){var r;return $().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.t0=window.crypto.subtle,o.next=4,n.arrayBuffer();case 4:return o.t1=o.sent,o.next=7,o.t0.digest.call(o.t0,"SHA-1",o.t1);case 7:return r=o.sent,o.abrupt("return",(a=new Uint8Array(r),Array.from(a).map(function(l){return"0".concat(l.toString(16)).slice(-2)}).join("")));case 11:return o.prev=11,o.t2=o.catch(0),console.error(o.t2),o.abrupt("return",ko(40));case 15:case"end":return o.stop()}var a},t,null,[[0,11]])}));return function(t){return e.apply(this,arguments)}}(),mh=function(){var e=(0,le.Z)($().mark(function t(n){return $().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",new Promise(function(o,a){var l=new FileReader;l.onload=function(){var c=l.result;o(c)},l.onerror=function(c){return a(c)},l.readAsDataURL(n)}));case 1:case"end":return r.stop()}},t)}));return function(t){return e.apply(this,arguments)}}(),Qm=function(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",n=e.indexOf(","),r=atob(e.slice(n+1)),o=e.slice(0,n).split(":")[1].split(";")[0],a=new ArrayBuffer(r.length),l=new Uint8Array(a),c=0;c<r.length;c++)l[c]=r.charCodeAt(c);return new File([a],t,{type:o})},up=function(){var e=(0,le.Z)($().mark(function t(n,r){var o,a,l,c,s,f;return $().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(n.type!==C.LO.svg){d.next=2;break}return d.abrupt("return",n);case 2:return d.next=4,Promise.all([x.e(736).then(x.t.bind(x,4881,23)).then(function(m){return m.default}),x.e(736).then(x.bind(x,100)).then(function(m){return m.default})]);case 4:if(o=d.sent,a=R(o,2),l=a[0],c=a[1],s=c({pica:l({features:["js","wasm"]})}),r.outputType&&(f=r.outputType,s._create_blob=function(m){return this.pica.toBlob(m.out_canvas,f,.8).then(function(b){return m.out_blob=b,m})}),Ud(n)){d.next=12;break}throw new Error(S("errors.unsupportedFileType"));case 12:return d.t0=File,d.next=15,s.toBlob(n,{max:r.maxWidthOrHeight});case 15:return d.t1=d.sent,d.t2=[d.t1],d.t3=n.name,d.t4={type:r.outputType||n.type},d.abrupt("return",new d.t0(d.t2,d.t3,d.t4));case 20:case"end":return d.stop()}},t)}));return function(t,n){return e.apply(this,arguments)}}(),gh=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return new File([new TextEncoder().encode(e)],t,{type:C.LO.svg})};function Jm(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(s,f){if(!!s){if(typeof s=="string")return vh(s,f);var d=Object.prototype.toString.call(s).slice(8,-1);if(d==="Object"&&s.constructor&&(d=s.constructor.name),d==="Map"||d==="Set")return Array.from(s);if(d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return vh(s,f)}}(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(s){throw s},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,l=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var s=n.next();return l=s.done,s},e:function(s){c=!0,a=s},f:function(){try{l||n.return==null||n.return()}finally{if(c)throw a}}}}function vh(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var e1=function(e,t){var n,r={},o=Jm(e);try{for(o.s();!(n=o.n()).done;){var a=n.value;!a.isDeleted&&"fileId"in a&&a.fileId&&t[a.fileId]&&(r[a.fileId]=t[a.fileId])}}catch(l){o.e(l)}finally{o.f()}return r},Kd=function(e,t,n,r){var o={type:C.r8.excalidraw,version:C.Kr.excalidraw,source:C.pb,elements:r==="local"?Re(e):Me(e),appState:r==="local"?gu(t):vf(t),files:r==="local"?e1(e,n):void 0};return JSON.stringify(o,null,2)},bh=function(){var e=(0,le.Z)($().mark(function t(n,r,o){var a,l,c;return $().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return a=Kd(n,r,o,"local"),l=new Blob([a],{type:C.LO.excalidraw}),s.next=4,Bd(l,{name:r.name,extension:"excalidraw",description:"Excalidraw file",fileHandle:sp(r.fileHandle)?null:r.fileHandle});case 4:return c=s.sent,s.abrupt("return",{fileHandle:c});case 6:case"end":return s.stop()}},t)}));return function(t,n,r){return e.apply(this,arguments)}}(),t1=function(){var e=(0,le.Z)($().mark(function t(n,r){var o;return $().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,ap({description:"Excalidraw files"});case 2:return o=a.sent,a.abrupt("return",Fc(o,n,r));case 4:case"end":return a.stop()}},t)}));return function(t,n){return e.apply(this,arguments)}}(),n1=function(e){return(e==null?void 0:e.type)===C.r8.excalidraw&&(!e.elements||Array.isArray(e.elements)&&(!e.appState||Wt(e.appState)==="object"))},r1=function(e){return Wt(e)==="object"&&e&&e.type===C.r8.excalidrawLibrary&&(e.version===1||e.version===2)},o1=function(){var e=(0,le.Z)($().mark(function t(n){var r,o;return $().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return r={type:C.r8.excalidrawLibrary,version:C.Kr.excalidrawLibrary,source:C.pb,libraryItems:n},o=JSON.stringify(r,null,2),a.next=4,Bd(new Blob([o],{type:C.LO.excalidrawlib}),{name:"library",extension:"excalidrawlib",description:"Excalidraw library file"});case 4:case"end":return a.stop()}},t)}));return function(t){return e.apply(this,arguments)}}(),i1=function(){var e=(0,le.Z)($().mark(function t(n){var r;return $().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,ap({description:"Excalidraw library files"});case 2:return r=o.sent,o.next=5,n.importLibrary(r);case 5:case"end":return o.stop()}},t)}));return function(t){return e.apply(this,arguments)}}();function yh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function xh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yh(Object(n),!0).forEach(function(r){F(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yh(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var wh=function(e){return new Promise(function(t,n){var r=new Image;r.onload=function(){t(r)},r.onerror=function(o){n(o)},r.src=e})},kh=function(){var e=(0,le.Z)($().mark(function t(n){var r,o,a,l,c;return $().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return r=n.fileIds,o=n.files,a=n.imageCache,l=new Map,c=new Map,s.next=5,Promise.all(r.reduce(function(f,d){var m=o[d];return m&&!l.has(d)?(l.set(d,!0),f.concat((0,le.Z)($().mark(function b(){var v,y,k;return $().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:if(_.prev=0,m.mimeType!==C.LO.binary){_.next=3;break}throw new Error("Only images can be added to ImageCache");case 3:return v=wh(m.dataURL),y={image:v,mimeType:m.mimeType},a.set(d,y),_.next=8,v;case 8:k=_.sent,a.set(d,xh(xh({},y),{},{image:k})),_.next=15;break;case 12:_.prev=12,_.t0=_.catch(0),c.set(d,!0);case 15:case"end":return _.stop()}},b,null,[[0,12]])}))())):f},[]));case 5:return s.abrupt("return",{imageCache:a,updatedFiles:l,erroredFiles:c});case 6:case"end":return s.stop()}},t)}));return function(t){return e.apply(this,arguments)}}(),_h=function(e){return e.filter(function(t){return Sr(t)})},a1=function(){var e=(0,le.Z)($().mark(function t(n){var r,o;return $().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(r=new DOMParser().parseFromString(n,C.LO.svg),o=r.querySelector("svg"),!r.querySelector("parsererror")&&((l=o)==null?void 0:l.nodeName.toLowerCase())==="svg"){a.next=7;break}throw new Error(S("errors.invalidSVGString"));case 7:return o.hasAttribute("xmlns")||o.setAttribute("xmlns",C.hR),a.abrupt("return",o.outerHTML);case 9:case"end":return a.stop()}var l},t)}));return function(t){return e.apply(this,arguments)}}(),Eh="<!-- svg-source:excalidraw -->",dp=function(){var e=(0,le.Z)($().mark(function t(n,r,o,a){var l,c,s,f,d,m,b,v,y,k,_,j,M,P,N,U,V,q,G=arguments;return $().wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:return l=a.exportBackground,c=a.exportPadding,s=c===void 0?C.qy:c,f=a.viewBackgroundColor,d=G.length>4&&G[4]!==void 0?G[4]:function(oe,ie){var K=document.createElement("canvas");return K.width=oe*r.exportScale,K.height=ie*r.exportScale,{canvas:K,scale:r.exportScale}},m=fp(n,s),b=R(m,4),v=b[0],y=b[1],k=b[2],_=b[3],j=d(k,_),M=j.canvas,P=j.scale,N=P===void 0?1:P,U=Oo(),ae.next=7,kh({imageCache:new Map,fileIds:_h(n).map(function(oe){return oe.fileId}),files:o});case 7:return V=ae.sent,q=V.imageCache,Wp(n,r,null,N,Xo.canvas(M),M,{viewBackgroundColor:l?f:null,scrollX:-v+s,scrollY:-y+s,zoom:U.zoom,remotePointerViewportCoords:{},remoteSelectedElementIds:{},shouldCacheIgnoreZoom:!1,remotePointerUsernames:{},remotePointerUserStates:{},theme:r.exportWithDarkMode?"dark":"light",imageCache:q,renderScrollbars:!1,renderSelection:!1,renderGrid:!1,isExporting:!0}),ae.abrupt("return",M);case 11:case"end":return ae.stop()}},t)}));return function(t,n,r,o){return e.apply(this,arguments)}}(),Wd=function(){var e=(0,le.Z)($().mark(function t(n,r,o){var a,l,c,s,f,d,m,b,v,y,k,_,j,M,P,N;return $().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:if(a=r.exportPadding,l=a===void 0?C.qy:a,c=r.viewBackgroundColor,s=r.exportScale,f=s===void 0?1:s,d=r.exportEmbedScene,m="",!d){U.next=14;break}return U.prev=3,U.next=6,Promise.all([x.e(736),x.e(499)]).then(x.bind(x,673));case 6:return U.next=8,U.sent.encodeSvgMetadata({text:Kd(n,r,o||{},"local")});case 8:m=U.sent,U.next=14;break;case 11:U.prev=11,U.t0=U.catch(3),console.error(U.t0);case 14:return b=fp(n,l),v=R(b,4),y=v[0],k=v[1],_=v[2],j=v[3],(M=document.createElementNS(C.hR,"svg")).setAttribute("version","1.1"),M.setAttribute("xmlns",C.hR),M.setAttribute("viewBox","0 0 ".concat(_," ").concat(j)),M.setAttribute("width","".concat(_*f)),M.setAttribute("height","".concat(j*f)),r.exportWithDarkMode&&M.setAttribute("filter",C.ZF),M.innerHTML=`
  `.concat(Eh,`
  `).concat(m,`
  <defs>
    <style>
      @font-face {
        font-family: "Virgil";
        src: url("https://excalidraw.com/Virgil.woff2");
      }
      @font-face {
        font-family: "Cascadia";
        src: url("https://excalidraw.com/Cascadia.woff2");
      }
    </style>
  </defs>
  `),r.exportBackground&&c&&((P=M.ownerDocument.createElementNS(C.hR,"rect")).setAttribute("x","0"),P.setAttribute("y","0"),P.setAttribute("width","".concat(_)),P.setAttribute("height","".concat(j)),P.setAttribute("fill",c),M.appendChild(P)),N=Xo.svg(M),Bm(n,N,M,o||{},{offsetX:-y+l,offsetY:-k+l,exportWithDarkMode:r.exportWithDarkMode}),U.abrupt("return",M);case 27:case"end":return U.stop()}},t,null,[[3,11]])}));return function(t,n,r){return e.apply(this,arguments)}}(),fp=function(e,t){var n=R(hn(e),4),r=n[0],o=n[1],a=n[2],l=n[3];return[r,o,on(r,a)+2*t,on(o,l)+t+t]};function l1(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(s,f){if(!!s){if(typeof s=="string")return Sh(s,f);var d=Object.prototype.toString.call(s).slice(8,-1);if(d==="Object"&&s.constructor&&(d=s.constructor.name),d==="Map"||d==="Set")return Array.from(s);if(d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return Sh(s,f)}}(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(s){throw s},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,l=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var s=n.next();return l=s.done,s},e:function(s){c=!0,a=s},f:function(){try{l||n.return==null||n.return()}finally{if(c)throw a}}}}function Sh(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function jh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function cn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jh(Object(n),!0).forEach(function(r){F(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jh(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Ch=32,Jr=12,Qa=256,Ja="NOT_SPREADSHEET",Uc="VALID_SPREADSHEET",Kc=function(e){var t=/^[$]?([0-9,]+(\.[0-9]+)?)$/.exec(e);return t?parseFloat(t[1].replace(/,/g,"")):null},pp=function(e,t){return e.slice(1).every(function(n){return Kc(n[t])!==null})},Oh=function(e){var t=e[0].length;if(t>2)return{type:Ja,reason:"More than 2 columns"};if(t===1){if(!pp(e,0))return{type:Ja,reason:"Value is not numeric"};var n=Kc(e[0][0])===null,r=(n?e.slice(1):e).map(function(s){return Kc(s[0])});return r.length<2?{type:Ja,reason:"Less than two rows"}:{type:Uc,spreadsheet:{title:n?e[0][0]:null,labels:null,values:r}}}var o=pp(e,0)?0:1;if(!pp(e,o))return{type:Ja,reason:"Value is not numeric"};var a=(o+1)%2,l=Kc(e[0][o])===null,c=l?e.slice(1):e;return c.length<2?{type:Ja,reason:"Less than 2 rows"}:{type:Uc,spreadsheet:{title:l?e[0][o]:null,labels:c.map(function(s){return s[a]}),values:c.map(function(s){return Kc(s[o])})}}},Vd=jo.elementBackground.slice(2,jo.elementBackground.length),eo={fillStyle:"hachure",fontFamily:C.rk,fontSize:C.n5,opacity:100,roughness:1,strokeColor:jo.elementStroke[0],strokeSharpness:"sharp",strokeStyle:"solid",strokeWidth:1,verticalAlign:"middle"},Ih=function(e){return{chartWidth:44*e.values.length+Jr,chartHeight:280}},Th=function(e,t,n,r,o,a){var l=Ih(e),c=l.chartWidth,s=l.chartHeight,f=e.title?ai(cn(cn({backgroundColor:o,groupIds:[r]},eo),{},{text:e.title,x:t+c/2,y:n-Qa-24-C.n5,strokeSharpness:"sharp",strokeStyle:"solid",textAlign:"center"})):null,d=a?Ni(cn(cn({backgroundColor:o,groupIds:[r]},eo),{},{type:"rectangle",x:t,y:n-s,width:c,height:s,strokeColor:jo.elementStroke[0],fillStyle:"solid",opacity:6})):null;return[].concat(fe(d?[d]:[]),fe(f?[f]:[]),fe(function(m,b,v,y,k){var _;return((_=m.labels)===null||_===void 0?void 0:_.map(function(j,M){return ai(cn(cn({groupIds:[y],backgroundColor:k},eo),{},{text:j.length>8?"".concat(j.slice(0,5),"..."):j,x:b+44*M+24,y:v+6,width:Ch,angle:5.87,fontSize:16,textAlign:"center",verticalAlign:"top"}))}))||[]}(e,t,n,r,o)),fe(function(m,b,v,y,k){var _=ai(cn(cn({groupIds:[y],backgroundColor:k},eo),{},{x:b-Jr,y:v-Jr,text:"0",textAlign:"right"}));return[_,ai(cn(cn({groupIds:[y],backgroundColor:k},eo),{},{x:b-Jr,y:v-Qa-_.height/2,text:Math.max.apply(Math,fe(m.values)).toLocaleString(),textAlign:"right"}))]}(e,t,n,r,o)),fe(function(m,b,v,y,k){var _=Ih(m),j=_.chartWidth,M=_.chartHeight;return[uo(cn(cn({backgroundColor:k,groupIds:[y]},eo),{},{type:"line",x:b,y:v,startArrowhead:null,endArrowhead:null,width:j,points:[[0,0],[j,0]]})),uo(cn(cn({backgroundColor:k,groupIds:[y]},eo),{},{type:"line",x:b,y:v,startArrowhead:null,endArrowhead:null,height:M,points:[[0,0],[0,-M]]})),uo(cn(cn({backgroundColor:k,groupIds:[y]},eo),{},{type:"line",x:b,y:v-Qa-Jr,startArrowhead:null,endArrowhead:null,strokeStyle:"dotted",width:j,opacity:50,points:[[0,0],[j,0]]}))]}(e,t,n,r,o)))},s1=function(e,t,n,r){return e==="line"?function(o,a,l){var c,s=Math.max.apply(Math,fe(o.values)),f=Bn(),d=Vd[Math.floor(Math.random()*Vd.length)],m=0,b=[],v=l1(o.values);try{for(v.s();!(c=v.n()).done;){var y=c.value,k=44*m,_=-y/s*Qa;b.push([k,_]),m++}}catch(G){v.e(G)}finally{v.f()}var j=Math.max.apply(Math,fe(b.map(function(G){return G[0]}))),M=Math.max.apply(Math,fe(b.map(function(G){return G[1]}))),P=Math.min.apply(Math,fe(b.map(function(G){return G[0]}))),N=Math.min.apply(Math,fe(b.map(function(G){return G[1]}))),U=uo(cn(cn({backgroundColor:d,groupIds:[f]},eo),{},{type:"line",x:a+Jr+16,y:l-Jr,startArrowhead:null,endArrowhead:null,height:M-N,width:j-P,strokeWidth:2,points:b})),V=o.values.map(function(G,ae){var oe=44*ae+6,ie=-G/s*Qa+6;return Ni(cn(cn({backgroundColor:d,groupIds:[f]},eo),{},{fillStyle:"solid",strokeWidth:2,type:"ellipse",x:a+oe+16,y:l+ie-24,width:Jr,height:Jr}))}),q=o.values.map(function(G,ae){var oe=44*ae+6,ie=G/s*Qa+6+Jr;return uo(cn(cn({backgroundColor:d,groupIds:[f]},eo),{},{type:"line",x:a+oe+16+6,y:l-ie,startArrowhead:null,endArrowhead:null,height:ie,strokeStyle:"dotted",opacity:50,points:[[0,0],[0,ie]]}))});return[].concat(fe(Th(o,a,l,f,d,C.Vi.DEVELOPMENT==="production")),[U],fe(q),fe(V))}(t,n,r):function(o,a,l){var c=Math.max.apply(Math,fe(o.values)),s=Bn(),f=Vd[Math.floor(Math.random()*Vd.length)],d=o.values.map(function(m,b){var v=m/c*Qa;return Ni(cn(cn({backgroundColor:f,groupIds:[s]},eo),{},{type:"rectangle",x:a+44*b+Jr,y:l-v-Jr,width:Ch,height:v}))});return[].concat(fe(d),fe(Th(o,a,l,s,f,C.Vi.DEVELOPMENT==="production")))}(t,n,r)},hp="",mp=!1,c1="clipboard"in navigator&&"readText"in navigator.clipboard,Gd="clipboard"in navigator&&"writeText"in navigator.clipboard,Zd="clipboard"in navigator&&"write"in navigator.clipboard&&"ClipboardItem"in window&&"toBlob"in HTMLCanvasElement.prototype,Mh=function(){var e=(0,le.Z)($().mark(function t(n,r,o){var a,l,c;return $().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return a=ge(n,r,!0),l={type:C.r8.excalidrawClipboard,elements:a,files:a.reduce(function(f,d){return Sr(d)&&o[d.fileId]&&(f[d.fileId]=o[d.fileId]),f},{})},c=JSON.stringify(l),hp=c,s.prev=4,mp=!1,s.next=8,Ah(c);case 8:s.next=14;break;case 10:s.prev=10,s.t0=s.catch(4),mp=!0,console.error(s.t0);case 14:case"end":return s.stop()}},t,null,[[4,10]])}));return function(t,n,r){return e.apply(this,arguments)}}(),Ph=function(){if(!hp)return{};try{return JSON.parse(hp)}catch(e){return console.error(e),{}}},u1=function(e){var t=function(n){var r=n.trim().split(`
`).map(function(s){return s.trim().split("	")});if(r.length&&r[0].length!==2&&(r=n.trim().split(`
`).map(function(s){return s.trim().split(",")})),r.length===0)return{type:Ja,reason:"No values"};var o=r[0].length,a=r.every(function(s){return s.length===o});if(!a)return{type:Ja,reason:"All rows don't have same number of columns"};var l=Oh(r);if(l.type!==Uc){var c=Oh(function(s){for(var f=[],d=0;d<s[0].length;d++){for(var m=[],b=0;b<s.length;b++)m.push(s[b][d]);f.push(m)}return f}(r));if(c.type===Uc)return c}return l}(e);return t.type===Uc?{spreadsheet:t.spreadsheet}:null},d1=function(){var e=(0,le.Z)($().mark(function t(n){var r,o;return $().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,!n){a.next=5;break}a.t0=(r=n.clipboardData)===null||r===void 0?void 0:r.getData("text/plain").trim(),a.next=11;break;case 5:if(a.t1=c1,!a.t1){a.next=10;break}return a.next=9,navigator.clipboard.readText();case 9:a.t1=a.sent;case 10:a.t0=a.t1;case 11:return o=a.t0,a.abrupt("return",o||"");case 15:return a.prev=15,a.t2=a.catch(0),a.abrupt("return","");case 18:case"end":return a.stop()}},t,null,[[0,15]])}));return function(t){return e.apply(this,arguments)}}(),f1=function(){var e=(0,le.Z)($().mark(function t(n){var r,o,a,l;return $().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,d1(n);case 2:if((r=c.sent)&&!r.includes(Eh)){c.next=5;break}return c.abrupt("return",Ph());case 5:if(!(o=u1(r))){c.next=8;break}return c.abrupt("return",o);case 8:if(a=Ph(),c.prev=9,l=JSON.parse(r),s=l,![C.r8.excalidraw,C.r8.excalidrawClipboard].includes(s==null?void 0:s.type)||!Array.isArray(s.elements)){c.next=13;break}return c.abrupt("return",{elements:l.elements,files:l.files});case 13:return c.abrupt("return",a);case 16:return c.prev=16,c.t0=c.catch(9),c.abrupt("return",mp&&a.elements?a:{text:r});case 19:case"end":return c.stop()}var s},t,null,[[9,16]])}));return function(t){return e.apply(this,arguments)}}(),p1=function(){var e=(0,le.Z)($().mark(function t(n){return $().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,navigator.clipboard.write([new window.ClipboardItem(F({},C.LO.png,n))]);case 2:case"end":return r.stop()}},t)}));return function(t){return e.apply(this,arguments)}}(),Ah=function(){var e=(0,le.Z)($().mark(function t(n){var r;return $().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(r=!1,!Gd){o.next=11;break}return o.prev=2,o.next=5,navigator.clipboard.writeText(n||"");case 5:r=!0,o.next=11;break;case 8:o.prev=8,o.t0=o.catch(2),console.error(o.t0);case 11:if(r||h1(n||" ")){o.next=13;break}throw new Error("couldn't copy");case 13:case"end":return o.stop()}},t,null,[[2,8]])}));return function(t){return e.apply(this,arguments)}}(),h1=function(e){var t=document.documentElement.getAttribute("dir")==="rtl",n=document.createElement("textarea");n.style.border="0",n.style.padding="0",n.style.margin="0",n.style.position="absolute",n.style[t?"right":"left"]="-9999px";var r=window.pageYOffset||document.documentElement.scrollTop;n.style.top="".concat(r,"px"),n.style.fontSize="12pt",n.setAttribute("readonly",""),n.value=e,document.body.appendChild(n);var o=!1;try{n.select(),n.setSelectionRange(0,n.value.length),o=document.execCommand("copy")}catch(a){console.error(a)}return n.remove(),o},Yd=function(){var e=(0,le.Z)($().mark(function t(n,r,o,a,l){var c,s,f,d,m,b,v,y,k,_;return $().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:if(c=l.exportBackground,s=l.exportPadding,f=s===void 0?C.qy:s,d=l.viewBackgroundColor,m=l.name,b=l.fileHandle,v=b===void 0?null:b,r.length!==0){j.next=3;break}throw new Error(S("alerts.cannotExportEmptyCanvas"));case 3:if(n!=="svg"&&n!=="clipboard-svg"){j.next=17;break}return j.next=6,Wd(r,{exportBackground:c,exportWithDarkMode:o.exportWithDarkMode,viewBackgroundColor:d,exportPadding:f,exportScale:o.exportScale,exportEmbedScene:o.exportEmbedScene&&n==="svg"},a);case 6:if(y=j.sent,n!=="svg"){j.next=13;break}return j.next=10,Bd(new Blob([y.outerHTML],{type:C.LO.svg}),{description:"Export to SVG",name:m,extension:"svg",fileHandle:v});case 10:return j.abrupt("return",j.sent);case 13:if(n!=="clipboard-svg"){j.next=17;break}return j.next=16,Ah(y.outerHTML);case 16:return j.abrupt("return");case 17:return j.next=19,dp(r,o,a,{exportBackground:c,viewBackgroundColor:d,exportPadding:f});case 19:return(k=j.sent).style.display="none",document.body.appendChild(k),j.next=24,cp(k);case 24:if(_=j.sent,k.remove(),n!=="png"){j.next=38;break}if(!o.exportEmbedScene){j.next=33;break}return j.next=30,Promise.all([x.e(736),x.e(499)]).then(x.bind(x,673));case 30:return j.next=32,j.sent.encodePngMetadata({blob:_,metadata:Kd(r,o,a,"local")});case 32:_=j.sent;case 33:return j.next=35,Bd(_,{description:"Export to PNG",name:m,extension:"png",fileHandle:v});case 35:return j.abrupt("return",j.sent);case 38:if(n!=="clipboard"){j.next=49;break}return j.prev=39,j.next=42,p1(_);case 42:j.next=49;break;case 44:if(j.prev=44,j.t0=j.catch(39),j.t0.name!=="CANVAS_POSSIBLY_TOO_BIG"){j.next=48;break}throw j.t0;case 48:throw new Error(S("alerts.couldNotCopyToClipboard"));case 49:case"end":return j.stop()}},t,null,[[39,44]])}));return function(t,n,r,o,a){return e.apply(this,arguments)}}();function Lh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Dh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Lh(Object(n),!0).forEach(function(r){F(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lh(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var m1=function(){var e=(0,le.Z)($().mark(function t(n,r,o){var a,l,c,s,f,d;return $().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:if(l=(a=r).exportBackground,c=a.viewBackgroundColor,s=a.name,f=a.fileHandle,d=ph(f),f&&((b=d)==="png"||b==="svg")){m.next=4;break}throw new Error("fileHandle should exist and should be of type svg or png when resaving");case 4:return r=Dh(Dh({},r),{},{exportEmbedScene:!0}),m.next=7,Yd(d,Y(n),r,o,{exportBackground:l,viewBackgroundColor:c,name:s,fileHandle:f});case 7:return m.abrupt("return",{fileHandle:f});case 8:case"end":return m.stop()}var b},t)}));return function(t,n,r){return e.apply(this,arguments)}}(),Xd=(x(7225),function(e){var t=e.children,n=e.checked,r=e.onChange,o=e.className;return(0,p.jsxs)("div",{className:mt("Checkbox",o,{"is-checked":n}),onClick:function(a){r(!n,a),a.currentTarget.querySelector(".Checkbox-box").focus()},children:[(0,p.jsx)("button",{className:"Checkbox-box",role:"checkbox","aria-checked":n,children:Of}),(0,p.jsx)("div",{className:"Checkbox-label",children:t})]})});x(4623);function Rh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function g1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Rh(Object(n),!0).forEach(function(r){F(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rh(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var vo=function(e){var t=e.children,n=e.gap,r=e.align,o=e.justifyContent,a=e.className,l=e.style;return(0,p.jsx)("div",{className:mt("Stack Stack_horizontal",a),style:g1({"--gap":n,alignItems:r,justifyContent:o},l),children:t})},Ko=function(e){var t=e.children,n=e.gap,r=e.align,o=e.justifyContent,a=e.className;return(0,p.jsx)("div",{className:mt("Stack Stack_vertical",a),style:{"--gap":n,justifyItems:r,justifyContent:o},children:t})},v1=(x(554),function(e){var t=e.fileName,n=e.onSave;return(0,p.jsxs)(vo,{className:"ActiveFile",gap:1,align:"center",children:[(0,p.jsxs)("span",{className:"ActiveFile__fileName",children:[Ec,(0,p.jsx)("span",{children:t})]}),(0,p.jsx)(tt,{type:"icon",icon:sd,title:S("buttons.save"),"aria-label":S("buttons.save"),onClick:n,"data-testid":"save-button"})]})});function zh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Rn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zh(Object(n),!0).forEach(function(r){F(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zh(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}Ie({name:"changeProjectName",perform:function(e,t,n){return ps("change","title"),{appState:Rn(Rn({},t),{},{name:n}),commitToHistory:!1}},PanelComponent:function(e){var t=e.appState,n=e.updateData,r=e.appProps;return(0,p.jsx)(Im,{label:S("labels.fileTitle"),value:t.name||"Unnamed",onChange:function(o){return n(o)},isNameEditable:r.name===void 0&&!t.viewModeEnabled})}}),Ie({name:"changeExportScale",perform:function(e,t,n){return{appState:Rn(Rn({},t),{},{exportScale:n}),commitToHistory:!1}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData,o=Y(t),a=ne(o,n)?ge(o,n):o;return(0,p.jsx)(p.Fragment,{children:C.ZB.map(function(l){var c=function(b,v,y){var k=R(fp(b,v).map(function(_){return Math.trunc(_*y)}),4);return[k[2],k[3]]}(a,C.qy,l),s=R(c,2),f=s[0],d=s[1],m="".concat(S("buttons.scale")," ").concat(l,"x (").concat(f,"x").concat(d,")");return(0,p.jsx)(tt,{size:"small",type:"radio",icon:"".concat(l,"x"),name:"export-canvas-scale",title:m,"aria-label":m,id:"export-canvas-scale",checked:l===n.exportScale,onChange:function(){return r(l)}},l)})})}}),Ie({name:"changeExportBackground",perform:function(e,t,n){return{appState:Rn(Rn({},t),{},{exportBackground:n}),commitToHistory:!1}},PanelComponent:function(e){var t=e.appState,n=e.updateData;return(0,p.jsx)(Xd,{checked:t.exportBackground,onChange:function(r){return n(r)},children:S("labels.withBackground")})}}),Ie({name:"changeExportEmbedScene",perform:function(e,t,n){return{appState:Rn(Rn({},t),{},{exportEmbedScene:n}),commitToHistory:!1}},PanelComponent:function(e){var t=e.appState,n=e.updateData;return(0,p.jsxs)(Xd,{checked:t.exportEmbedScene,onChange:function(r){return n(r)},children:[S("labels.exportEmbedScene"),(0,p.jsx)(is,{label:S("labels.exportEmbedScene_details"),long:!0,children:(0,p.jsx)("div",{className:"excalidraw-tooltip-icon",children:md})})]})}}),Ie({name:"saveToActiveFile",perform:(Nh=(0,le.Z)($().mark(function e(t,n,r,o){var a,l,c;return $().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(a=!!n.fileHandle,s.prev=1,!sp(n.fileHandle)){s.next=8;break}return s.next=5,m1(t,n,o.files);case 5:s.t0=s.sent,s.next=11;break;case 8:return s.next=10,bh(t,n,o.files);case 10:s.t0=s.sent;case 11:return l=s.t0,c=l.fileHandle,s.abrupt("return",{commitToHistory:!1,appState:Rn(Rn({},n),{},{fileHandle:c,toastMessage:a?c!=null&&c.name?S("toast.fileSavedToFilename").replace("{filename}",'"'.concat(c.name,'"')):S("toast.fileSaved"):null})});case 16:return s.prev=16,s.t1=s.catch(1),(s.t1===null||s.t1===void 0?void 0:s.t1.name)!=="AbortError"?console.error(s.t1):console.warn(s.t1),s.abrupt("return",{commitToHistory:!1});case 20:case"end":return s.stop()}},e,null,[[1,16]])})),function(e,t,n,r){return Nh.apply(this,arguments)}),keyTest:function(e){return e.key===re.S&&e[re.CTRL_OR_CMD]&&!e.shiftKey},PanelComponent:function(e){var t,n=e.updateData,r=e.appState;return(0,p.jsx)(v1,{onSave:function(){return n(null)},fileName:(t=r.fileHandle)===null||t===void 0?void 0:t.name})}});var Nh,Hh,Bh,b1=Ie({name:"saveFileToDisk",perform:(Hh=(0,le.Z)($().mark(function e(t,n,r,o){var a,l;return $().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,bh(t,Rn(Rn({},n),{},{fileHandle:null}),o.files);case 3:return a=c.sent,l=a.fileHandle,c.abrupt("return",{commitToHistory:!1,appState:Rn(Rn({},n),{},{fileHandle:l})});case 8:return c.prev=8,c.t0=c.catch(0),(c.t0===null||c.t0===void 0?void 0:c.t0.name)!=="AbortError"?console.error(c.t0):console.warn(c.t0),c.abrupt("return",{commitToHistory:!1});case 12:case"end":return c.stop()}},e,null,[[0,8]])})),function(e,t,n,r){return Hh.apply(this,arguments)}),keyTest:function(e){return e.key===re.S&&e.shiftKey&&e[re.CTRL_OR_CMD]},PanelComponent:function(e){var t=e.updateData;return(0,p.jsx)(tt,{type:"button",icon:cd,title:S("buttons.saveAs"),"aria-label":S("buttons.saveAs"),showAriaLabel:zr(),hidden:!Ji,onClick:function(){return t(null)},"data-testid":"save-as-button"})}});Ie({name:"loadScene",perform:(Bh=(0,le.Z)($().mark(function e(t,n,r,o){var a,l,c,s;return $().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.prev=0,f.next=3,t1(n,t);case 3:return a=f.sent,l=a.elements,c=a.appState,s=a.files,f.abrupt("return",{elements:l,appState:c,files:s,commitToHistory:!0});case 10:if(f.prev=10,f.t0=f.catch(0),(f.t0===null||f.t0===void 0?void 0:f.t0.name)!=="AbortError"){f.next=15;break}return console.warn(f.t0),f.abrupt("return",!1);case 15:return f.abrupt("return",{elements:t,appState:Rn(Rn({},n),{},{errorMessage:f.t0.message}),files:o.files,commitToHistory:!1});case 16:case"end":return f.stop()}},e,null,[[0,10]])})),function(e,t,n,r){return Bh.apply(this,arguments)}),keyTest:function(e){return e[re.CTRL_OR_CMD]&&e.key===re.O},PanelComponent:function(e){var t=e.updateData;return e.appState,(0,p.jsx)(tt,{type:"button",icon:ud,title:S("buttons.load"),"aria-label":S("buttons.load"),showAriaLabel:zr(),onClick:t,"data-testid":"load-button"})}}),Ie({name:"exportWithDarkMode",perform:function(e,t,n){return{appState:Rn(Rn({},t),{},{exportWithDarkMode:n}),commitToHistory:!1}},PanelComponent:function(e){var t=e.appState,n=e.updateData;return(0,p.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"-45px",marginBottom:"10px"},children:(0,p.jsx)(Od,{value:t.exportWithDarkMode?C.C6.DARK:C.C6.LIGHT,onChange:function(r){n(r===C.C6.DARK)},title:S("labels.toggleExportColorScheme")})})}});function Fh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Uh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Fh(Object(n),!0).forEach(function(r){F(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fh(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Kh="{}",y1=Ie({name:"copyStyles",perform:function(e,t){var n=e.find(function(r){return t.selectedElementIds[r.id]});return n&&(Kh=JSON.stringify(n)),{appState:Uh(Uh({},t),{},{toastMessage:S("toast.copyStyles")}),commitToHistory:!1}},contextItemLabel:"labels.copyStyles",keyTest:function(e){return e[re.CTRL_OR_CMD]&&e.altKey&&e.code===bl}}),x1=Ie({name:"pasteStyles",perform:function(e,t){var n,r=JSON.parse(Kh);return((n=r)==null?void 0:n.type)!=="text"&&(n==null?void 0:n.type)!=="diamond"&&(n==null?void 0:n.type)!=="rectangle"&&(n==null?void 0:n.type)!=="ellipse"&&(n==null?void 0:n.type)!=="arrow"&&(n==null?void 0:n.type)!=="freedraw"&&(n==null?void 0:n.type)!=="line"?{elements:e,commitToHistory:!1}:{elements:e.map(function(o){if(t.selectedElementIds[o.id]){var a=It(o,{backgroundColor:r==null?void 0:r.backgroundColor,strokeWidth:r==null?void 0:r.strokeWidth,strokeColor:r==null?void 0:r.strokeColor,strokeStyle:r==null?void 0:r.strokeStyle,fillStyle:r==null?void 0:r.fillStyle,opacity:r==null?void 0:r.opacity,roughness:r==null?void 0:r.roughness});return St(a)&&St(o)&&(je(a,{fontSize:(r==null?void 0:r.fontSize)||C.n5,fontFamily:(r==null?void 0:r.fontFamily)||C.rk,textAlign:(r==null?void 0:r.textAlign)||C.Hg}),ln(o,Kr(o))),a}return o}),commitToHistory:!0}},contextItemLabel:"labels.pasteStyles",keyTest:function(e){return e[re.CTRL_OR_CMD]&&e.altKey&&e.code===Us}}),w1=function(e){return(0,p.jsx)("button",{className:"help-icon",onClick:e.onClick,type:"button",title:"".concat(e.title," \u2014 ?"),"aria-label":e.title,children:md})};function Wh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function gs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Wh(Object(n),!0).forEach(function(r){F(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wh(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}Ie({name:"toggleCanvasMenu",perform:function(e,t){return{appState:gs(gs({},t),{},{openMenu:t.openMenu==="canvas"?null:"canvas"}),commitToHistory:!1}},PanelComponent:function(e){var t=e.appState,n=e.updateData;return(0,p.jsx)(tt,{type:"button",icon:pd,"aria-label":S("buttons.menu"),onClick:n,selected:t.openMenu==="canvas"})}}),Ie({name:"toggleEditMenu",perform:function(e,t){return{appState:gs(gs({},t),{},{openMenu:t.openMenu==="shape"?null:"shape"}),commitToHistory:!1}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,p.jsx)(tt,{visible:E(n,Y(t)),type:"button",icon:Yl,"aria-label":S("buttons.edit"),onClick:r,selected:n.openMenu==="shape"})}}),Ie({name:"toggleFullScreen",perform:function(){return X()||document.documentElement.requestFullscreen(),X()&&document.exitFullscreen(),{commitToHistory:!1}},keyTest:function(e){return e.code===Bs&&!e[re.CTRL_OR_CMD]}}),Ie({name:"toggleShortcuts",perform:function(e,t,n,r){var o=r.focusContainer;return t.showHelpDialog&&o(),{appState:gs(gs({},t),{},{showHelpDialog:!t.showHelpDialog}),commitToHistory:!1}},PanelComponent:function(e){var t=e.updateData;return(0,p.jsx)(w1,{title:S("helpDialog.title"),onClick:t})},keyTest:function(e){return e.key===re.QUESTION_MARK}});function Vh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function qd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Vh(Object(n),!0).forEach(function(r){F(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vh(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function k1(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(s,f){if(!!s){if(typeof s=="string")return Gh(s,f);var d=Object.prototype.toString.call(s).slice(8,-1);if(d==="Object"&&s.constructor&&(d=s.constructor.name),d==="Map"||d==="Set")return Array.from(s);if(d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return Gh(s,f)}}(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(s){throw s},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,l=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var s=n.next();return l=s.done,s},e:function(s){c=!0,a=s},f:function(){try{l||n.return==null||n.return()}finally{if(c)throw a}}}}function Gh(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Zh=function(e,t){var n=ge(Y(e),t,!0);return n.length>=2&&!function(r){if(r.length>=2){var o,a=k1(r[0].groupIds);try{var l=function(){var s=o.value;if(r.reduce(function(f,d){return f&&co(d,s)},!0))return{v:!0}};for(a.s();!(o=a.n()).done;){var c=l();if(Wt(c)==="object")return c.v}}catch(s){a.e(s)}finally{a.f()}}return!1}(n)},Yh=Ie({name:"group",perform:function(e,t){var n=ge(Y(e),t,!0);if(n.length<2)return{appState:t,elements:e,commitToHistory:!1};var r=zi(t);if(r.length===1){var o=r[0],a=new Set(Wr(e,o).map(function(_){return _.id})),l=new Set(n.map(function(_){return _.id}));if(new Set([].concat(fe(Array.from(a)),fe(Array.from(l)))).size===a.size)return{appState:t,elements:e,commitToHistory:!1}}var c=Bn(),s=tr(n),f=e.map(function(_){return s.get(_.id)?It(_,{groupIds:Ma(_.groupIds,c,t.editingGroupId)}):_}),d=Wr(f,c),m=d[d.length-1],b=f.lastIndexOf(m),v=f.slice(b+1),y=f.slice(0,b).filter(function(_){return!co(_,c)}),k=[].concat(fe(y),fe(d),fe(v));return{appState:Mn(c,qd(qd({},t),{},{selectedGroupIds:{}}),Y(k)),elements:k,commitToHistory:!0}},contextItemLabel:"labels.group",contextItemPredicate:function(e,t){return Zh(e,t)},keyTest:function(e){return!e.shiftKey&&e[re.CTRL_OR_CMD]&&e.code===Hs},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,p.jsx)(tt,{hidden:!Zh(t,n),type:"button",icon:(0,p.jsx)(go,{theme:n.theme}),onClick:function(){return r(null)},title:"".concat(S("labels.group")," \u2014 ").concat(H("CtrlOrCmd+G")),"aria-label":S("labels.group"),visible:ne(Y(t),n)})}}),Xh=Ie({name:"ungroup",perform:function(e,t){if(zi(t).length===0)return{appState:t,elements:e,commitToHistory:!1};var n=[],r=e.map(function(a){dr(a)&&n.push(a.id);var l=function(c,s){return c.filter(function(f){return!s[f]})}(a.groupIds,t.selectedGroupIds);return l.length===a.groupIds.length?a:It(a,{groupIds:l})}),o=yr(qd(qd({},t),{},{selectedGroupIds:{}}),Y(r));return n.forEach(function(a){return o.selectedElementIds[a]=!1}),{appState:o,elements:r,commitToHistory:!0}},keyTest:function(e){return e.shiftKey&&e[re.CTRL_OR_CMD]&&e.code===Hs},contextItemLabel:"labels.ungroup",contextItemPredicate:function(e,t){return zi(t).length>0},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,p.jsx)(tt,{type:"button",hidden:zi(n).length===0,icon:(0,p.jsx)(vd,{theme:n.theme}),onClick:function(){return r(null)},title:"".concat(S("labels.ungroup")," \u2014 ").concat(H("CtrlOrCmd+Shift+G")),"aria-label":S("labels.ungroup"),visible:ne(Y(t),n)})}}),_1=(x(2789),function(e){var t=e.children,n=e.color,r=e.border,o=e.onClick;return(0,p.jsx)("div",{className:"Avatar",style:{background:n,border:"1px solid ".concat(r)},onClick:o,children:t})});function qh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function gp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qh(Object(n),!0).forEach(function(r){F(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qh(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}Ie({name:"goToCollaborator",perform:function(e,t,n){var r=n;return r?{appState:gp(gp(gp({},t),Dn({scenePoint:r,viewportDimensions:{width:t.width,height:t.height},zoom:t.zoom})),{},{openMenu:t.openMenu==="canvas"?null:t.openMenu}),commitToHistory:!1}:{appState:t,commitToHistory:!1}},PanelComponent:function(e){var t=e.appState,n=e.updateData,r=e.data,o=r==null?void 0:r.id;if(!o)return null;var a=t.collaborators.get(o);if(!a)return null;var l=ep(o,t),c=l.background,s=l.stroke,f=function(d){if(!d)return"?";var m=d.trim().split(" ");if(m.length<2)return m[0].substring(0,2).toUpperCase();var b=m[0],v=m[m.length-1];return(b[0]+v[0]).toUpperCase()}(a.username);return(0,p.jsx)(_1,{color:c,border:s,onClick:function(){return n(a.pointer)},children:f})}});function $h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function vs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$h(Object(n),!0).forEach(function(r){F(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$h(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var E1=Ie({name:"addToLibrary",perform:function(e,t,n,r){var o=ge(Y(e),t,!0);return o.some(function(a){return a.type==="image"})?{commitToHistory:!1,appState:vs(vs({},t),{},{errorMessage:"Support for adding images to the library coming soon!"})}:r.library.loadLibrary().then(function(a){return r.library.saveLibrary([{id:Bn(),status:"unpublished",elements:o.map(Aa),created:Date.now()}].concat(fe(a)))}).then(function(){return{commitToHistory:!1,appState:vs(vs({},t),{},{toastMessage:S("toast.addedToLibrary")})}}).catch(function(a){return{commitToHistory:!1,appState:vs(vs({},t),{},{errorMessage:a.message})}})},contextItemLabel:"labels.addToLibrary"});function Qh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Jh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Qh(Object(n),!0).forEach(function(r){F(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qh(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var S1=function(e,t,n){var r=n.axis,o=n.position,a=Tn(e),l=R(r==="x"?["minX","maxX"]:["minY","maxY"],2),c=l[0],s=l[1],f={x:0,y:0};return Jh(Jh({},f),{},F({},r,o==="start"?t[c]-a[c]:o==="end"?t[s]-a[s]:(t[c]+t[s])/2-(a[c]+a[s])/2))},bs=function(e,t){return ge(Y(e),t).length>1},ys=function(e,t,n){var r=function(a,l){var c=Cl(a),s=Tn(a);return c.flatMap(function(f){var d=S1(f,s,l);return f.map(function(m){return It(m,{x:m.x+d.x,y:m.y+d.y})})})}(ge(Y(e),t),n),o=tr(r);return e.map(function(a){return o.get(a.id)||a})};Ie({name:"alignTop",perform:function(e,t){return{appState:t,elements:ys(e,t,{position:"start",axis:"y"}),commitToHistory:!0}},keyTest:function(e){return e[re.CTRL_OR_CMD]&&e.shiftKey&&e.key===re.ARROW_UP},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,p.jsx)(tt,{hidden:!bs(t,n),type:"button",icon:(0,p.jsx)(gd,{theme:n.theme}),onClick:function(){return r(null)},title:"".concat(S("labels.alignTop")," \u2014 ").concat(H("CtrlOrCmd+Shift+Up")),"aria-label":S("labels.alignTop"),visible:ne(Y(t),n)})}}),Ie({name:"alignBottom",perform:function(e,t){return{appState:t,elements:ys(e,t,{position:"end",axis:"y"}),commitToHistory:!0}},keyTest:function(e){return e[re.CTRL_OR_CMD]&&e.shiftKey&&e.key===re.ARROW_DOWN},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,p.jsx)(tt,{hidden:!bs(t,n),type:"button",icon:(0,p.jsx)(Lf,{theme:n.theme}),onClick:function(){return r(null)},title:"".concat(S("labels.alignBottom")," \u2014 ").concat(H("CtrlOrCmd+Shift+Down")),"aria-label":S("labels.alignBottom"),visible:ne(Y(t),n)})}}),Ie({name:"alignLeft",perform:function(e,t){return{appState:t,elements:ys(e,t,{position:"start",axis:"x"}),commitToHistory:!0}},keyTest:function(e){return e[re.CTRL_OR_CMD]&&e.shiftKey&&e.key===re.ARROW_LEFT},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,p.jsx)(tt,{hidden:!bs(t,n),type:"button",icon:(0,p.jsx)(Lr,{theme:n.theme}),onClick:function(){return r(null)},title:"".concat(S("labels.alignLeft")," \u2014 ").concat(H("CtrlOrCmd+Shift+Left")),"aria-label":S("labels.alignLeft"),visible:ne(Y(t),n)})}}),Ie({name:"alignRight",perform:function(e,t){return{appState:t,elements:ys(e,t,{position:"end",axis:"x"}),commitToHistory:!0}},keyTest:function(e){return e[re.CTRL_OR_CMD]&&e.shiftKey&&e.key===re.ARROW_RIGHT},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,p.jsx)(tt,{hidden:!bs(t,n),type:"button",icon:(0,p.jsx)(Df,{theme:n.theme}),onClick:function(){return r(null)},title:"".concat(S("labels.alignRight")," \u2014 ").concat(H("CtrlOrCmd+Shift+Right")),"aria-label":S("labels.alignRight"),visible:ne(Y(t),n)})}}),Ie({name:"alignVerticallyCentered",perform:function(e,t){return{appState:t,elements:ys(e,t,{position:"center",axis:"y"}),commitToHistory:!0}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,p.jsx)(tt,{hidden:!bs(t,n),type:"button",icon:(0,p.jsx)(lt,{theme:n.theme}),onClick:function(){return r(null)},title:S("labels.centerVertically"),"aria-label":S("labels.centerVertically"),visible:ne(Y(t),n)})}}),Ie({name:"alignHorizontallyCentered",perform:function(e,t){return{appState:t,elements:ys(e,t,{position:"center",axis:"x"}),commitToHistory:!0}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,p.jsx)(tt,{hidden:!bs(t,n),type:"button",icon:(0,p.jsx)(zf,{theme:n.theme}),onClick:function(){return r(null)},title:S("labels.centerHorizontally"),"aria-label":S("labels.centerHorizontally"),visible:ne(Y(t),n)})}});function j1(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(s,f){if(!!s){if(typeof s=="string")return e0(s,f);var d=Object.prototype.toString.call(s).slice(8,-1);if(d==="Object"&&s.constructor&&(d=s.constructor.name),d==="Map"||d==="Set")return Array.from(s);if(d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return e0(s,f)}}(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(s){throw s},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,l=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var s=n.next();return l=s.done,s},e:function(s){c=!0,a=s},f:function(){try{l||n.return==null||n.return()}finally{if(c)throw a}}}}function e0(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var t0=function(e,t){return ge(Y(e),t).length>1},n0=function(e,t,n){var r=function(a,l){var c,s=R(l.axis==="x"?["minX","midX","maxX","width"]:["minY","midY","maxY","height"],4),f=s[0],d=s[1],m=s[2],b=s[3],v=Tn(a),y=Cl(a).map(function(q){return[q,Tn(q)]}).sort(function(q,G){return q[1][d]-G[1][d]}),k=0,_=j1(y);try{for(_.s();!(c=_.n()).done;)k+=c.value[1][b]}catch(q){_.e(q)}finally{_.f()}var j=(v[b]-k)/(y.length-1);if(j<0){var M=y.findIndex(function(q){return q[1][f]===v[f]}),P=y.findIndex(function(q){return q[1][m]===v[m]}),N=(y[P][1][d]-y[M][1][d])/(y.length-1),U=y[M][1][d];return y.flatMap(function(q,G){var ae=R(q,2),oe=ae[0],ie=ae[1],K={x:0,y:0};return G!==M&&G!==P&&(U+=N,K[l.axis]=U-ie[d]),oe.map(function(he){return It(he,{x:he.x+K.x,y:he.y+K.y})})})}var V=v[f];return y.flatMap(function(q){var G=R(q,2),ae=G[0],oe=G[1],ie={x:0,y:0};return ie[l.axis]=V-oe[f],V+=j,V+=oe[b],ae.map(function(K){return It(K,{x:K.x+ie.x,y:K.y+ie.y})})})}(ge(Y(e),t),n),o=tr(r);return e.map(function(a){return o.get(a.id)||a})},r0=(Ie({name:"distributeHorizontally",perform:function(e,t){return{appState:t,elements:n0(e,t,{space:"between",axis:"x"}),commitToHistory:!0}},keyTest:function(e){return e.altKey&&e.code===Fs},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,p.jsx)(tt,{hidden:!t0(t,n),type:"button",icon:(0,p.jsx)(Rf,{theme:n.theme}),onClick:function(){return r(null)},title:"".concat(S("labels.distributeHorizontally")," \u2014 ").concat(H("Alt+H")),"aria-label":S("labels.distributeHorizontally"),visible:ne(Y(t),n)})}}),Ie({name:"distributeVertically",perform:function(e,t){return{appState:t,elements:n0(e,t,{space:"between",axis:"y"}),commitToHistory:!0}},keyTest:function(e){return e.altKey&&e.code===Us},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,p.jsx)(tt,{hidden:!t0(t,n),type:"button",icon:(0,p.jsx)(fi,{theme:n.theme}),onClick:function(){return r(null)},title:"".concat(S("labels.distributeVertically")," \u2014 ").concat(H("Alt+V")),"aria-label":S("labels.distributeVertically"),visible:ne(Y(t),n)})}}),Ie({name:"flipHorizontal",perform:function(e,t){return{elements:i0(e,t,"horizontal"),appState:t,commitToHistory:!0}},keyTest:function(e){return e.shiftKey&&e.code==="KeyH"},contextItemLabel:"labels.flipHorizontal",contextItemPredicate:function(e,t){return function(n,r){var o=ge(Y(n),r);return o.length===1&&o[0].type!=="text"}(e,t)}})),o0=Ie({name:"flipVertical",perform:function(e,t){return{elements:i0(e,t,"vertical"),appState:t,commitToHistory:!0}},keyTest:function(e){return e.shiftKey&&e.code==="KeyV"},contextItemLabel:"labels.flipVertical",contextItemPredicate:function(e,t){return function(n,r){return ge(Y(n),r).length===1}(e,t)}}),i0=function(e,t,n){var r=ge(Y(e),t);if(r.length>1)return e;var o=C1(r,t,n),a=tr(o);return e.map(function(l){return a.get(l.id)||l})},C1=function(e,t,n){return e.forEach(function(r){O1(r,t),n==="vertical"&&I1(r,Math.PI)}),e},O1=function(e,t){var n=e.x,r=e.y,o=e.width,a=e.height,l=Xr(e.angle),c=0;(Bt(e)||Br(e))&&(c=2*e.points.reduce(function(y,k){return Math.max(y,k[0])},0)-e.width),je(e,{angle:Xr(0)});var s=rc(e,t.zoom),f=!0,d=0,m=s.nw;if(m||(f=!1,m=s.ne)){if(Bt(e)){for(var b=1;b<e.points.length;b++)Lt.movePoints(e,[{index:b,point:[-e.points[b][0],e.points[b][1]]}]);Lt.normalizePoints(e)}else d=f?e.x+2*o:e.x-2*o,ed(e,!0,e,f?"nw":"ne",!1,d,m[1]),je(e,{width:o,height:a});var v=Xr(2*Math.PI-l);v<0&&(v=Xr(v+2*Math.PI)),je(e,{angle:v}),je(e,{x:n+c,y:r}),Yr(e)}else je(e,{angle:l})},I1=function(e,t){var n=e.x,r=e.y,o=Xr(e.angle+t);o<0&&(o=Xr(2*Math.PI+o)),je(e,{angle:o}),je(e,{x:n,y:r})};function a0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function xs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?a0(Object(n),!0).forEach(function(r){F(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a0(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var vp=Ie({name:"copy",perform:function(e,t,n,r){return Mh(Y(e),t,r.files),{commitToHistory:!1}},contextItemLabel:"labels.copy",keyTest:void 0}),T1=Ie({name:"cut",perform:function(e,t,n,r){return vp.perform(e,t,n,r),Ke.perform(e,t)},contextItemLabel:"labels.cut",keyTest:function(e){return e[re.CTRL_OR_CMD]&&e.code===er}}),l0=Ie({name:"copyAsSvg",perform:function(){var e=(0,le.Z)($().mark(function t(n,r,o,a){var l;return $().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(a.canvas){c.next=2;break}return c.abrupt("return",{commitToHistory:!1});case 2:return l=ge(Y(n),r,!0),c.prev=3,c.next=6,Yd("clipboard-svg",l.length?l:Y(n),r,a.files,r);case 6:return c.abrupt("return",{commitToHistory:!1});case 9:return c.prev=9,c.t0=c.catch(3),console.error(c.t0),c.abrupt("return",{appState:xs(xs({},r),{},{errorMessage:c.t0.message}),commitToHistory:!1});case 13:case"end":return c.stop()}},t,null,[[3,9]])}));return function(t,n,r,o){return e.apply(this,arguments)}}(),contextItemLabel:"labels.copyAsSvg"}),s0=Ie({name:"copyAsPng",perform:function(){var e=(0,le.Z)($().mark(function t(n,r,o,a){var l;return $().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(a.canvas){c.next=2;break}return c.abrupt("return",{commitToHistory:!1});case 2:return l=ge(Y(n),r,!0),c.prev=3,c.next=6,Yd("clipboard",l.length?l:Y(n),r,a.files,r);case 6:return c.abrupt("return",{appState:xs(xs({},r),{},{toastMessage:S("toast.copyToClipboardAsPng",{exportSelection:l.length?S("toast.selection"):S("toast.canvas"),exportColorScheme:r.exportWithDarkMode?S("buttons.darkMode"):S("buttons.lightMode")})}),commitToHistory:!1});case 9:return c.prev=9,c.t0=c.catch(3),console.error(c.t0),c.abrupt("return",{appState:xs(xs({},r),{},{errorMessage:c.t0.message}),commitToHistory:!1});case 13:case"end":return c.stop()}},t,null,[[3,9]])}));return function(t,n,r,o){return e.apply(this,arguments)}}(),contextItemLabel:"labels.copyAsPng",keyTest:function(e){return e.code===bl&&e.altKey&&e.shiftKey}});function c0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function u0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?c0(Object(n),!0).forEach(function(r){F(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c0(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var d0=Ie({name:"gridMode",perform:function(e,t){return ps("view","mode","grid"),{appState:u0(u0({},t),{},{gridSize:this.checked(t)?null:C.k}),commitToHistory:!1}},checked:function(e){return e.gridSize!==null},contextItemLabel:"labels.showGrid",keyTest:function(e){return e[re.CTRL_OR_CMD]&&e.code===mf}});function f0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function p0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?f0(Object(n),!0).forEach(function(r){F(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f0(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var bp=Ie({name:"zenMode",perform:function(e,t){return ps("view","mode","zen"),{appState:p0(p0({},t),{},{zenModeEnabled:!this.checked(t)}),commitToHistory:!1}},checked:function(e){return e.zenModeEnabled},contextItemLabel:"buttons.zenMode",keyTest:function(e){return!e[re.CTRL_OR_CMD]&&e.altKey&&e.code===Ks}});function h0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function m0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?h0(Object(n),!0).forEach(function(r){F(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h0(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var yp=Ie({name:"stats",perform:function(e,t){return{appState:m0(m0({},t),{},{showStats:!this.checked(t)}),commitToHistory:!1}},checked:function(e){return e.showStats},contextItemLabel:"stats.title",keyTest:function(e){return!e[re.CTRL_OR_CMD]&&e.altKey&&e.code===fu}}),M1=Ie({name:"unbindText",contextItemLabel:"labels.unbindText",perform:function(e,t){return ge(Y(e),t).forEach(function(n){var r=Ur(n);if(r){var o,a=ao(r.originalText,dn(r)),l=a.width,c=a.height,s=a.baseline;je(r,{containerId:null,width:l,height:c,baseline:s,text:r.originalText}),je(n,{boundElements:(o=n.boundElements)===null||o===void 0?void 0:o.filter(function(f){return f.id!==r.id})})}}),{elements:e,appState:t,commitToHistory:!0}}});function g0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function v0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?g0(Object(n),!0).forEach(function(r){F(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g0(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var b0=function(e,t,n){var r=!1;if(!(t.multiElement||t.resizingElement||t.editingElement||t.draggingElement)){var o=n();if(o===null)return{commitToHistory:r};var a=tr(e),l=o.elements,c=tr(l),s=e.filter(function(d){return!c.has(d.id)}),f=l.map(function(d){return It(a.get(d.id)||d,d)}).concat(s.map(function(d){return It(d,{isDeleted:!0})}));return vc(f,s),{elements:f,appState:v0(v0({},t),o.appState),commitToHistory:r,syncHistory:!0}}return{commitToHistory:r}},P1=function(){function e(t,n,r,o){var a=this;de(this,e),this.actions={},this.renderAction=function(l,c){var s=a.app.props.UIOptions.canvasActions;if(a.actions[l]&&"PanelComponent"in a.actions[l]&&(!(l in s)||s[l])){var f=a.actions[l],d=f.PanelComponent;return(0,p.jsx)(d,{elements:a.getElementsIncludingDeleted(),appState:a.getAppState(),updateData:function(m){a.updater(f.perform(a.getElementsIncludingDeleted(),a.getAppState(),m,a.app))},appProps:a.app.props,data:c})}return null},this.updater=function(l){if(!l||!("then"in l))return t(l);l.then(function(c){return t(c)})},this.getAppState=n,this.getElementsIncludingDeleted=r,this.app=o}return Ze(e,[{key:"registerAction",value:function(t){this.actions[t.name]=t}},{key:"registerAll",value:function(t){var n=this;t.forEach(function(r){return n.registerAction(r)})}},{key:"handleKeyDown",value:function(t){var n=this,r=this.app.props.UIOptions.canvasActions,o=Object.values(this.actions).sort(function(a,l){return(l.keyPriority||0)-(a.keyPriority||0)}).filter(function(a){return(!(a.name in r)||r[a.name])&&a.keyTest&&a.keyTest(t,n.getAppState(),n.getElementsIncludingDeleted())});return o.length!==0&&!(this.getAppState().viewModeEnabled&&!Object.values(C.EH).includes(o[0].name))&&(t.preventDefault(),this.updater(o[0].perform(this.getElementsIncludingDeleted(),this.getAppState(),null,this.app)),!0)}},{key:"executeAction",value:function(t){this.updater(t.perform(this.getElementsIncludingDeleted(),this.getAppState(),null,this.app))}}]),e}();function A1(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(s,f){if(!!s){if(typeof s=="string")return y0(s,f);var d=Object.prototype.toString.call(s).slice(8,-1);if(d==="Object"&&s.constructor&&(d=s.constructor.name),d==="Map"||d==="Set")return Array.from(s);if(d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return y0(s,f)}}(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(s){throw s},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,l=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var s=n.next();return l=s.done,s},e:function(s){c=!0,a=s},f:function(){try{l||n.return==null||n.return()}finally{if(c)throw a}}}}function y0(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function x0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function w0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?x0(Object(n),!0).forEach(function(r){F(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x0(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var L1=function(){function e(n){var r=this;de(this,e),this.libraryCache=null,this.resetLibrary=(0,le.Z)($().mark(function o(){var a,l;return $().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,(a=(l=r.app.props).onLibraryChange)===null||a===void 0?void 0:a.call(l,[]);case 2:r.libraryCache=[];case 3:case"end":return c.stop()}},o)})),this.restoreLibraryItem=function(o){var a=Y(Fd(o.elements,null));return a.length?w0(w0({},o),{},{elements:a}):null},this.loadLibrary=function(){return new Promise(function(){var o=(0,le.Z)($().mark(function a(l){var c,s;return $().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(!r.libraryCache){f.next=2;break}return f.abrupt("return",l(JSON.parse(JSON.stringify(r.libraryCache))));case 2:if(f.prev=2,c=r.app.libraryItemsFromStorage){f.next=6;break}return f.abrupt("return",l([]));case 6:s=c.reduce(function(d,m){return r.restoreLibraryItem(m)&&d.push(m),d},[]),r.libraryCache=JSON.parse(JSON.stringify(s)),l(s),f.next=15;break;case 11:f.prev=11,f.t0=f.catch(2),console.error(f.t0),l([]);case 15:case"end":return f.stop()}},a,null,[[2,11]])}));return function(a){return o.apply(this,arguments)}}())},this.saveLibrary=function(){var o=(0,le.Z)($().mark(function a(l){var c,s,f,d;return $().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return c=r.libraryCache,m.prev=1,d=JSON.stringify(l),r.libraryCache=JSON.parse(d),m.next=6,(s=(f=r.app.props).onLibraryChange)===null||s===void 0?void 0:s.call(f,l);case 6:m.next=12;break;case 8:throw m.prev=8,m.t0=m.catch(1),r.libraryCache=c,m.t0;case 12:case"end":return m.stop()}},a,null,[[1,8]])}));return function(a){return o.apply(this,arguments)}}(),this.app=n}var t;return Ze(e,[{key:"importLibrary",value:(t=(0,le.Z)($().mark(function n(r){var o,a,l,c,s,f,d,m,b,v,y,k=arguments;return $().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return o=k.length>1&&k[1]!==void 0?k[1]:"unpublished",_.next=3,hh(r);case 3:if((a=_.sent)&&(a.libraryItems||a.library)){_.next=6;break}return _.abrupt("return");case 6:return l=function(j,M){return!j.find(function(P){return P.elements.length===M.elements.length&&P.elements.every(function(N,U){return N.id===M.elements[U].id&&N.versionNonce===M.elements[U].versionNonce})})},_.next=9,this.loadLibrary();case 9:c=_.sent,s=a.libraryItems||a.library||[],f=lp(s,o),d=[],m=A1(f);try{for(m.s();!(b=m.n()).done;)v=b.value,(y=this.restoreLibraryItem(v))&&l(c,y)&&d.push(y)}catch(j){m.e(j)}finally{m.f()}return _.next=17,this.saveLibrary([].concat(d,fe(c)));case 17:case"end":return _.stop()}},n,this)})),function(n){return t.apply(this,arguments)})}]),e}(),D1=L1,k0=function(e){var t=Array.from(e.values());return{x:E0(t,function(n){return n.x})/t.length,y:E0(t,function(n){return n.y})/t.length}},_0=function(e){var t=R(e,2),n=t[0],r=t[1];return Math.hypot(n.x-r.x,n.y-r.y)},E0=function(e,t){return e.reduce(function(n,r){return n+t(r)},0)};function S0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function j0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?S0(Object(n),!0).forEach(function(r){F(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S0(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var R1=function(e){return{selectedElementIds:e.selectedElementIds,selectedGroupIds:e.selectedGroupIds,viewBackgroundColor:e.viewBackgroundColor,editingLinearElement:e.editingLinearElement,editingGroupId:e.editingGroupId,name:e.name}},z1=function(){function e(){var t=this;de(this,e),this.elementCache=new Map,this.recording=!0,this.stateHistory=[],this.redoStack=[],this.lastEntry=null,this.generateEntry=function(n,r){return t.dehydrateHistoryEntry({appState:R1(n),elements:r.reduce(function(o,a){if(Bt(a)&&n.multiElement&&n.multiElement.id===a.id){if(n.multiElement&&n.multiElement.id===a.id&&a.points.length<2)return o;o.push(j0(j0({},a),{},{points:a.lastCommittedPoint!==a.points[a.points.length-1]?a.points.slice(0,-1):a.points}))}else o.push(a);return o},[])})}}return Ze(e,[{key:"hydrateHistoryEntry",value:function(t){var n=this,r=t.appState,o=t.elements;return{appState:JSON.parse(r),elements:o.map(function(a){var l,c=(l=n.elementCache.get(a.id))===null||l===void 0?void 0:l.get(a.versionNonce);if(!c)throw new Error("Element not found: ".concat(a.id,":").concat(a.versionNonce));return c})}}},{key:"dehydrateHistoryEntry",value:function(t){var n=this,r=t.appState,o=t.elements;return{appState:JSON.stringify(r),elements:o.map(function(a){n.elementCache.has(a.id)||n.elementCache.set(a.id,new Map);var l=n.elementCache.get(a.id);return l.has(a.versionNonce)||l.set(a.versionNonce,Aa(a)),{id:a.id,versionNonce:a.versionNonce}})}}},{key:"getSnapshotForTest",value:function(){var t=this;return{recording:this.recording,stateHistory:this.stateHistory.map(function(n){return t.hydrateHistoryEntry(n)}),redoStack:this.redoStack.map(function(n){return t.hydrateHistoryEntry(n)})}}},{key:"clear",value:function(){this.stateHistory.length=0,this.redoStack.length=0,this.lastEntry=null,this.elementCache.clear()}},{key:"shouldCreateEntry",value:function(t){var n,r=this.lastEntry;if(!r||t.elements.length!==r.elements.length)return!0;for(var o=t.elements.length-1;o>-1;o--){var a=t.elements[o],l=r.elements[o];if(!a||!l||a.id!==l.id||a.versionNonce!==l.versionNonce)return!0}for(n in t.appState){var c,s;if(!(n==="editingLinearElement"&&((c=t.appState[n])===null||c===void 0?void 0:c.elementId)===((s=r.appState[n])===null||s===void 0?void 0:s.elementId))&&n!=="selectedElementIds"&&n!=="selectedGroupIds"&&t.appState[n]!==r.appState[n])return!0}return!1}},{key:"pushEntry",value:function(t,n){var r=this.generateEntry(t,n),o=this.hydrateHistoryEntry(r);if(o){if(!this.shouldCreateEntry(o))return;this.stateHistory.push(r),this.lastEntry=o,this.clearRedoStack()}}},{key:"clearRedoStack",value:function(){this.redoStack.splice(0,this.redoStack.length)}},{key:"redoOnce",value:function(){if(this.redoStack.length===0)return null;var t=this.redoStack.pop();return t!==void 0?(this.stateHistory.push(t),this.hydrateHistoryEntry(t)):null}},{key:"undoOnce",value:function(){if(this.stateHistory.length===1)return null;var t=this.stateHistory.pop(),n=this.stateHistory[this.stateHistory.length-1];return t!==void 0?(this.redoStack.push(t),this.hydrateHistoryEntry(n)):null}},{key:"setCurrentState",value:function(t,n){this.lastEntry=this.hydrateHistoryEntry(this.generateEntry(t,n))}},{key:"resumeRecording",value:function(){this.recording=!0}},{key:"record",value:function(t,n){this.recording&&(this.pushEntry(t,n),this.recording=!1)}}]),e}(),C0=[{icon:(0,p.jsx)("svg",{viewBox:"0 0 320 512",className:"",children:(0,p.jsx)("path",{d:"M302.189 329.126H196.105l55.831 135.993c3.889 9.428-.555 19.999-9.444 23.999l-49.165 21.427c-9.165 4-19.443-.571-23.332-9.714l-53.053-129.136-86.664 89.138C18.729 472.71 0 463.554 0 447.977V18.299C0 1.899 19.921-6.096 30.277 5.443l284.412 292.542c11.472 11.179 3.007 31.141-12.5 31.141z"})}),value:"selection",key:re.V},{icon:(0,p.jsx)("svg",{viewBox:"0 0 448 512",children:(0,p.jsx)("path",{d:"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48z"})}),value:"rectangle",key:re.R},{icon:(0,p.jsx)("svg",{viewBox:"0 0 223.646 223.646",children:(0,p.jsx)("path",{d:"M111.823 0L16.622 111.823 111.823 223.646 207.025 111.823z"})}),value:"diamond",key:re.D},{icon:(0,p.jsx)("svg",{viewBox:"0 0 512 512",children:(0,p.jsx)("path",{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8z"})}),value:"ellipse",key:re.E},{icon:(0,p.jsx)("svg",{viewBox:"0 0 448 512",className:"rtl-mirror",children:(0,p.jsx)("path",{d:"M313.941 216H12c-6.627 0-12 5.373-12 12v56c0 6.627 5.373 12 12 12h301.941v46.059c0 21.382 25.851 32.09 40.971 16.971l86.059-86.059c9.373-9.373 9.373-24.569 0-33.941l-86.059-86.059c-15.119-15.119-40.971-4.411-40.971 16.971V216z"})}),value:"arrow",key:re.A},{icon:(0,p.jsx)("svg",{viewBox:"0 0 6 6",children:(0,p.jsx)("line",{x1:"0",y1:"3",x2:"6",y2:"3",stroke:"currentColor",strokeLinecap:"round"})}),value:"line",key:[re.P,re.L]},{icon:(0,p.jsx)("svg",{viewBox:"0 0 512 512",children:(0,p.jsx)("path",{fill:"currentColor",d:"M290.74 93.24l128.02 128.02-277.99 277.99-114.14 12.6C11.35 513.54-1.56 500.62.14 485.34l12.7-114.22 277.9-277.88zm207.2-19.06l-60.11-60.11c-18.75-18.75-49.16-18.75-67.91 0l-56.55 56.55 128.02 128.02 56.55-56.55c18.75-18.76 18.75-49.16 0-67.91z"})}),value:"freedraw",key:[re.X,re.P.toUpperCase()]},{icon:(0,p.jsx)("svg",{viewBox:"0 0 448 512",children:(0,p.jsx)("path",{d:"M432 416h-23.41L277.88 53.69A32 32 0 0 0 247.58 32h-47.16a32 32 0 0 0-30.3 21.69L39.41 416H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16h-19.58l23.3-64h152.56l23.3 64H304a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM176.85 272L224 142.51 271.15 272z"})}),value:"text",key:re.T},{icon:(0,p.jsx)("svg",{viewBox:"0 0 512 512",children:(0,p.jsx)("path",{fill:"currentColor",d:"M464 64H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V112c0-26.51-21.49-48-48-48zm-6 336H54a6 6 0 0 1-6-6V118a6 6 0 0 1 6-6h404a6 6 0 0 1 6 6v276a6 6 0 0 1-6 6zM128 152c-22.091 0-40 17.909-40 40s17.909 40 40 40 40-17.909 40-40-17.909-40-40-40zM96 352h320v-80l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L192 304l-39.515-39.515c-4.686-4.686-12.284-4.686-16.971 0L96 304v48z"})}),value:"image",key:null}],N1=(x(1292),{cut:[H("CtrlOrCmd+X")],copy:[H("CtrlOrCmd+C")],paste:[H("CtrlOrCmd+V")],copyStyles:[H("CtrlOrCmd+Alt+C")],pasteStyles:[H("CtrlOrCmd+Alt+V")],selectAll:[H("CtrlOrCmd+A")],deleteSelectedElements:[H("Del")],duplicateSelection:[H("CtrlOrCmd+D"),H("Alt+".concat(S("helpDialog.drag")))],sendBackward:[H("CtrlOrCmd+[")],bringForward:[H("CtrlOrCmd+]")],sendToBack:[H(En?"CtrlOrCmd+Alt+[":"CtrlOrCmd+Shift+[")],bringToFront:[H(En?"CtrlOrCmd+Alt+]":"CtrlOrCmd+Shift+]")],copyAsPng:[H("Shift+Alt+C")],copyAsSvg:[],group:[H("CtrlOrCmd+G")],ungroup:[H("CtrlOrCmd+Shift+G")],gridMode:[H("CtrlOrCmd+'")],zenMode:[H("Alt+Z")],stats:[H("Alt+/")],addToLibrary:[],flipHorizontal:[H("Shift+H")],flipVertical:[H("Shift+V")],viewMode:[H("Alt+R")],link:[H("CtrlOrCmd+K")]}),H1=function(e){var t=e.options,n=e.onCloseRequest,r=e.top,o=e.left,a=e.actionManager,l=e.appState,c=e.elements;return(0,p.jsx)(yc,{onCloseRequest:n,top:r,left:o,fitInViewport:!0,offsetLeft:l.offsetLeft,offsetTop:l.offsetTop,viewportWidth:l.width,viewportHeight:l.height,children:(0,p.jsx)("ul",{className:"context-menu",onContextMenu:function(s){return s.preventDefault()},children:t.map(function(s,f){var d;if(s==="separator")return(0,p.jsx)("hr",{className:"context-menu-option-separator"},f);var m,b,v=s.name,y="";return s.contextItemLabel&&(y=typeof s.contextItemLabel=="function"?S(s.contextItemLabel(c,l)):S(s.contextItemLabel)),(0,p.jsx)("li",{"data-testid":v,onClick:n,children:(0,p.jsxs)("button",{className:mt("context-menu-option",{dangerous:v==="deleteSelectedElements",checkmark:(d=s.checked)===null||d===void 0?void 0:d.call(s,l)}),onClick:function(){return a.executeAction(s)},children:[(0,p.jsx)("div",{className:"context-menu-option__label",children:y}),(0,p.jsx)("kbd",{className:"context-menu-option__shortcut",children:v?(m=v,b=N1[m],b&&b.length>0?b[0]:""):""})]})},f)})})})},$d=new WeakMap,Qd=function(e){var t,n,r=Array.of();e.options.forEach(function(o){o&&r.push(o)}),r.length&&(0,ro.render)((0,p.jsx)(H1,{top:e.top,left:e.left,options:r,onCloseRequest:function(){return o=e.container,void((a=$d.get(o))&&((0,ro.unmountComponentAtNode)(a),a.remove(),$d.delete(o)));var o,a},actionManager:e.actionManager,appState:e.appState,elements:e.elements}),(t=e.container,(n=$d.get(t))||(n=document.createElement("div"),t.querySelector(".excalidraw-contextMenuContainer").appendChild(n),$d.set(t,n),n)))};function B1(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(s,f){if(!!s){if(typeof s=="string")return O0(s,f);var d=Object.prototype.toString.call(s).slice(8,-1);if(d==="Object"&&s.constructor&&(d=s.constructor.name),d==="Map"||d==="Set")return Array.from(s);if(d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return O0(s,f)}}(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(s){throw s},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,l=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var s=n.next();return l=s.done,s},e:function(s){c=!0,a=s},f:function(){try{l||n.return==null||n.return()}finally{if(c)throw a}}}}function O0(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var I0=function(e){var t,n,r=e.appState,o=e.elements,a=e.renderAction,l=e.elementType,c=Te(Y(o),r),s=Boolean(r.editingElement),f=zr(),d=document.documentElement.getAttribute("dir")==="rtl",m=Zi(l)||c.some(function(k){return Zi(k.type)&&!Qo(k.backgroundColor)}),b=Zi(l)||c.some(function(k){return Zi(k.type)}),v=((t=c[0])===null||t===void 0?void 0:t.type)||null,y=B1(c);try{for(y.s();!(n=y.n()).done;)if(n.value.type!==v){v=null;break}}catch(k){y.e(k)}finally{y.f()}return(0,p.jsxs)("div",{className:"panelColumn",children:[(Tc(l)&&l!=="image"&&v!=="image"||c.some(function(k){return Tc(k.type)}))&&a("changeStrokeColor"),b&&a("changeBackgroundColor"),m&&a("changeFillStyle"),(_d(l)||c.some(function(k){return _d(k.type)}))&&a("changeStrokeWidth"),(l==="freedraw"||c.some(function(k){return k.type==="freedraw"}))&&a("changeStrokeShape"),(xn(l)||c.some(function(k){return xn(k.type)}))&&(0,p.jsxs)(p.Fragment,{children:[a("changeStrokeStyle"),a("changeSloppiness")]}),(Ln(l)||c.some(function(k){return Ln(k.type)}))&&(0,p.jsx)(p.Fragment,{children:a("changeSharpness")}),(Ed(l)||c.some(function(k){return Ed(k.type)}))&&(0,p.jsxs)(p.Fragment,{children:[a("changeFontSize"),a("changeFontFamily"),a("changeTextAlign")]}),(Ya(l)||c.some(function(k){return Ya(k.type)}))&&(0,p.jsx)(p.Fragment,{children:a("changeArrowhead")}),a("changeOpacity"),(0,p.jsxs)("fieldset",{children:[(0,p.jsx)("legend",{children:S("labels.layers")}),(0,p.jsxs)("div",{className:"buttonList",children:[a("sendToBack"),a("sendBackward"),a("bringToFront"),a("bringForward")]})]}),c.length>1&&(0,p.jsxs)("fieldset",{children:[(0,p.jsx)("legend",{children:S("labels.align")}),(0,p.jsxs)("div",{className:"buttonList",children:[d?(0,p.jsxs)(p.Fragment,{children:[a("alignRight"),a("alignHorizontallyCentered"),a("alignLeft")]}):(0,p.jsxs)(p.Fragment,{children:[a("alignLeft"),a("alignHorizontallyCentered"),a("alignRight")]}),c.length>2&&a("distributeHorizontally"),(0,p.jsxs)("div",{className:"iconRow",children:[a("alignTop"),a("alignVerticallyCentered"),a("alignBottom"),c.length>2&&a("distributeVertically")]})]})]}),!s&&c.length>0&&(0,p.jsxs)("fieldset",{children:[(0,p.jsx)("legend",{children:S("labels.actions")}),(0,p.jsxs)("div",{className:"buttonList",children:[!f&&a("duplicateSelection"),!f&&a("deleteSelectedElements"),a("group"),a("ungroup"),c.length===1&&a("link")]})]})]})},T0=function(e){var t=e.canvas,n=e.elementType,r=e.setAppState,o=e.onImageAction;return(0,p.jsx)(p.Fragment,{children:C0.map(function(a,l){var c=a.value,s=a.icon,f=a.key,d=S("toolBar.".concat(c)),m=f&&(typeof f=="string"?f:f[0]),b=m?"".concat($o(m)," ").concat(S("helpDialog.or")," ").concat(l+1):"".concat(l+1);return(0,p.jsx)(tt,{className:"Shape",type:"radio",icon:s,checked:n===c,name:"editor-current-shape",title:"".concat($o(d)," \u2014 ").concat(b),keyBindingLabel:"".concat(l+1),"aria-label":$o(d),"aria-keyshortcuts":b,"data-testid":c,onChange:function(v){var y=v.pointerType;r({elementType:c,multiElement:null,selectedElementIds:{}}),Or(t,c),c==="image"&&o({pointerType:y})}},c)})})},F1=function(e){var t=e.renderAction;return e.zoom,(0,p.jsx)(Ko,{gap:1,children:(0,p.jsxs)(vo,{gap:1,align:"center",children:[t("zoomOut"),t("zoomIn"),t("resetZoom")]})})},M0=function(e){e.appState,e.setAppState;var t=e.actionManager,n=e.showThemeBtn;return(0,p.jsxs)("div",{style:{display:"flex"},children:[t.renderAction("changeViewBackgroundColor"),n&&t.renderAction("toggleTheme")]})},P0=(x(778),function(e){var t=e.isCollaborating,n=e.collaboratorCount,r=e.onClick;return(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(tt,{className:mt("CollabButton",{"is-collaborating":t}),onClick:r,icon:Xn,type:"button",title:S("labels.liveCollaboration"),"aria-label":S("labels.liveCollaboration"),showAriaLabel:zr(),children:n>0&&(0,p.jsx)("div",{className:"CollabButton-collaborators",children:n})})})}),U1=function(e){var t=e.message,n=e.onClose,r=R((0,Q.useState)(!!t),2),o=r[0],a=r[1],l=ws().container,c=ee().useCallback(function(){a(!1),n&&n(),l==null||l.focus()},[n,l]);return(0,p.jsx)(p.Fragment,{children:o&&(0,p.jsx)($r,{small:!0,onCloseRequest:c,title:S("errorDialog.title"),children:(0,p.jsx)("div",{style:{whiteSpace:"pre-wrap"},children:t})})})},K1=(x(2205),"filter"in document.createElement("canvas").getContext("2d")),W1=function(){return(0,p.jsxs)("div",{children:[(0,p.jsx)("h3",{children:S("canvasError.cannotShowPreview")}),(0,p.jsx)("p",{children:(0,p.jsx)("span",{children:S("canvasError.canvasTooBig")})}),(0,p.jsxs)("em",{children:["(",S("canvasError.canvasTooBigTip"),")"]})]})},A0=function(e,t){(0,ro.unmountComponentAtNode)(t),t.innerHTML="",e instanceof HTMLCanvasElement?t.appendChild(e):(0,ro.render)((0,p.jsx)(W1,{}),t)},xp=function(e){var t,n=e.children,r=e.title,o=e.onClick,a=e.color,l=e.shade,c=l===void 0?6:l;return(0,p.jsx)("button",{className:"ExportDialog-imageExportButton",style:(t={},F(t,"--button-color",st[a][c]),F(t,"--button-color-darker",st[a][c+1]),F(t,"--button-color-darkest",st[a][c+2]),t),title:r,"aria-label":r,onClick:o,children:n})},V1=function(e){var t=e.elements,n=e.appState,r=e.files,o=e.exportPadding,a=o===void 0?C.qy:o,l=e.actionManager,c=e.onExportToPng,s=e.onExportToSvg,f=e.onExportToClipboard,d=ne(t,n),m=R((0,Q.useState)(d),2),b=m[0],v=m[1],y=(0,Q.useRef)(null),k=n.exportBackground,_=n.viewBackgroundColor,j=b?ge(t,n,!0):t;return(0,Q.useEffect)(function(){v(d)},[d]),(0,Q.useEffect)(function(){var M=y.current;M&&dp(j,n,r,{exportBackground:k,viewBackgroundColor:_,exportPadding:a}).then(function(P){return cp(P).then(function(){A0(P,M)})}).catch(function(P){console.error(P),A0(new Lc,M)})},[n,r,j,k,a,_]),(0,p.jsxs)("div",{className:"ExportDialog",children:[(0,p.jsx)("div",{className:"ExportDialog__preview",ref:y}),K1&&l.renderAction("exportWithDarkMode"),(0,p.jsx)("div",{style:{display:"grid",gridTemplateColumns:"1fr"},children:(0,p.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(190px, 1fr))",overflow:"hidden"},children:[l.renderAction("changeExportBackground"),d&&(0,p.jsx)(Xd,{checked:b,onChange:function(M){return v(M)},children:S("labels.onlySelected")}),l.renderAction("changeExportEmbedScene")]})}),(0,p.jsxs)("div",{style:{display:"flex",alignItems:"center",marginTop:".6em"},children:[(0,p.jsx)(vo,{gap:2,children:l.renderAction("changeExportScale")}),(0,p.jsx)("p",{style:{marginLeft:"1em",userSelect:"none"},children:"Scale"})]}),(0,p.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",margin:".6em 0"},children:!Ji&&l.renderAction("changeProjectName")}),(0,p.jsxs)(vo,{gap:2,justifyContent:"center",style:{margin:"2em 0"},children:[(0,p.jsx)(xp,{color:"indigo",title:S("buttons.exportToPng"),"aria-label":S("buttons.exportToPng"),onClick:function(){return c(j)},children:"PNG"}),(0,p.jsx)(xp,{color:"red",title:S("buttons.exportToSvg"),"aria-label":S("buttons.exportToSvg"),onClick:function(){return s(j)},children:"SVG"}),Zd&&(0,p.jsx)(xp,{title:S("buttons.copyPngToClipboard"),onClick:function(){return f(j)},color:"gray",shade:7,children:If})]})]})},G1=function(e){var t=e.elements,n=e.appState,r=e.files,o=e.exportPadding,a=o===void 0?C.qy:o,l=e.actionManager,c=e.onExportToPng,s=e.onExportToSvg,f=e.onExportToClipboard,d=R((0,Q.useState)(!1),2),m=d[0],b=d[1],v=ee().useCallback(function(){b(!1)},[]);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(tt,{onClick:function(){b(!0)},"data-testid":"image-export-button",icon:Mf,type:"button","aria-label":S("buttons.exportImage"),showAriaLabel:zr(),title:S("buttons.exportImage")}),m&&(0,p.jsx)($r,{onCloseRequest:v,title:S("buttons.exportImage"),children:(0,p.jsx)(V1,{elements:t,appState:n,files:r,exportPadding:a,actionManager:l,onExportToPng:c,onExportToSvg:s,onExportToClipboard:f,onCloseRequest:v})})]})},L0=(x(1310),function(e){var t=e.children,n=e.side,r=e.className;return(0,p.jsx)("div",{className:mt("FixedSideContainer","FixedSideContainer_side_".concat(n),r),children:t})}),D0=(x(7096),function(e){var t=function(n){var r=n.appState,o=n.elements,a=n.isMobile,l=r.elementType,c=r.isResizing,s=r.isRotating,f=r.lastPointerDownWith,d=r.multiElement!==null;if(l==="arrow"||l==="line")return S(d?"hints.linearElementMulti":"hints.linearElement");if(l==="freedraw")return S("hints.freeDraw");if(l==="text")return S("hints.text");if(r.elementType==="image"&&r.pendingImageElement)return S("hints.placeImage");var m,b=ge(o,r);if(c&&f==="mouse"&&b.length===1){var v=b[0];return Bt(v)&&v.points.length===2?S("hints.lockAngle"):_i(v)?S("hints.resizeImage"):S("hints.resize")}if(s&&f==="mouse")return S("hints.rotate");if(b.length===1&&St(b[0]))return S("hints.text_selected");if(r.editingElement&&St(r.editingElement))return S("hints.text_editing");if(l==="selection"){var y;if(((y=r.draggingElement)===null||y===void 0?void 0:y.type)==="selection"&&!r.editingElement&&!r.editingLinearElement)return S("hints.deepBoxSelect");if(!b.length&&!a)return S("hints.canvasPanning")}if(b.length===1){if(Bt(b[0]))return r.editingLinearElement?r.editingLinearElement.selectedPointsIndices?S("hints.lineEditor_pointSelected"):S("hints.lineEditor_nothingSelected"):S("hints.lineEditor_info");if((m=b[0])!=null&&(m.type==="rectangle"||m.type==="diamond"||m.type==="ellipse"||m.type==="image"))return S("hints.bindTextToElement")}return null}({appState:e.appState,elements:e.elements,isMobile:e.isMobile});return t?(t=H(t),(0,p.jsx)("div",{className:"HintViewer",children:(0,p.jsx)("span",{children:t})})):null}),R0={CHECKED:(0,p.jsx)("svg",{width:"1792",height:"1792",viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg",children:(0,p.jsx)("path",{d:"M640 768h512v-192q0-106-75-181t-181-75-181 75-75 181v192zm832 96v576q0 40-28 68t-68 28h-960q-40 0-68-28t-28-68v-576q0-40 28-68t68-28h32v-192q0-184 132-316t316-132 316 132 132 316v192h32q40 0 68 28t28 68z"})}),UNCHECKED:(0,p.jsx)("svg",{width:"1792",height:"1792",viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg",className:"unlocked-icon rtl-mirror",children:(0,p.jsx)("path",{d:"M1728 576v256q0 26-19 45t-45 19h-64q-26 0-45-19t-19-45v-256q0-106-75-181t-181-75-181 75-75 181v192h96q40 0 68 28t28 68v576q0 40-28 68t-68 28h-960q-40 0-68-28t-28-68v-576q0-40 28-68t68-28h672v-192q0-185 131.5-316.5t316.5-131.5 316.5 131.5 131.5 316.5z"})})},z0=function(e){return(0,p.jsxs)("label",{className:mt("ToolIcon ToolIcon__lock ToolIcon_type_floating","ToolIcon_size_".concat("medium"),{"is-mobile":e.isMobile}),title:"".concat(e.title," \u2014 Q"),children:[(0,p.jsx)("input",{className:"ToolIcon_type_checkbox",type:"checkbox",name:e.name,onChange:e.onChange,checked:e.checked,"aria-label":e.title}),(0,p.jsx)("div",{className:"ToolIcon__icon",children:e.checked?R0.CHECKED:R0.UNCHECKED})]})},Z1=["heading","children"];function N0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function H0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?N0(Object(n),!0).forEach(function(r){F(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N0(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var ea=function(e){var t=e.heading,n=e.children,r=Yn(e,Z1),o=ws().id,a=(0,p.jsx)("h2",{className:"visually-hidden",id:"".concat(o,"-").concat(t,"-title"),children:S("headings.".concat(t))});return(0,p.jsx)("section",H0(H0({},r),{},{"aria-labelledby":"".concat(o,"-").concat(t,"-title"),children:typeof n=="function"?n(a):(0,p.jsxs)(p.Fragment,{children:[a,n]})}))},B0=(x(580),function(e){var t=e.children,n=e.className,r=e.mobile;return(0,p.jsx)("div",{className:mt("UserList",n,{UserList_mobile:r}),children:t})}),Y1=(0,p.jsx)("svg",{viewBox:"0 0 576 512",children:(0,p.jsx)("path",{fill:"currentColor",d:"M542.22 32.05c-54.8 3.11-163.72 14.43-230.96 55.59-4.64 2.84-7.27 7.89-7.27 13.17v363.87c0 11.55 12.63 18.85 23.28 13.49 69.18-34.82 169.23-44.32 218.7-46.92 16.89-.89 30.02-14.43 30.02-30.66V62.75c.01-17.71-15.35-31.74-33.77-30.7zM264.73 87.64C197.5 46.48 88.58 35.17 33.78 32.05 15.36 31.01 0 45.04 0 62.75V400.6c0 16.24 13.13 29.78 30.02 30.66 49.49 2.6 149.59 12.11 218.77 46.95 10.62 5.35 23.21-1.94 23.21-13.46V100.63c0-5.29-2.62-10.14-7.27-12.99z"})}),F0=function(e){var t=e.appState,n=e.setAppState,r=e.isMobile;return(0,p.jsxs)("label",{className:mt("ToolIcon ToolIcon_type_floating ToolIcon__library","ToolIcon_size_medium",{"is-mobile":r}),title:"".concat($o(S("toolBar.library"))," \u2014 0"),children:[(0,p.jsx)("input",{className:"ToolIcon_type_checkbox",type:"checkbox",name:"editor-library",onChange:function(o){n({isLibraryOpen:o.target.checked})},checked:t.isLibraryOpen,"aria-label":$o(S("toolBar.library")),"aria-keyshortcuts":"0"}),(0,p.jsx)("div",{className:"ToolIcon__icon",children:Y1})]})},U0="medium",K0={CHECKED:(0,p.jsxs)("svg",{width:"205",height:"205",viewBox:"0 0 205 205",xmlns:"http://www.w3.org/2000/svg",children:[(0,p.jsx)("path",{d:"m35 195-25-29.17V50h50v115l-25 30"}),(0,p.jsx)("path",{d:"M10 40V10h50v30H10"}),(0,p.jsx)("path",{d:"M125 145h70v50h-70"}),(0,p.jsx)("path",{d:"M190 145v-30l-10-20h-40l-10 20v30h15v-30l5-5h20l5 5v30h15"})]}),UNCHECKED:(0,p.jsxs)("svg",{width:"205",height:"205",viewBox:"0 0 205 205",xmlns:"http://www.w3.org/2000/svg",className:"unlocked-icon rtl-mirror",children:[(0,p.jsx)("path",{d:"m35 195-25-29.17V50h50v115l-25 30"}),(0,p.jsx)("path",{d:"M10 40V10h50v30H10"}),(0,p.jsx)("path",{d:"M125 145h70v50h-70"}),(0,p.jsx)("path",{d:"M145 145v-30l-10-20H95l-10 20v30h15v-30l5-5h20l5 5v30h15"})]})},W0=function(e){return e.penDetected?(0,p.jsxs)("label",{className:mt("ToolIcon ToolIcon__penMode ToolIcon_type_floating","ToolIcon_size_".concat(U0),{"is-mobile":e.isMobile}),title:"".concat(e.title),children:[(0,p.jsx)("input",{className:"ToolIcon_type_checkbox",type:"checkbox",name:e.name,onChange:e.onChange,checked:e.checked,"aria-label":e.title}),(0,p.jsx)("div",{className:"ToolIcon__icon",children:e.checked?K0.CHECKED:K0.UNCHECKED})]}):e.isMobile?null:(0,p.jsx)("label",{className:mt("ToolIcon ToolIcon__penMode ToolIcon_type_floating","ToolIcon_size_".concat(U0),{"is-mobile":e.isMobile}),children:(0,p.jsx)("div",{className:"ToolIcon__icon ToolIcon__hidden"})})};function V0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}var X1=function(e){var t=e.appState,n=e.elements,r=e.libraryMenu,o=e.actionManager,a=e.renderJSONExportDialog,l=e.renderImageExportDialog,c=e.setAppState,s=e.onCollabButtonClick,f=e.onLockToggle,d=e.onPenModeToggle,m=e.canvas,b=e.isCollaborating,v=e.renderCustomFooter,y=e.viewModeEnabled,k=e.showThemeBtn,_=e.onImageAction,j=e.renderTopRightUI;return(0,p.jsxs)(p.Fragment,{children:[!y&&(0,p.jsxs)(L0,{side:"top",className:"App-top-bar",children:[(0,p.jsx)(ea,{heading:"shapes",children:function(M){return(0,p.jsxs)(Ko,{gap:4,align:"center",children:[(0,p.jsxs)(vo,{gap:1,className:"App-toolbar-container",children:[(0,p.jsxs)(Dr,{padding:1,className:"App-toolbar",children:[M,(0,p.jsx)(vo,{gap:1,children:(0,p.jsx)(T0,{canvas:m,elementType:t.elementType,setAppState:c,onImageAction:function(P){var N=P.pointerType;_({insertOnCanvasDirectly:N!=="mouse"})}})})]}),j&&j(!0,t),(0,p.jsx)(z0,{checked:t.elementLocked,onChange:f,title:S("toolBar.lock"),isMobile:!0}),(0,p.jsx)(F0,{appState:t,setAppState:c,isMobile:!0}),(0,p.jsx)(W0,{checked:t.penMode,onChange:d,title:S("toolBar.penMode"),isMobile:!0,penDetected:t.penDetected})]}),r]})}}),(0,p.jsx)(D0,{appState:t,elements:n,isMobile:!0})]}),(0,p.jsx)("div",{className:"App-bottom-bar",style:{marginBottom:14,marginLeft:14,marginRight:14},children:(0,p.jsxs)(Dr,{padding:0,children:[t.openMenu==="canvas"?(0,p.jsx)(ea,{className:"App-mobile-menu",heading:"canvasActions",children:(0,p.jsx)("div",{className:"panelColumn",children:(0,p.jsxs)(Ko,{gap:4,children:[y?(0,p.jsxs)(p.Fragment,{children:[a(),l()]}):(0,p.jsxs)(p.Fragment,{children:[o.renderAction("clearCanvas"),o.renderAction("loadScene"),a(),l(),s&&(0,p.jsx)(P0,{isCollaborating:b,collaboratorCount:t.collaborators.size,onClick:s}),(0,p.jsx)(M0,{actionManager:o,appState:t,setAppState:c,showThemeBtn:k})]}),v==null?void 0:v(!0,t),t.collaborators.size>0&&(0,p.jsxs)("fieldset",{children:[(0,p.jsx)("legend",{children:S("labels.collaborators")}),(0,p.jsx)(B0,{mobile:!0,children:Array.from(t.collaborators).filter(function(M){var P=R(M,2),N=(P[0],P[1]);return Object.keys(N).length!==0}).map(function(M){var P=R(M,2),N=P[0];return P[1],(0,p.jsx)(ee().Fragment,{children:o.renderAction("goToCollaborator",{id:N})},N)})})]})]})})}):t.openMenu==="shape"&&!y&&E(t,n)?(0,p.jsx)(ea,{className:"App-mobile-menu",heading:"selectedShapeActions",children:(0,p.jsx)(I0,{appState:t,elements:n,renderAction:o.renderAction,elementType:t.elementType})}):null,(0,p.jsxs)("footer",{className:"App-toolbar",children:[y?(0,p.jsx)("div",{className:"App-toolbar-content",children:o.renderAction("toggleCanvasMenu")}):(0,p.jsxs)("div",{className:"App-toolbar-content",children:[o.renderAction("toggleCanvasMenu"),o.renderAction("toggleEditMenu"),o.renderAction("undo"),o.renderAction("redo"),o.renderAction(t.multiElement?"finalize":"duplicateSelection"),o.renderAction("deleteSelectedElements")]}),t.scrolledOutside&&!t.openMenu&&(0,p.jsx)("button",{className:"scroll-back-to-content",onClick:function(){c(function(M){for(var P=1;P<arguments.length;P++){var N=arguments[P]!=null?arguments[P]:{};P%2?V0(Object(N),!0).forEach(function(U){F(M,U,N[U])}):Object.getOwnPropertyDescriptors?Object.defineProperties(M,Object.getOwnPropertyDescriptors(N)):V0(Object(N)).forEach(function(U){Object.defineProperty(M,U,Object.getOwnPropertyDescriptor(N,U))})}return M}({},hi(n,t)))},children:S("buttons.scrollBackToContent")})]})]})})]})},G0=(x(8051),function(e){var t=(0,Q.useRef)(null),n=R((0,Q.useState)(null),2),r=n[0],o=n[1];return(0,Q.useLayoutEffect)(function(){if(e.spreadsheet){var a,l=s1(e.chartType,e.spreadsheet,0,0);o(l);var c=t.current;return(0,le.Z)($().mark(function s(){return $().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,Wd(l,{exportBackground:!1,viewBackgroundColor:st.white},null);case 2:a=f.sent,c.appendChild(a),e.selected&&c.parentNode.focus();case 5:case"end":return f.stop()}},s)}))(),function(){c.removeChild(a)}}},[e.spreadsheet,e.chartType,e.selected]),(0,p.jsx)("button",{className:"ChartPreview",onClick:function(){r&&e.onClick(e.chartType,r)},children:(0,p.jsx)("div",{ref:t})})}),q1=function(e){var t=e.setAppState,n=e.appState,r=e.onClose,o=e.onInsertChart,a=ee().useCallback(function(){r&&r()},[r]),l=function(c,s){o(s),ps("magic","chart",c),t({currentChartType:c,pasteDialog:{shown:!1,data:null}})};return(0,p.jsx)($r,{small:!0,onCloseRequest:a,title:S("labels.pasteCharts"),className:"PasteChartDialog",autofocus:!1,children:(0,p.jsxs)("div",{className:"container",children:[(0,p.jsx)(G0,{chartType:"bar",spreadsheet:n.pasteDialog.data,selected:n.currentChartType==="bar",onClick:l}),(0,p.jsx)(G0,{chartType:"line",spreadsheet:n.pasteDialog.data,selected:n.currentChartType==="line",onClick:l})]})})};x(3922);function Z0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}var $1=function(){return(0,p.jsxs)("div",{className:"HelpDialog--header",children:[(0,p.jsx)("a",{className:"HelpDialog--btn",href:"https://github.com/excalidraw/excalidraw#documentation",target:"_blank",rel:"noopener noreferrer",children:S("helpDialog.documentation")}),(0,p.jsx)("a",{className:"HelpDialog--btn",href:"https://blog.excalidraw.com",target:"_blank",rel:"noopener noreferrer",children:S("helpDialog.blog")}),(0,p.jsx)("a",{className:"HelpDialog--btn",href:"https://github.com/excalidraw/excalidraw/issues",target:"_blank",rel:"noopener noreferrer",children:S("helpDialog.github")})]})},Q1=function(e){return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("h3",{children:e.title}),e.children]})},J1=function(e){return(0,p.jsx)("div",{style:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between"},children:e.children})},Y0=function(e){return(0,p.jsx)("div",{style:{width:"49%"},children:e.children})},wp=function(e){return(0,p.jsxs)("div",{className:"HelpDialog--island",children:[(0,p.jsx)("h3",{className:"HelpDialog--island-title",children:e.caption}),e.children]})},Ue=function(e){return(0,p.jsx)("div",{className:"HelpDialog--shortcut",children:(0,p.jsxs)("div",{style:{display:"flex",margin:"0",padding:"4px 8px",alignItems:"center"},children:[(0,p.jsx)("div",{style:{lineHeight:1.4},children:e.label}),(0,p.jsx)("div",{style:{display:"flex",flex:"0 0 auto",justifyContent:"flex-end",marginInlineStart:"auto",minWidth:"30%"},children:e.shortcuts.map(function(t,n){return(0,p.jsxs)(ee().Fragment,{children:[(0,p.jsx)(eg,{children:t}),e.isOr&&n!==e.shortcuts.length-1&&S("helpDialog.or")]},n)})})]})})};Ue.defaultProps={isOr:!0};var eg=function(e){return(0,p.jsx)("kbd",function(t){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?Z0(Object(r),!0).forEach(function(o){F(t,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Z0(Object(r)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(r,o))})}return t}({className:"HelpDialog--key"},e))},tg=function(e){var t=e.onClose,n=ee().useCallback(function(){t&&t()},[t]);return(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)($r,{onCloseRequest:n,title:S("helpDialog.title"),className:"HelpDialog",children:[(0,p.jsx)($1,{}),(0,p.jsx)(Q1,{title:S("helpDialog.shortcuts"),children:(0,p.jsxs)(J1,{children:[(0,p.jsxs)(Y0,{children:[(0,p.jsxs)(wp,{caption:S("helpDialog.shapes"),children:[(0,p.jsx)(Ue,{label:S("toolBar.selection"),shortcuts:["V","1"]}),(0,p.jsx)(Ue,{label:S("toolBar.rectangle"),shortcuts:["R","2"]}),(0,p.jsx)(Ue,{label:S("toolBar.diamond"),shortcuts:["D","3"]}),(0,p.jsx)(Ue,{label:S("toolBar.ellipse"),shortcuts:["E","4"]}),(0,p.jsx)(Ue,{label:S("toolBar.arrow"),shortcuts:["A","5"]}),(0,p.jsx)(Ue,{label:S("toolBar.line"),shortcuts:["P","6"]}),(0,p.jsx)(Ue,{label:S("toolBar.freedraw"),shortcuts:["Shift + P","X","7"]}),(0,p.jsx)(Ue,{label:S("toolBar.text"),shortcuts:["T","8"]}),(0,p.jsx)(Ue,{label:S("toolBar.image"),shortcuts:["9"]}),(0,p.jsx)(Ue,{label:S("toolBar.library"),shortcuts:["0"]}),(0,p.jsx)(Ue,{label:S("helpDialog.editSelectedShape"),shortcuts:[H("Enter"),S("helpDialog.doubleClick")]}),(0,p.jsx)(Ue,{label:S("helpDialog.textNewLine"),shortcuts:[H("Enter"),H("Shift+Enter")]}),(0,p.jsx)(Ue,{label:S("helpDialog.textFinish"),shortcuts:[H("Esc"),H("CtrlOrCmd+Enter")]}),(0,p.jsx)(Ue,{label:S("helpDialog.curvedArrow"),shortcuts:["A",S("helpDialog.click"),S("helpDialog.click"),S("helpDialog.click")],isOr:!1}),(0,p.jsx)(Ue,{label:S("helpDialog.curvedLine"),shortcuts:["L",S("helpDialog.click"),S("helpDialog.click"),S("helpDialog.click")],isOr:!1}),(0,p.jsx)(Ue,{label:S("toolBar.lock"),shortcuts:["Q"]}),(0,p.jsx)(Ue,{label:S("helpDialog.preventBinding"),shortcuts:[H("CtrlOrCmd")]}),(0,p.jsx)(Ue,{label:S("toolBar.link"),shortcuts:[H("CtrlOrCmd+K")]})]}),(0,p.jsxs)(wp,{caption:S("helpDialog.view"),children:[(0,p.jsx)(Ue,{label:S("buttons.zoomIn"),shortcuts:[H("CtrlOrCmd++")]}),(0,p.jsx)(Ue,{label:S("buttons.zoomOut"),shortcuts:[H("CtrlOrCmd+-")]}),(0,p.jsx)(Ue,{label:S("buttons.resetZoom"),shortcuts:[H("CtrlOrCmd+0")]}),(0,p.jsx)(Ue,{label:S("helpDialog.zoomToFit"),shortcuts:["Shift+1"]}),(0,p.jsx)(Ue,{label:S("helpDialog.zoomToSelection"),shortcuts:["Shift+2"]}),(0,p.jsx)(Ue,{label:S("buttons.fullScreen"),shortcuts:["F"]}),(0,p.jsx)(Ue,{label:S("buttons.zenMode"),shortcuts:[H("Alt+Z")]}),(0,p.jsx)(Ue,{label:S("labels.showGrid"),shortcuts:[H("CtrlOrCmd+'")]}),(0,p.jsx)(Ue,{label:S("labels.viewMode"),shortcuts:[H("Alt+R")]}),(0,p.jsx)(Ue,{label:S("labels.toggleTheme"),shortcuts:[H("Alt+Shift+D")]}),(0,p.jsx)(Ue,{label:S("stats.title"),shortcuts:[H("Alt+/")]})]})]}),(0,p.jsx)(Y0,{children:(0,p.jsxs)(wp,{caption:S("helpDialog.editor"),children:[(0,p.jsx)(Ue,{label:S("labels.selectAll"),shortcuts:[H("CtrlOrCmd+A")]}),(0,p.jsx)(Ue,{label:S("labels.multiSelect"),shortcuts:[H("Shift+".concat(S("helpDialog.click")))]}),(0,p.jsx)(Ue,{label:S("helpDialog.deepSelect"),shortcuts:[H("CtrlOrCmd+".concat(S("helpDialog.click")))]}),(0,p.jsx)(Ue,{label:S("helpDialog.deepBoxSelect"),shortcuts:[H("CtrlOrCmd+".concat(S("helpDialog.drag")))]}),(0,p.jsx)(Ue,{label:S("labels.moveCanvas"),shortcuts:[H("Space+".concat(S("helpDialog.drag"))),H("Wheel+".concat(S("helpDialog.drag")))],isOr:!0}),(0,p.jsx)(Ue,{label:S("labels.cut"),shortcuts:[H("CtrlOrCmd+X")]}),(0,p.jsx)(Ue,{label:S("labels.copy"),shortcuts:[H("CtrlOrCmd+C")]}),(0,p.jsx)(Ue,{label:S("labels.paste"),shortcuts:[H("CtrlOrCmd+V")]}),(0,p.jsx)(Ue,{label:S("labels.copyAsPng"),shortcuts:[H("Shift+Alt+C")]}),(0,p.jsx)(Ue,{label:S("labels.copyStyles"),shortcuts:[H("CtrlOrCmd+Alt+C")]}),(0,p.jsx)(Ue,{label:S("labels.pasteStyles"),shortcuts:[H("CtrlOrCmd+Alt+V")]}),(0,p.jsx)(Ue,{label:S("labels.delete"),shortcuts:[H("Del")]}),(0,p.jsx)(Ue,{label:S("labels.sendToBack"),shortcuts:[H(En?"CtrlOrCmd+Alt+[":"CtrlOrCmd+Shift+[")]}),(0,p.jsx)(Ue,{label:S("labels.bringToFront"),shortcuts:[H(En?"CtrlOrCmd+Alt+]":"CtrlOrCmd+Shift+]")]}),(0,p.jsx)(Ue,{label:S("labels.sendBackward"),shortcuts:[H("CtrlOrCmd+[")]}),(0,p.jsx)(Ue,{label:S("labels.bringForward"),shortcuts:[H("CtrlOrCmd+]")]}),(0,p.jsx)(Ue,{label:S("labels.alignTop"),shortcuts:[H("CtrlOrCmd+Shift+Up")]}),(0,p.jsx)(Ue,{label:S("labels.alignBottom"),shortcuts:[H("CtrlOrCmd+Shift+Down")]}),(0,p.jsx)(Ue,{label:S("labels.alignLeft"),shortcuts:[H("CtrlOrCmd+Shift+Left")]}),(0,p.jsx)(Ue,{label:S("labels.alignRight"),shortcuts:[H("CtrlOrCmd+Shift+Right")]}),(0,p.jsx)(Ue,{label:S("labels.duplicateSelection"),shortcuts:[H("CtrlOrCmd+D"),H("Alt+".concat(S("helpDialog.drag")))]}),(0,p.jsx)(Ue,{label:S("buttons.undo"),shortcuts:[H("CtrlOrCmd+Z")]}),(0,p.jsx)(Ue,{label:S("buttons.redo"),shortcuts:ga?[H("CtrlOrCmd+Y"),H("CtrlOrCmd+Shift+Z")]:[H("CtrlOrCmd+Shift+Z")]}),(0,p.jsx)(Ue,{label:S("labels.group"),shortcuts:[H("CtrlOrCmd+G")]}),(0,p.jsx)(Ue,{label:S("labels.ungroup"),shortcuts:[H("CtrlOrCmd+Shift+G")]}),(0,p.jsx)(Ue,{label:S("labels.flipHorizontal"),shortcuts:[H("Shift+H")]}),(0,p.jsx)(Ue,{label:S("labels.flipVertical"),shortcuts:[H("Shift+V")]}),(0,p.jsx)(Ue,{label:S("labels.showStroke"),shortcuts:[H("S")]}),(0,p.jsx)(Ue,{label:S("labels.showBackground"),shortcuts:[H("G")]}),(0,p.jsx)(Ue,{label:S("labels.decreaseFontSize"),shortcuts:[H("CtrlOrCmd+Shift+<")]}),(0,p.jsx)(Ue,{label:S("labels.increaseFontSize"),shortcuts:[H("CtrlOrCmd+Shift+>")]})]})})]})})]})})},X0=(x(5080),function(e){var t,n=e.children,r=e.color;return(0,p.jsx)("div",{className:"Card",style:(t={},F(t,"--card-color",r==="primary"?"var(--color-primary)":st[r][7]),F(t,"--card-color-darker",r==="primary"?"var(--color-primary-darker)":st[r][8]),F(t,"--card-color-darkest",r==="primary"?"var(--color-primary-darkest)":st[r][9]),t),children:n})}),ng=function(e){var t=e.elements,n=e.appState,r=e.files,o=e.actionManager,a=e.exportOpts,l=e.canvas,c=a.onExportToBackend;return(0,p.jsx)("div",{className:"ExportDialog ExportDialog--json",children:(0,p.jsxs)("div",{className:"ExportDialog-cards",children:[a.saveFileToDisk&&(0,p.jsxs)(X0,{color:"lime",children:[(0,p.jsx)("div",{className:"Card-icon",children:Ga}),(0,p.jsx)("h2",{children:S("exportDialog.disk_title")}),(0,p.jsxs)("div",{className:"Card-details",children:[S("exportDialog.disk_details"),!Ji&&o.renderAction("changeProjectName")]}),(0,p.jsx)(tt,{className:"Card-button",type:"button",title:S("exportDialog.disk_button"),"aria-label":S("exportDialog.disk_button"),showAriaLabel:!0,onClick:function(){o.executeAction(b1)}})]}),c&&(0,p.jsxs)(X0,{color:"pink",children:[(0,p.jsx)("div",{className:"Card-icon",children:ld}),(0,p.jsx)("h2",{children:S("exportDialog.link_title")}),(0,p.jsx)("div",{className:"Card-details",children:S("exportDialog.link_details")}),(0,p.jsx)(tt,{className:"Card-button",type:"button",title:S("exportDialog.link_button"),"aria-label":S("exportDialog.link_button"),showAriaLabel:!0,onClick:function(){return c(t,n,r,l)}})]}),a.renderCustomUI&&a.renderCustomUI(t,n,r,l)]})})},rg=function(e){var t=e.elements,n=e.appState,r=e.files,o=e.actionManager,a=e.exportOpts,l=e.canvas,c=R((0,Q.useState)(!1),2),s=c[0],f=c[1],d=ee().useCallback(function(){f(!1)},[]);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(tt,{onClick:function(){f(!0)},"data-testid":"json-export-button",icon:Tf,type:"button","aria-label":S("buttons.export"),showAriaLabel:zr(),title:S("buttons.export")}),s&&(0,p.jsx)($r,{onCloseRequest:d,title:S("buttons.export"),children:(0,p.jsx)(ng,{elements:t,appState:n,files:r,actionManager:o,onCloseRequest:d,exportOpts:a,canvas:l})})]})};function q0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function ta(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?q0(Object(n),!0).forEach(function(r){F(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q0(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var kp=function(e){var t=e.elements,n=e.appState,r=e.files,o=e.maxWidthOrHeight,a=e.getDimensions,l=Bc({elements:t,appState:n},null,null),c=l.elements,s=l.appState,f=s.exportBackground,d=s.viewBackgroundColor;return dp(Y(c),ta(ta({},s),{},{offsetTop:0,offsetLeft:0,width:0,height:0}),r||{},{exportBackground:f,viewBackgroundColor:d},function(m,b){var v,y=document.createElement("canvas");if(o){typeof a=="function"&&console.warn("`getDimensions()` is ignored when `maxWidthOrHeight` is supplied.");var k=Math.max(m,b),_=o/k;return y.width=m*_,y.height=b*_,{canvas:y,scale:_}}var j=(a==null?void 0:a(m,b))||{width:m,height:b};return y.width=j.width,y.height=j.height,{canvas:y,scale:(v=j.scale)!==null&&v!==void 0?v:1}})},og=function(){var e=(0,le.Z)($().mark(function t(n){var r,o,a,l,c,s;return $().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return a=(o=n).mimeType,l=a===void 0?C.LO.png:a,c=o.quality,l===C.LO.png&&typeof c=="number"&&console.warn('"quality" will be ignored for "'.concat(C.LO.png,'" mimeType')),l==="image/jpg"&&(l=C.LO.jpg),l!==C.LO.jpg||(r=n.appState)!==null&&r!==void 0&&r.exportBackground||(console.warn('Defaulting "exportBackground" to "true" for "'.concat(C.LO.jpg,'" mimeType')),n=ta(ta({},n),{},{appState:ta(ta({},n.appState),{},{exportBackground:!0})})),f.next=6,kp(n);case 6:return s=f.sent,c=c||(/image\/jpe?g/.test(l)?.92:.8),f.abrupt("return",new Promise(function(d){s.toBlob(function(m){d(m)},l,c)}));case 9:case"end":return f.stop()}},t)}));return function(t){return e.apply(this,arguments)}}(),$0=function(){var e=(0,le.Z)($().mark(function t(n){var r,o,a,l,c,s,f,d,m;return $().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return r=n.elements,o=n.appState,a=o===void 0?Oo():o,l=n.files,c=l===void 0?{}:l,s=n.exportPadding,f=Bc({elements:r,appState:a},null,null),d=f.elements,m=f.appState,b.abrupt("return",Wd(Y(d),ta(ta({},m),{},{exportPadding:s}),c));case 3:case"end":return b.stop()}},t)}));return function(t){return e.apply(this,arguments)}}();x(9295),x(9781);function Q0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function J0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Q0(Object(n),!0).forEach(function(r){F(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q0(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var ig=function(e){var t=e.libItem,n=e.appState,r=e.index,o=e.onChange,a=e.onRemove,l=(0,Q.useRef)(null),c=(0,Q.useRef)(null);return(0,Q.useEffect)(function(){var s=l.current;s&&(0,le.Z)($().mark(function f(){var d;return $().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,$0({elements:t.elements,appState:J0(J0({},n),{},{viewBackgroundColor:st.white,exportBackground:!0}),files:null});case 2:d=m.sent,s.innerHTML=d.outerHTML;case 4:case"end":return m.stop()}},f)}))()},[t.elements,n]),(0,p.jsxs)("div",{className:"single-library-item",children:[(0,p.jsx)("div",{ref:l,className:"single-library-item__svg"}),(0,p.jsx)(tt,{"aria-label":S("buttons.remove"),type:"button",icon:Qt,className:"single-library-item--remove",onClick:a.bind(null,t.id),title:S("buttons.remove")}),(0,p.jsxs)("div",{style:{display:"flex",margin:"0.8rem 0.3rem",width:"100%",fontSize:"14px",fontWeight:500,flexDirection:"column"},children:[(0,p.jsxs)("label",{style:{display:"flex",justifyContent:"space-between",flexDirection:"column"},children:[(0,p.jsxs)("div",{style:{padding:"0.5em 0"},children:[(0,p.jsx)("span",{style:{fontWeight:500,color:st.gray[6]},children:S("publishDialog.itemName")}),(0,p.jsx)("span",{"aria-hidden":"true",className:"required",children:"*"})]}),(0,p.jsx)("input",{type:"text",ref:c,style:{width:"80%",padding:"0.2rem"},defaultValue:t.name,placeholder:"Item name",onChange:function(s){o(s.target.value,r)}})]}),(0,p.jsx)("span",{className:"error",children:t.error})]})]})};function em(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Jd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?em(Object(n),!0).forEach(function(r){F(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):em(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ag(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(s,f){if(!!s){if(typeof s=="string")return tm(s,f);var d=Object.prototype.toString.call(s).slice(8,-1);if(d==="Object"&&s.constructor&&(d=s.constructor.name),d==="Map"||d==="Set")return Array.from(s);if(d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return tm(s,f)}}(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(s){throw s},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,l=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var s=n.next();return l=s.done,s},e:function(s){c=!0,a=s},f:function(){try{l||n.return==null||n.return()}finally{if(c)throw a}}}}function tm(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var _p="publish-library-data",lg=function(){var e=(0,le.Z)($().mark(function t(n){var r,o,a,l,c,s,f,d,m,b,v,y,k,_,j,M,P;return $().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:r=6,o=128,a=Math.round(o/16),l=Math.max(Math.round(o/64),2),c=Ti(n,r),(s=document.createElement("canvas")).width=c[0].length*o+(c[0].length+1)*(2*a)-2*a,s.height=c.length*o+(c.length+1)*(2*a)-2*a,(f=s.getContext("2d")).fillStyle=st.white,f.fillRect(0,0,s.width,s.height),d=ag(n.entries()),N.prev=12,d.s();case 14:if((m=d.n()).done){N.next=28;break}return b=R(m.value,2),v=b[0],y=b[1],N.next=18,kp({elements:y.elements,files:null,maxWidthOrHeight:o});case 18:k=N.sent,_=k.width,j=k.height,M=Math.floor(v/r)*(o+2*a),P=v%r*(o+2*a),f.drawImage(k,P+(o-_)/2+a,M+(o-j)/2+a),f.lineWidth=l,f.strokeStyle=st.gray[4],f.strokeRect(P+a/2,M+a/2,o+a,o+a);case 26:N.next=14;break;case 28:N.next=33;break;case 30:N.prev=30,N.t0=N.catch(12),d.e(N.t0);case 33:return N.prev=33,d.f(),N.finish(33);case 36:return N.t1=up,N.t2=File,N.next=40,cp(s);case 40:return N.t3=N.sent,N.t4=[N.t3],N.t5={type:C.LO.png},N.t6=new N.t2(N.t4,"preview",N.t5),N.t7={outputType:C.LO.jpg,maxWidthOrHeight:5e3},N.next=47,(0,N.t1)(N.t6,N.t7);case 47:return N.abrupt("return",N.sent);case 48:case"end":return N.stop()}},t,null,[[12,30,33,36]])}));return function(t){return e.apply(this,arguments)}}(),sg=function(e){var t=e.onClose,n=e.libraryItems,r=e.appState,o=e.onSuccess,a=e.onError,l=e.updateItemsInStorage,c=e.onRemove,s=R((0,Q.useState)({authorName:"",githubHandle:"",name:"",description:"",twitterHandle:"",website:""}),2),f=s[0],d=s[1],m=R((0,Q.useState)(!1),2),b=m[0],v=m[1];(0,Q.useEffect)(function(){var V=function(){try{var q=localStorage.getItem(_p);if(q)return JSON.parse(q)}catch(G){console.error(G)}return null}();V&&d(V)},[]);var y=R((0,Q.useState)(n.slice()),2),k=y[0],_=y[1];(0,Q.useEffect)(function(){_(n.slice())},[n]);var j,M=function(V){d(Jd(Jd({},f),{},F({},V.target.name,V.target.value)))},P=function(){var V=(0,le.Z)($().mark(function q(G){var ae,oe,ie,K,he,ue,ce;return $().wrap(function(ve){for(;;)switch(ve.prev=ve.next){case 0:if(G.preventDefault(),v(!0),ae=[],oe=!1,k.forEach(function(pe){var J="";pe.name||(J=S("publishDialog.errors.required"),oe=!0),ae.push(Jd(Jd({},pe),{},{error:J}))}),!oe){ve.next=9;break}return _(ae),v(!1),ve.abrupt("return");case 9:return ve.next=11,lg(k);case 11:ie=ve.sent,K={type:C.r8.excalidrawLibrary,version:C.Kr.excalidrawLibrary,source:C.pb,libraryItems:k},he=JSON.stringify(K,null,2),ue=new Blob([he],{type:"application/json"}),(ce=new FormData).append("excalidrawLib",ue),ce.append("previewImage",ie),ce.append("previewImageType",ie.type),ce.append("title",f.name),ce.append("authorName",f.authorName),ce.append("githubHandle",f.githubHandle),ce.append("name",f.name),ce.append("description",f.description),ce.append("twitterHandle",f.twitterHandle),ce.append("website",f.website),fetch("".concat("https://us-central1-excalidraw-room-persistence.cloudfunctions.net/libraries","/submit"),{method:"post",body:ce}).then(function(pe){return pe.ok?pe.json().then(function(J){var Ee=J.url;localStorage.removeItem(_p),o({url:Ee,authorName:f.authorName,items:k})}):pe.json().catch(function(){throw new Error(pe.statusText||"something went wrong")}).then(function(J){throw new Error(J.message||pe.statusText||"something went wrong")})},function(pe){console.error(pe),a(pe),v(!1)}).catch(function(pe){console.error(pe),a(pe),v(!1)});case 27:case"end":return ve.stop()}},q)}));return function(q){return V.apply(this,arguments)}}(),N=(0,Q.useCallback)(function(){l(k),function(V){try{localStorage.setItem(_p,JSON.stringify(V))}catch(q){console.error(q)}}(f),t()},[k,t,l,f]),U=!!n.length;return(0,p.jsx)($r,{onCloseRequest:N,title:S("publishDialog.title"),className:"publish-library",children:U?(0,p.jsxs)("form",{onSubmit:P,children:[(0,p.jsxs)("div",{className:"publish-library-note",children:[S("publishDialog.noteDescription.pre"),(0,p.jsx)("a",{href:"https://libraries.excalidraw.com",target:"_blank",rel:"noopener noreferrer",children:S("publishDialog.noteDescription.link")})," ",S("publishDialog.noteDescription.post")]}),(0,p.jsxs)("span",{className:"publish-library-note",children:[S("publishDialog.noteGuidelines.pre"),(0,p.jsx)("a",{href:"https://github.com/excalidraw/excalidraw-libraries#guidelines",target:"_blank",rel:"noopener noreferrer",children:S("publishDialog.noteGuidelines.link")}),S("publishDialog.noteGuidelines.post")]}),(0,p.jsx)("div",{className:"publish-library-note",children:S("publishDialog.noteItems")}),(j=[],k.forEach(function(V,q){j.push((0,p.jsx)("div",{className:"single-library-item-wrapper",children:(0,p.jsx)(ig,{libItem:V,appState:r,index:q,onChange:function(G,ae){var oe=k.slice();oe[ae].name=G,_(oe)},onRemove:c})},q))}),(0,p.jsx)("div",{className:"selected-library-items",children:j})),(0,p.jsxs)("div",{className:"publish-library__fields",children:[(0,p.jsxs)("label",{children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("span",{children:S("publishDialog.libraryName")}),(0,p.jsx)("span",{"aria-hidden":"true",className:"required",children:"*"})]}),(0,p.jsx)("input",{type:"text",name:"name",required:!0,value:f.name,onChange:M,placeholder:S("publishDialog.placeholder.libraryName")})]}),(0,p.jsxs)("label",{style:{alignItems:"flex-start"},children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("span",{children:S("publishDialog.libraryDesc")}),(0,p.jsx)("span",{"aria-hidden":"true",className:"required",children:"*"})]}),(0,p.jsx)("textarea",{name:"description",rows:4,required:!0,value:f.description,onChange:M,placeholder:S("publishDialog.placeholder.libraryDesc")})]}),(0,p.jsxs)("label",{children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("span",{children:S("publishDialog.authorName")}),(0,p.jsx)("span",{"aria-hidden":"true",className:"required",children:"*"})]}),(0,p.jsx)("input",{type:"text",name:"authorName",required:!0,value:f.authorName,onChange:M,placeholder:S("publishDialog.placeholder.authorName")})]}),(0,p.jsxs)("label",{children:[(0,p.jsx)("span",{children:S("publishDialog.githubUsername")}),(0,p.jsx)("input",{type:"text",name:"githubHandle",value:f.githubHandle,onChange:M,placeholder:S("publishDialog.placeholder.githubHandle")})]}),(0,p.jsxs)("label",{children:[(0,p.jsx)("span",{children:S("publishDialog.twitterUsername")}),(0,p.jsx)("input",{type:"text",name:"twitterHandle",value:f.twitterHandle,onChange:M,placeholder:S("publishDialog.placeholder.twitterHandle")})]}),(0,p.jsxs)("label",{children:[(0,p.jsx)("span",{children:S("publishDialog.website")}),(0,p.jsx)("input",{type:"text",name:"website",pattern:"https?://.+",title:S("publishDialog.errors.website"),value:f.website,onChange:M,placeholder:S("publishDialog.placeholder.website")})]}),(0,p.jsxs)("span",{className:"publish-library-note",children:[S("publishDialog.noteLicense.pre"),(0,p.jsx)("a",{href:"https://github.com/excalidraw/excalidraw-libraries/blob/main/LICENSE",target:"_blank",rel:"noopener noreferrer",children:S("publishDialog.noteLicense.link")}),S("publishDialog.noteLicense.post")]})]}),(0,p.jsxs)("div",{className:"publish-library__buttons",children:[(0,p.jsx)(tt,{type:"button",title:S("buttons.cancel"),"aria-label":S("buttons.cancel"),label:S("buttons.cancel"),onClick:N,"data-testid":"cancel-clear-canvas-button",className:"publish-library__buttons--cancel"}),(0,p.jsx)(tt,{type:"submit",title:S("buttons.submit"),"aria-label":S("buttons.submit"),label:S("buttons.submit"),className:"publish-library__buttons--confirm",isLoading:b})]})]}):(0,p.jsx)("p",{style:{padding:"1em",textAlign:"center",fontWeight:500},children:S("publishDialog.atleastOneLibItem")})})},cg=(x(4406),x(2891)),ug=(x(694),(0,p.jsx)("svg",{viewBox:"0 0 1792 1792",children:(0,p.jsx)("path",{d:"M1600 736v192c0 26.667-9.33 49.333-28 68-18.67 18.67-41.33 28-68 28h-416v416c0 26.67-9.33 49.33-28 68s-41.33 28-68 28H800c-26.667 0-49.333-9.33-68-28s-28-41.33-28-68v-416H288c-26.667 0-49.333-9.33-68-28-18.667-18.667-28-41.333-28-68V736c0-26.667 9.333-49.333 28-68s41.333-28 68-28h416V224c0-26.667 9.333-49.333 28-68s41.333-28 68-28h192c26.67 0 49.33 9.333 68 28s28 41.333 28 68v416h416c26.67 0 49.33 9.333 68 28s28 41.333 28 68Z",style:{stroke:"#fff",strokeWidth:140},transform:"translate(0 64)"})})),dg=function(e){var t=e.id,n=e.elements,r=e.files,o=e.isPending,a=e.onClick,l=e.selected,c=e.onToggle,s=(0,Q.useRef)(null);(0,Q.useEffect)(function(){var y=s.current;if(y)return(0,le.Z)($().mark(function k(){var _;return $().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:if(n){j.next=2;break}return j.abrupt("return");case 2:return j.next=4,Wd(n,{exportBackground:!1,viewBackgroundColor:st.white},r);case 4:_=j.sent,y.innerHTML=_.outerHTML;case 6:case"end":return j.stop()}},k)}))(),function(){y.innerHTML=""}},[n,r]);var f=R((0,Q.useState)(!1),2),d=f[0],m=f[1],b=zr(),v=o&&(0,p.jsx)("div",{className:"library-unit__adder",children:ug});return(0,p.jsxs)("div",{className:mt("library-unit",{"library-unit__active":n,"library-unit--hover":n&&d,"library-unit--selected":l}),onMouseEnter:function(){return m(!0)},onMouseLeave:function(){return m(!1)},children:[(0,p.jsx)("div",{className:mt("library-unit__dragger",{"library-unit__pulse":!!o}),ref:s,draggable:!!n,onClick:n||o?function(y){t&&y.shiftKey?c(t,y):a()}:void 0,onDragStart:function(y){m(!1),y.dataTransfer.setData(C.LO.excalidrawlib,JSON.stringify(n))}}),v,t&&n&&(d||b||l)&&(0,p.jsx)(Xd,{checked:l,onChange:function(y,k){return c(t,k)},className:"library-unit__checkbox"})]})},fg=(x(6043),function(e){var t,n,r,o=e.libraryItems,a=e.onRemoveFromLibrary,l=e.onAddToLibrary,c=e.onInsertShape,s=e.pendingElements,f=e.theme,d=e.setAppState,m=e.libraryReturnUrl,b=e.library,v=e.files,y=e.id,k=e.selectedItems,_=e.onToggle,j=e.onPublish,M=e.resetLibrary,P=(0,Q.useCallback)(function(){var ce=k.length?S("alerts.removeItemsFromsLibrary",{count:k.length}):S("alerts.resetLibrary"),ve=k.length?S("confirmDialog.removeItemsFromLib"):S("confirmDialog.resetLibrary");return(0,p.jsx)(Ad,{onConfirm:function(){k.length?a():M(),V(!1)},onCancel:function(){V(!1)},title:ve,children:(0,p.jsx)("p",{children:ce})})},[k,a,M]),N=R((0,Q.useState)(!1),2),U=N[0],V=N[1],q=zr(),G=q?4:6,ae=m||window.location.origin+window.location.pathname,oe=k.some(function(ce){var ve;return((ve=o.find(function(pe){return pe.id===ce}))===null||ve===void 0?void 0:ve.status)==="published"}),ie=function(ce){var ve,pe,J,Ee,Se;return(0,p.jsx)(Ko,{children:(0,p.jsx)(dg,{elements:(ve=ce.item)===null||ve===void 0?void 0:ve.elements,files:v,isPending:!((pe=ce.item)!==null&&pe!==void 0&&pe.id||(J=ce.item)===null||J===void 0||!J.elements),onClick:ce.onClick||function(){},id:((Ee=ce.item)===null||Ee===void 0?void 0:Ee.id)||null,selected:!((Se=ce.item)===null||Se===void 0||!Se.id)&&k.includes(ce.item.id),onToggle:function(Oe,ye){_(Oe,ye)}})},ce.key)},K=function(ce){var ve=ce.map(function(J){return J.id?ie({item:J,onClick:function(){return c(J.elements)},key:J.id}):ie({key:"__pending__item__",item:J,onClick:function(){return l(s)}})}),pe=(0,cg.chunk)(ve,G);return pe.length||(pe=[[]]),pe.map(function(J,Ee,Se){return Ee===Se.length-1&&(J=J.concat(new Array(G-J.length).fill(null).map(function(Oe,ye){return ie({key:"empty_".concat(ye),item:null})}))),(0,p.jsx)(vo,{align:"center",gap:1,children:J},Ee)})},he=o.filter(function(ce){return ce.status==="published"}),ue=[].concat(fe(s.length?[{id:null,elements:s}]:[]),fe(o.filter(function(ce){return ce.status!=="published"})));return(0,p.jsxs)("div",{className:"library-menu-items-container",children:[U&&P(),(0,p.jsxs)("div",{className:"layer-ui__library-header",children:[(t=!!k.length,n=t?o.filter(function(ce){return k.includes(ce.id)}):o,r=S(t?"buttons.remove":"buttons.resetLibrary"),(0,p.jsxs)("div",{className:"library-actions",children:[(!t||!q)&&(0,p.jsx)(tt,{type:"button",title:S("buttons.load"),"aria-label":S("buttons.load"),icon:ud,onClick:function(){i1(b).then(function(){d({isLibraryOpen:!1}),d({isLibraryOpen:!0})}).catch(Nt).catch(function(ce){d({errorMessage:ce.message})})},className:"library-actions--load"},"import"),!!n.length&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(tt,{type:"button",title:S("buttons.export"),"aria-label":S("buttons.export"),icon:Ga,onClick:(0,le.Z)($().mark(function ce(){var ve;return $().wrap(function(pe){for(;;)switch(pe.prev=pe.next){case 0:if(!t){pe.next=4;break}pe.t0=n,pe.next=7;break;case 4:return pe.next=6,b.loadLibrary();case 6:pe.t0=pe.sent;case 7:ve=pe.t0,o1(ve).catch(Nt).catch(function(J){d({errorMessage:J.message})});case 9:case"end":return pe.stop()}},ce)})),className:"library-actions--export",children:k.length>0&&(0,p.jsx)("span",{className:"library-actions-counter",children:k.length})},"export"),(0,p.jsx)(tt,{type:"button",title:r,"aria-label":r,icon:Zl,onClick:function(){return V(!0)},className:"library-actions--remove",children:k.length>0&&(0,p.jsx)("span",{className:"library-actions-counter",children:k.length})},"reset")]}),t&&!oe&&(0,p.jsx)(is,{label:S("hints.publishLibrary"),children:(0,p.jsxs)(tt,{type:"button","aria-label":S("buttons.publishLibrary"),label:S("buttons.publishLibrary"),icon:Oc,className:"library-actions--publish",onClick:j,children:[!q&&(0,p.jsx)("label",{children:S("buttons.publishLibrary")}),k.length>0&&(0,p.jsx)("span",{className:"library-actions-counter",children:k.length})]})})]})),(0,p.jsx)("a",{href:"".concat("https://libraries.excalidraw.com","?target=").concat(window.name||"_blank","&referrer=").concat(ae,"&useHash=true&token=").concat(y,"&theme=").concat(f,"&version=").concat(C.Kr.excalidrawLibrary),target:"_excalidraw_libraries",children:S("labels.libraries")})]},"library-header"),(0,p.jsxs)(Ko,{className:"library-menu-items-container__items",align:"start",gap:1,children:[(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("div",{className:"separator",children:S("labels.personalLib")}),K(ue)]}),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:"separator",children:[S("labels.excalidrawLib")," "]}),K(he)]})]})]})}),pg=function(e,t){return e.filter(function(n){return t.includes(n.id)})},hg=function(e){var t=e.onClose,n=e.onInsertShape,r=e.pendingElements,o=e.onAddToLibrary,a=e.theme,l=e.setAppState,c=e.files,s=e.libraryReturnUrl,f=e.focusContainer,d=e.library,m=e.id,b=e.appState,v=(0,Q.useRef)(null);(function(ye,ze){(0,Q.useEffect)(function(){var it=function(xt){ye.current&&(xt.target instanceof Element&&(ye.current.contains(xt.target)||!document.body.contains(xt.target))||ze(xt))};return document.addEventListener("pointerdown",it,!1),function(){document.removeEventListener("pointerdown",it)}},[ye,ze])})(v,function(ye){ye.target.closest(".ToolIcon__library")||t()}),(0,Q.useEffect)(function(){var ye=function(ze){ze.key===re.ESCAPE&&t()};return document.addEventListener(C.Ks.KEYDOWN,ye),function(){document.removeEventListener(C.Ks.KEYDOWN,ye)}},[t]);var y=R((0,Q.useState)([]),2),k=y[0],_=y[1],j=R((0,Q.useState)("preloading"),2),M=j[0],P=j[1],N=R((0,Q.useState)([]),2),U=N[0],V=N[1],q=R((0,Q.useState)(!1),2),G=q[0],ae=q[1],oe=R((0,Q.useState)(null),2),ie=oe[0],K=oe[1],he=(0,Q.useRef)(null);(0,Q.useEffect)(function(){return Promise.race([new Promise(function(ye){he.current=window.setTimeout(function(){ye("loading")},100)}),d.loadLibrary().then(function(ye){_(ye),P("ready")})]).then(function(ye){ye==="loading"&&P("loading")}),function(){clearTimeout(he.current)}},[d]);var ue=(0,Q.useCallback)((0,le.Z)($().mark(function ye(){var ze,it;return $().wrap(function(xt){for(;;)switch(xt.prev=xt.next){case 0:return xt.next=2,d.loadLibrary();case 2:ze=xt.sent,it=ze.filter(function(zt){return!U.includes(zt.id)}),d.saveLibrary(it).catch(function(zt){_(ze),l({errorMessage:S("alerts.errorRemovingFromLibrary")})}),V([]),_(it);case 7:case"end":return xt.stop()}},ye)})),[d,l,U,V]),ce=(0,Q.useCallback)(function(){d.resetLibrary(),_([]),f()},[d,f]),ve=(0,Q.useCallback)(function(){var ye=(0,le.Z)($().mark(function ze(it){var xt,zt;return $().wrap(function(dt){for(;;)switch(dt.prev=dt.next){case 0:if(!it.some(function(Dt){return Dt.type==="image"})){dt.next=2;break}return dt.abrupt("return",l({errorMessage:"Support for adding images to the library coming soon!"}));case 2:return dt.next=4,d.loadLibrary();case 4:xt=dt.sent,zt=[{status:"unpublished",elements:it,id:Bn(),created:Date.now()}].concat(fe(xt)),o(),d.saveLibrary(zt).catch(function(Dt){_(xt),l({errorMessage:S("alerts.errorAddingToLibrary")})}),_(zt);case 9:case"end":return dt.stop()}},ze)}));return function(ze){return ye.apply(this,arguments)}}(),[o,d,l]),pe=(0,Q.useCallback)(function(){return(0,p.jsxs)($r,{onCloseRequest:function(){return K(null)},title:S("publishSuccessDialog.title"),className:"publish-library-success",small:!0,children:[(0,p.jsxs)("p",{children:[S("publishSuccessDialog.content",{authorName:ie.authorName})," ",(0,p.jsx)("a",{href:ie==null?void 0:ie.url,target:"_blank",rel:"noopener noreferrer",children:S("publishSuccessDialog.link")})]}),(0,p.jsx)(tt,{type:"button",title:S("buttons.close"),"aria-label":S("buttons.close"),label:S("buttons.close"),onClick:function(){return K(null)},"data-testid":"publish-library-success-close",className:"publish-library-success-close"})]})},[K,ie]),J=(0,Q.useCallback)(function(ye){ae(!1),K({url:ye.url,authorName:ye.authorName});var ze=k.slice();ze.forEach(function(it){U.includes(it.id)&&(it.status="published")}),d.saveLibrary(ze),_(ze)},[ae,K,k,U,d]),Ee=R((0,Q.useState)(null),2),Se=Ee[0],Oe=Ee[1];return M==="preloading"?null:(0,p.jsxs)(Dr,{padding:1,ref:v,className:"layer-ui__library",children:[G&&(0,p.jsx)(sg,{onClose:function(){return ae(!1)},libraryItems:pg(k,U),appState:b,onSuccess:J,onError:function(ye){return window.alert(ye)},updateItemsInStorage:function(){return d.saveLibrary(k)},onRemove:function(ye){return V(U.filter(function(ze){return ze!==ye}))}}),ie&&pe(),M==="loading"?(0,p.jsx)("div",{className:"layer-ui__library-message",children:S("labels.libraryLoadingMessage")}):(0,p.jsx)(fg,{libraryItems:k,onRemoveFromLibrary:ue,onAddToLibrary:ve,onInsertShape:n,pendingElements:r,setAppState:l,libraryReturnUrl:s,library:d,theme:a,files:c,id:m,selectedItems:U,onToggle:function(ye,ze){if(U.includes(ye))Oe(null),V(U.filter(function(Dt){return Dt!==ye}));else{if(ze.shiftKey&&Se){var it=k.findIndex(function(Dt){return Dt.id===Se}),xt=k.findIndex(function(Dt){return Dt.id===ye});if(it===-1||xt===-1)return void V([].concat(fe(U),[ye]));var zt=tr(U),dt=k.reduce(function(Dt,ut,Ut){return(Ut>=it&&Ut<=xt||zt.has(ut.id))&&Dt.push(ut.id),Dt},[]);V(dt)}else V([].concat(fe(U),[ye]));Oe(ye)}},onPublish:function(){return ae(!0)},resetLibrary:ce})]})},mg=(x(3336),x(276),["suggestedBindings","startBoundElement"]);function nm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}var gg=function(e){var t,n=e.actionManager,r=e.appState,o=e.files,a=e.setAppState,l=e.canvas,c=e.elements,s=e.onCollabButtonClick,f=e.onLockToggle,d=e.onPenModeToggle,m=e.onInsertElements,b=e.zenModeEnabled,v=e.showExitZenModeBtn,y=e.showThemeBtn,k=e.toggleZenMode,_=e.isCollaborating,j=e.renderTopRightUI,M=e.renderCustomFooter,P=e.viewModeEnabled,N=e.libraryReturnUrl,U=e.UIOptions,V=e.focusContainer,q=e.library,G=e.id,ae=e.onImageAction,oe=zr(),ie=function(){return U.canvasActions.export?(0,p.jsx)(rg,{elements:c,appState:r,files:o,actionManager:n,exportOpts:U.canvasActions.export,canvas:l}):null},K=function(){if(!U.canvasActions.saveAsImage)return null;var J=function(Ee){return function(){var Se=(0,le.Z)($().mark(function Oe(ye){var ze;return $().wrap(function(it){for(;;)switch(it.prev=it.next){case 0:return it.next=2,Yd(Ee,ye,r,o,{exportBackground:r.exportBackground,name:r.name,viewBackgroundColor:r.viewBackgroundColor}).catch(Nt).catch(function(xt){console.error(xt),a({errorMessage:xt.message})});case 2:ze=it.sent,r.exportEmbedScene&&ze&&sp(ze)&&a({fileHandle:ze});case 4:case"end":return it.stop()}},Oe)}));return function(Oe){return Se.apply(this,arguments)}}()};return(0,p.jsx)(G1,{elements:c,appState:r,files:o,actionManager:n,onExportToPng:J("png"),onExportToSvg:J("svg"),onExportToClipboard:J("clipboard")})},he=function(){return(0,p.jsx)("div",{style:{width:".625em"}})},ue=(0,Q.useCallback)(function(){document.querySelector(".Dialog")||a({isLibraryOpen:!1})},[a]),ce=(0,Q.useCallback)(function(){a({selectedElementIds:{},selectedGroupIds:{}})},[a]),ve=r.isLibraryOpen?(0,p.jsx)(hg,{pendingElements:ge(c,r,!0),onClose:ue,onInsertShape:m,onAddToLibrary:ce,setAppState:a,libraryReturnUrl:N,focusContainer:V,library:q,theme:r.theme,files:o,id:G,appState:r}):null,pe=(0,p.jsxs)(p.Fragment,{children:[r.isLoading&&(0,p.jsx)(zn,{}),r.errorMessage&&(0,p.jsx)(U1,{message:r.errorMessage,onClose:function(){return a({errorMessage:null})}}),r.showHelpDialog&&(0,p.jsx)(tg,{onClose:function(){a({showHelpDialog:!1})}}),r.pasteDialog.shown&&(0,p.jsx)(q1,{setAppState:a,appState:r,onInsertChart:m,onClose:function(){return a({pasteDialog:{shown:!1,data:null}})}})]});return oe?(0,p.jsxs)(p.Fragment,{children:[pe,(0,p.jsx)(X1,{appState:r,elements:c,actionManager:n,libraryMenu:ve,renderJSONExportDialog:ie,renderImageExportDialog:K,setAppState:a,onCollabButtonClick:s,onLockToggle:f,onPenModeToggle:d,canvas:l,isCollaborating:_,renderCustomFooter:M,viewModeEnabled:P,showThemeBtn:y,onImageAction:ae,renderTopRightUI:j})]}):(0,p.jsxs)("div",{className:mt("layer-ui__wrapper",{"disable-pointerEvents":r.draggingElement||r.resizingElement||r.editingElement&&!St(r.editingElement)}),children:[pe,(t=E(r,c),(0,p.jsx)(L0,{side:"top",children:(0,p.jsxs)("div",{className:"App-menu App-menu_top",children:[(0,p.jsxs)(Ko,{gap:4,className:mt({"disable-pointerEvents":b}),children:[P?(0,p.jsx)(ea,{heading:"canvasActions",className:mt("zen-mode-transition",{"transition-left":b}),children:(0,p.jsx)(Dr,{padding:2,style:{zIndex:1},children:(0,p.jsx)(Ko,{gap:4,children:(0,p.jsxs)(vo,{gap:1,justifyContent:"space-between",children:[ie(),K()]})})})}):(0,p.jsx)(ea,{heading:"canvasActions",className:mt("zen-mode-transition",{"transition-left":b}),children:(0,p.jsx)(Dr,{padding:2,style:{zIndex:1},children:(0,p.jsxs)(Ko,{gap:4,children:[(0,p.jsxs)(vo,{gap:1,justifyContent:"space-between",children:[n.renderAction("clearCanvas"),(0,p.jsx)(he,{}),n.renderAction("loadScene"),ie(),K(),(0,p.jsx)(he,{}),s&&(0,p.jsx)(P0,{isCollaborating:_,collaboratorCount:r.collaborators.size,onClick:s})]}),(0,p.jsx)(M0,{actionManager:n,appState:r,setAppState:a,showThemeBtn:y}),r.fileHandle&&(0,p.jsx)(p.Fragment,{children:n.renderAction("saveToActiveFile")})]})})}),t&&(0,p.jsx)(ea,{heading:"selectedShapeActions",className:mt("zen-mode-transition",{"transition-left":b}),children:(0,p.jsx)(Dr,{className:C.$C.SHAPE_ACTIONS_MENU,padding:2,style:{maxHeight:"".concat(r.height-(r.fileHandle?248:200),"px")},children:(0,p.jsx)(I0,{appState:r,elements:c,renderAction:n.renderAction,elementType:r.elementType})})})]}),!P&&(0,p.jsx)(ea,{heading:"shapes",children:function(J){return(0,p.jsxs)(Ko,{gap:4,align:"start",children:[(0,p.jsxs)(vo,{gap:1,className:mt("App-toolbar-container",{"zen-mode":b}),children:[(0,p.jsx)(W0,{zenModeEnabled:b,checked:r.penMode,onChange:d,title:S("toolBar.penMode"),penDetected:r.penDetected}),(0,p.jsx)(z0,{zenModeEnabled:b,checked:r.elementLocked,onChange:f,title:S("toolBar.lock")}),(0,p.jsxs)(Dr,{padding:1,className:mt("App-toolbar",{"zen-mode":b}),children:[(0,p.jsx)(D0,{appState:r,elements:c,isMobile:oe}),J,(0,p.jsx)(vo,{gap:1,children:(0,p.jsx)(T0,{canvas:l,elementType:r.elementType,setAppState:a,onImageAction:function(Ee){var Se=Ee.pointerType;ae({insertOnCanvasDirectly:Se!=="mouse"})}})})]}),(0,p.jsx)(F0,{appState:r,setAppState:a})]}),ve]})}}),(0,p.jsxs)("div",{className:mt("layer-ui__wrapper__top-right zen-mode-transition",{"transition-right":b}),children:[(0,p.jsx)(B0,{children:r.collaborators.size>0&&Array.from(r.collaborators).filter(function(J){var Ee=R(J,2),Se=(Ee[0],Ee[1]);return Object.keys(Se).length!==0}).map(function(J){var Ee=R(J,2),Se=Ee[0],Oe=Ee[1];return(0,p.jsx)(is,{label:Oe.username||"Unknown user",children:n.renderAction("goToCollaborator",{id:Se})},Se)})}),j==null?void 0:j(oe,r)]})]})})),(0,p.jsxs)("footer",{role:"contentinfo",className:"layer-ui__wrapper__footer App-menu App-menu_bottom",children:[(0,p.jsx)("div",{className:mt("layer-ui__wrapper__footer-left zen-mode-transition",{"layer-ui__wrapper__footer-left--transition-left":b}),children:(0,p.jsx)(Ko,{gap:2,children:(0,p.jsxs)(ea,{heading:"canvasActions",children:[(0,p.jsx)(Dr,{padding:1,children:(0,p.jsx)(F1,{renderAction:n.renderAction,zoom:r.zoom})}),!P&&(0,p.jsxs)("div",{className:mt("undo-redo-buttons zen-mode-transition",{"layer-ui__wrapper__footer-left--transition-bottom":b}),children:[n.renderAction("undo",{size:"small"}),n.renderAction("redo",{size:"small"})]})]})})}),(0,p.jsx)("div",{className:mt("layer-ui__wrapper__footer-center zen-mode-transition",{"layer-ui__wrapper__footer-left--transition-bottom":b}),children:M==null?void 0:M(!1,r)}),(0,p.jsx)("div",{className:mt("layer-ui__wrapper__footer-right zen-mode-transition",{"transition-right disable-pointerEvents":b}),children:n.renderAction("toggleShortcuts")}),(0,p.jsx)("button",{className:mt("disable-zen-mode",{"disable-zen-mode--visible":v}),onClick:k,children:S("buttons.exitZenMode")})]}),r.scrolledOutside&&(0,p.jsx)("button",{className:"scroll-back-to-content",onClick:function(){a(function(J){for(var Ee=1;Ee<arguments.length;Ee++){var Se=arguments[Ee]!=null?arguments[Ee]:{};Ee%2?nm(Object(Se),!0).forEach(function(Oe){F(J,Oe,Se[Oe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(J,Object.getOwnPropertyDescriptors(Se)):nm(Object(Se)).forEach(function(Oe){Object.defineProperty(J,Oe,Object.getOwnPropertyDescriptor(Se,Oe))})}return J}({},hi(c,r)))},children:S("buttons.scrollBackToContent")})]})},vg=function(e,t){var n=function(l){return l.suggestedBindings,l.startBoundElement,Yn(l,mg)},r=n(e.appState),o=n(t.appState),a=Object.keys(r);return e.renderCustomFooter===t.renderCustomFooter&&e.langCode===t.langCode&&e.elements===t.elements&&e.files===t.files&&a.every(function(l){return r[l]===o[l]})},bg=ee().memo(gg,vg),yg=(x(1528),function(e){var t,n=zr(),r=hn(e.elements),o=Te(e.elements,e.appState),a=hn(o);return n&&e.appState.openMenu?null:(0,p.jsx)("div",{className:"Stats",children:(0,p.jsxs)(Dr,{padding:2,children:[(0,p.jsx)("div",{className:"close",onClick:e.onClose,children:Qt}),(0,p.jsx)("h3",{children:S("stats.title")}),(0,p.jsx)("table",{children:(0,p.jsxs)("tbody",{children:[(0,p.jsx)("tr",{children:(0,p.jsx)("th",{colSpan:2,children:S("stats.scene")})}),(0,p.jsxs)("tr",{children:[(0,p.jsx)("td",{children:S("stats.elements")}),(0,p.jsx)("td",{children:e.elements.length})]}),(0,p.jsxs)("tr",{children:[(0,p.jsx)("td",{children:S("stats.width")}),(0,p.jsx)("td",{children:Math.round(r[2])-Math.round(r[0])})]}),(0,p.jsxs)("tr",{children:[(0,p.jsx)("td",{children:S("stats.height")}),(0,p.jsx)("td",{children:Math.round(r[3])-Math.round(r[1])})]}),o.length===1&&(0,p.jsx)("tr",{children:(0,p.jsx)("th",{colSpan:2,children:S("stats.element")})}),o.length>1&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("tr",{children:(0,p.jsx)("th",{colSpan:2,children:S("stats.selected")})}),(0,p.jsxs)("tr",{children:[(0,p.jsx)("td",{children:S("stats.elements")}),(0,p.jsx)("td",{children:o.length})]})]}),o.length>0&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("tr",{children:[(0,p.jsx)("td",{children:"x"}),(0,p.jsx)("td",{children:Math.round(a[0])})]}),(0,p.jsxs)("tr",{children:[(0,p.jsx)("td",{children:"y"}),(0,p.jsx)("td",{children:Math.round(a[1])})]}),(0,p.jsxs)("tr",{children:[(0,p.jsx)("td",{children:S("stats.width")}),(0,p.jsx)("td",{children:Math.round(a[2]-a[0])})]}),(0,p.jsxs)("tr",{children:[(0,p.jsx)("td",{children:S("stats.height")}),(0,p.jsx)("td",{children:Math.round(a[3]-a[1])})]})]}),o.length===1&&(0,p.jsxs)("tr",{children:[(0,p.jsx)("td",{children:S("stats.angle")}),(0,p.jsx)("td",{children:"".concat(Math.round(180*o[0].angle/Math.PI),"\xB0")})]}),(t=e.renderCustomStats)===null||t===void 0?void 0:t.call(e,e.elements,e.appState)]})})]})})}),xg=(x(9757),function(e){var t=e.message,n=e.clearToast,r=(0,Q.useRef)(0),o=(0,Q.useCallback)(function(){return r.current=window.setTimeout(function(){return n()},C.Lg)},[n]);return(0,Q.useEffect)(function(){return o(),function(){return clearTimeout(r.current)}},[o,t]),(0,p.jsx)("div",{className:"Toast",onMouseEnter:function(){return clearTimeout(r==null?void 0:r.current)},onMouseLeave:o,children:(0,p.jsx)("p",{className:"Toast__message",children:t})})});function rm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function om(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rm(Object(n),!0).forEach(function(r){F(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rm(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var im=Ie({name:"viewMode",perform:function(e,t){return ps("view","mode","view"),{appState:om(om({},t),{},{viewModeEnabled:!this.checked(t)}),commitToHistory:!1}},checked:function(e){return e.viewModeEnabled},contextItemLabel:"labels.viewMode",keyTest:function(e){return!e[re.CTRL_OR_CMD]&&e.altKey&&e.code===va}}),wg=x(200),kg=x.n(wg);function am(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(s,f){if(!!s){if(typeof s=="string")return lm(s,f);var d=Object.prototype.toString.call(s).slice(8,-1);if(d==="Object"&&s.constructor&&(d=s.constructor.name),d==="Map"||d==="Set")return Array.from(s);if(d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return lm(s,f)}}(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(s){throw s},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,l=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var s=n.next();return l=s.done,s},e:function(s){c=!0,a=s},f:function(){try{l||n.return==null||n.return()}finally{if(c)throw a}}}}function lm(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function sm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function we(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sm(Object(n),!0).forEach(function(r){F(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sm(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _g(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=un(e);if(t){var o=un(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Yt(this,n)}}var cm=ee().createContext(!1),zr=function(){return(0,Q.useContext)(cm)},um=ee().createContext({container:null,id:null}),ws=function(){return(0,Q.useContext)(um)},Wc=!1,Ep=0,el=0,tl=0,nl=!1,Vc=!1,Sp=!1,jp={horizontal:null,vertical:null},na=0,Gc=!1,ra=null,Mt={pointers:new Map,lastCenter:null,initialDistance:null,initialScale:null},Cp=function(e){kt(o,e);var t,n,r=_g(o);function o(a){var l;de(this,o),l=r.call(this,a),Eg.call(Le(l));var c,s=Oo(),f=a.excalidrawRef,d=a.viewModeEnabled,m=d!==void 0&&d,b=a.zenModeEnabled,v=b!==void 0&&b,y=a.gridModeEnabled,k=y!==void 0&&y,_=a.theme,j=_===void 0?s.theme:_,M=a.name,P=M===void 0?s.name:M;if(l.state=we(we(we({},s),{},{theme:j,isLoading:!0},l.getCanvasOffsets()),{},{viewModeEnabled:m,zenModeEnabled:v,gridSize:k?C.k:null,name:P,width:window.innerWidth,height:window.innerHeight,showHyperlinkPopup:!1}),l.id=ko(),f){var N,U="current"in f&&((N=f.current)===null||N===void 0?void 0:N.readyPromise)||function(){var q,G,ae=new Promise(function(oe,ie){q=oe,G=ie});return ae.resolve=q,ae.reject=G,ae}(),V={ready:!0,readyPromise:U,updateScene:l.updateScene,addFiles:l.addFiles,resetScene:l.resetScene,getSceneElementsIncludingDeleted:l.getSceneElementsIncludingDeleted,history:{clear:l.resetHistory},scrollToContent:l.scrollToContent,getSceneElements:l.getSceneElements,getAppState:function(){return l.state},getFiles:function(){return l.files},refresh:l.refresh,importLibrary:l.importLibraryFromUrl,setToastMessage:l.setToastMessage,id:l.id};typeof f=="function"?f(V):f.current=V,U.resolve(V)}return l.excalidrawContainerValue={container:l.excalidrawContainerRef.current,id:l.id},l.scene=new Vt,l.library=new D1(Le(l)),l.history=new z1,l.actionManager=new P1(l.syncActionResult,function(){return l.state},function(){return l.scene.getElementsIncludingDeleted()},Le(l)),l.actionManager.registerAll(ts),l.actionManager.registerAction((c=l.history,{name:"undo",perform:function(q,G){return b0(q,G,function(){return c.undoOnce()})},keyTest:function(q){return q[re.CTRL_OR_CMD]&&q.key.toLowerCase()===re.Z&&!q.shiftKey},PanelComponent:function(q){var G=q.updateData,ae=q.data;return(0,p.jsx)(tt,{type:"button",icon:hd,"aria-label":S("buttons.undo"),onClick:G,size:(ae==null?void 0:ae.size)||"medium"})},commitToHistory:function(){return!1}})),l.actionManager.registerAction(function(q){return{name:"redo",perform:function(G,ae){return b0(G,ae,function(){return q.redoOnce()})},keyTest:function(G){return G[re.CTRL_OR_CMD]&&G.shiftKey&&G.key.toLowerCase()===re.Z||ga&&G.ctrlKey&&!G.shiftKey&&G.key===re.Y},PanelComponent:function(G){var ae=G.updateData,oe=G.data;return(0,p.jsx)(tt,{type:"button",icon:Pf,"aria-label":S("buttons.redo"),onClick:ae,size:(oe==null?void 0:oe.size)||"medium"})},commitToHistory:function(){return!1}}}(l.history)),l}return Ze(o,[{key:"renderCanvas",value:function(){var a=window.devicePixelRatio,l=this.state,c=l.width,s=l.height,f=c*a,d=s*a;return l.viewModeEnabled?(0,p.jsx)("canvas",{className:"excalidraw__canvas",style:{width:c,height:s,cursor:C.oc.GRAB},width:f,height:d,ref:this.handleCanvasRef,onContextMenu:this.handleCanvasContextMenu,onPointerMove:this.handleCanvasPointerMove,onPointerUp:this.handleCanvasPointerUp,onPointerCancel:this.removePointer,onTouchMove:this.handleTouchMove,onPointerDown:this.handleCanvasPointerDown,children:S("labels.drawingCanvas")}):(0,p.jsx)("canvas",{className:"excalidraw__canvas",style:{width:c,height:s},width:f,height:d,ref:this.handleCanvasRef,onContextMenu:this.handleCanvasContextMenu,onPointerDown:this.handleCanvasPointerDown,onDoubleClick:this.handleCanvasDoubleClick,onPointerMove:this.handleCanvasPointerMove,onPointerUp:this.handleCanvasPointerUp,onPointerCancel:this.removePointer,onTouchMove:this.handleTouchMove,children:S("labels.drawingCanvas")})}},{key:"render",value:function(){var a,l,c=this,s=this.state,f=s.zenModeEnabled,d=s.viewModeEnabled,m=ge(this.scene.getElements(),this.state),b=this.props,v=b.onCollabButtonClick,y=b.renderTopRightUI,k=b.renderFooter,_=b.renderCustomStats;return(0,p.jsx)("div",{className:mt("excalidraw excalidraw-container",{"excalidraw--view-mode":d,"excalidraw--mobile":this.isMobile}),ref:this.excalidrawContainerRef,onDrop:this.handleAppOnDrop,tabIndex:0,onKeyDown:this.props.handleKeyboardGlobally?void 0:this.onKeyDown,children:(0,p.jsx)(um.Provider,{value:this.excalidrawContainerValue,children:(0,p.jsxs)(cm.Provider,{value:this.isMobile,children:[(0,p.jsx)(bg,{canvas:this.canvas,appState:this.state,files:this.files,setAppState:this.setAppState,actionManager:this.actionManager,elements:this.scene.getElements(),onCollabButtonClick:v,onLockToggle:this.toggleLock,onPenModeToggle:this.togglePenMode,onInsertElements:function(j){return c.addElementsFromPasteOrLibrary({elements:j,position:"center",files:null})},zenModeEnabled:f,toggleZenMode:this.toggleZenMode,langCode:ft().code,isCollaborating:this.props.isCollaborating,renderTopRightUI:y,renderCustomFooter:k,viewModeEnabled:d,showExitZenModeBtn:((a=this.props)===null||a===void 0?void 0:a.zenModeEnabled)===void 0&&f,showThemeBtn:((l=this.props)===null||l===void 0?void 0:l.theme)===void 0&&this.props.UIOptions.canvasActions.theme,libraryReturnUrl:this.props.libraryReturnUrl,UIOptions:this.props.UIOptions,focusContainer:this.focusContainer,library:this.library,id:this.id,onImageAction:this.onImageAction}),(0,p.jsx)("div",{className:"excalidraw-textEditorContainer"}),(0,p.jsx)("div",{className:"excalidraw-contextMenuContainer"}),m.length===1&&this.state.showHyperlinkPopup&&(0,p.jsx)(Tm,{element:m[0],appState:this.state,setAppState:this.setAppState,onLinkOpen:this.props.onLinkOpen},m[0].id),this.state.showStats&&(0,p.jsx)(yg,{appState:this.state,setAppState:this.setAppState,elements:this.scene.getElements(),onClose:this.toggleStats,renderCustomStats:_}),this.state.toastMessage!==null&&(0,p.jsx)(xg,{message:this.state.toastMessage,clearToast:this.clearToast}),(0,p.jsx)("main",{children:this.renderCanvas()})]})})})}},{key:"componentDidMount",value:(n=(0,le.Z)($().mark(function a(){var l,c,s,f,d=this;return $().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:this.unmounted=!1,this.excalidrawContainerValue.container=this.excalidrawContainerRef.current,C.Vi.TEST!=="production"&&C.Vi.DEVELOPMENT!=="production"||(this.setState.bind(this),Object.defineProperties(window.h,{state:{configurable:!0,get:function(){return d.state}},setState:{configurable:!0,value:function(){return d.setState.apply(d,arguments)}},app:{configurable:!0,value:this},history:{configurable:!0,value:this.history}})),this.scene.addCallback(this.onSceneUpdated),this.addEventListeners(),this.excalidrawContainerRef.current&&this.focusContainer(),"ResizeObserver"in window&&(l=this.excalidrawContainerRef)!==null&&l!==void 0&&l.current?(this.resizeObserver=new ResizeObserver(function(){var b=d.excalidrawContainerRef.current.getBoundingClientRect(),v=b.width,y=b.height;d.isMobile=v<C.kV||y<C.Yx&&v<C.sS,d.updateDOMRect()}),(c=this.resizeObserver)===null||c===void 0||c.observe(this.excalidrawContainerRef.current)):window.matchMedia&&(s=window.matchMedia("(max-width: ".concat(C.kV,"px), (max-height: ").concat(C.Yx,"px) and (max-width: ").concat(C.sS,"px)")),f=function(){return d.isMobile=s.matches},s.addListener(f),this.detachIsMobileMqHandler=function(){return s.removeListener(f)}),new URLSearchParams(window.location.search.slice(1)).has("web-share-target")?this.restoreFileFromShare():this.updateDOMRect(this.initializeScene);case 9:case"end":return m.stop()}},a,this)})),function(){return n.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){var a;this.files={},this.imageCache.clear(),(a=this.resizeObserver)===null||a===void 0||a.disconnect(),this.unmounted=!0,this.removeEventListeners(),this.scene.destroy(),clearTimeout(na),na=0}},{key:"removeEventListeners",value:function(){var a,l,c,s;document.removeEventListener(C.Ks.POINTER_UP,this.removePointer),document.removeEventListener(C.Ks.COPY,this.onCopy),document.removeEventListener(C.Ks.PASTE,this.pasteFromClipboard),document.removeEventListener(C.Ks.CUT,this.onCut),(a=this.nearestScrollableContainer)===null||a===void 0||a.removeEventListener(C.Ks.SCROLL,this.onScroll),document.removeEventListener(C.Ks.KEYDOWN,this.onKeyDown,!1),document.removeEventListener(C.Ks.MOUSE_MOVE,this.updateCurrentCursorPosition,!1),document.removeEventListener(C.Ks.KEYUP,this.onKeyUp),window.removeEventListener(C.Ks.RESIZE,this.onResize,!1),window.removeEventListener(C.Ks.UNLOAD,this.onUnload,!1),window.removeEventListener(C.Ks.BLUR,this.onBlur,!1),(l=this.excalidrawContainerRef.current)===null||l===void 0||l.removeEventListener(C.Ks.DRAG_OVER,this.disableEvent,!1),(c=this.excalidrawContainerRef.current)===null||c===void 0||c.removeEventListener(C.Ks.DROP,this.disableEvent,!1),document.removeEventListener(C.Ks.GESTURE_START,this.onGestureStart,!1),document.removeEventListener(C.Ks.GESTURE_CHANGE,this.onGestureChange,!1),document.removeEventListener(C.Ks.GESTURE_END,this.onGestureEnd,!1),(s=this.detachIsMobileMqHandler)===null||s===void 0||s.call(this)}},{key:"addEventListeners",value:function(){var a,l,c,s;this.removeEventListeners(),document.addEventListener(C.Ks.POINTER_UP,this.removePointer),document.addEventListener(C.Ks.COPY,this.onCopy),this.props.handleKeyboardGlobally&&document.addEventListener(C.Ks.KEYDOWN,this.onKeyDown,!1),document.addEventListener(C.Ks.KEYUP,this.onKeyUp,{passive:!0}),document.addEventListener(C.Ks.MOUSE_MOVE,this.updateCurrentCursorPosition),(a=document.fonts)===null||a===void 0||(l=a.addEventListener)===null||l===void 0||l.call(a,"loadingdone",this.onFontLoaded),document.addEventListener(C.Ks.GESTURE_START,this.onGestureStart,!1),document.addEventListener(C.Ks.GESTURE_CHANGE,this.onGestureChange,!1),document.addEventListener(C.Ks.GESTURE_END,this.onGestureEnd,!1),this.state.viewModeEnabled||(document.addEventListener(C.Ks.PASTE,this.pasteFromClipboard),document.addEventListener(C.Ks.CUT,this.onCut),this.props.detectScroll&&(this.nearestScrollableContainer=function(f){for(var d=f.parentElement;d;){if(d===document.body)return document;var m=window.getComputedStyle(d).overflowY;if(d.scrollHeight>d.clientHeight&&(m==="auto"||m==="scroll"))return d;d=d.parentElement}return document}(this.excalidrawContainerRef.current),this.nearestScrollableContainer.addEventListener(C.Ks.SCROLL,this.onScroll)),window.addEventListener(C.Ks.RESIZE,this.onResize,!1),window.addEventListener(C.Ks.UNLOAD,this.onUnload,!1),window.addEventListener(C.Ks.BLUR,this.onBlur,!1),(c=this.excalidrawContainerRef.current)===null||c===void 0||c.addEventListener(C.Ks.DRAG_OVER,this.disableEvent,!1),(s=this.excalidrawContainerRef.current)===null||s===void 0||s.addEventListener(C.Ks.DROP,this.disableEvent,!1))}},{key:"componentDidUpdate",value:function(a,l){var c,s=this;l.elementType==="selection"&&this.state.elementType!=="selection"&&this.state.showHyperlinkPopup&&this.setState({showHyperlinkPopup:!1}),a.langCode!==this.props.langCode&&this.updateLanguage(),a.viewModeEnabled!==this.props.viewModeEnabled&&this.setState({viewModeEnabled:!!this.props.viewModeEnabled}),l.viewModeEnabled!==this.state.viewModeEnabled&&(this.addEventListeners(),this.deselectElements()),a.zenModeEnabled!==this.props.zenModeEnabled&&this.setState({zenModeEnabled:!!this.props.zenModeEnabled}),a.theme!==this.props.theme&&this.props.theme&&this.setState({theme:this.props.theme}),a.gridModeEnabled!==this.props.gridModeEnabled&&this.setState({gridSize:this.props.gridModeEnabled?C.k:null}),this.props.name&&a.name!==this.props.name&&this.setState({name:this.props.name}),(c=this.excalidrawContainerRef.current)===null||c===void 0||c.classList.toggle("theme--dark",this.state.theme==="dark"),this.state.editingLinearElement&&!this.state.selectedElementIds[this.state.editingLinearElement.elementId]&&setTimeout(function(){s.actionManager.executeAction(Uo)});var f=l.multiElement;l.elementType!==this.state.elementType&&f!=null&&zo(this.state)&&Jn(f)&&Wa(f,this.state,this.scene,Sn(Lt.getPointAtIndexGlobalCoordinates(f,-1)));var d={},m={},b={},v={},y={};this.state.collaborators.forEach(function(V,q){if(V.selectedElementIds)for(var G=0,ae=Object.keys(V.selectedElementIds);G<ae.length;G++){var oe=ae[G];oe in b||(b[oe]=[]),b[oe].push(q)}V.pointer&&(V.username&&(v[q]=V.username),V.userState&&(y[q]=V.userState),m[q]=_e({sceneX:V.pointer.x,sceneY:V.pointer.y},s.state),d[q]=V.button)});var k=this.scene.getElements().filter(function(V){return(!_i(V)||!s.state.pendingImageElement||V.id!==s.state.pendingImageElement.id)&&(!s.state.editingElement||s.state.editingElement.type!=="text"||V.id!==s.state.editingElement.id)}),_=Wp(k,this.state,this.state.selectionElement,window.devicePixelRatio,this.rc,this.canvas,{scrollX:this.state.scrollX,scrollY:this.state.scrollY,viewBackgroundColor:this.state.viewBackgroundColor,zoom:this.state.zoom,remotePointerViewportCoords:m,remotePointerButton:d,remoteSelectedElementIds:b,remotePointerUsernames:v,remotePointerUserStates:y,shouldCacheIgnoreZoom:this.state.shouldCacheIgnoreZoom,theme:this.state.theme,imageCache:this.imageCache,isExporting:!1,renderScrollbars:!this.isMobile}),j=_.atLeastOneVisibleElement,M=_.scrollBars;M&&(jp=M);var P,N,U=!St(this.state.editingElement)&&!j&&k.length>0;this.state.scrolledOutside!==U&&this.setState({scrolledOutside:U}),this.history.record(this.state,this.scene.getElementsIncludingDeleted()),this.scheduleImageRefresh(),this.state.isLoading||(P=(N=this.props).onChange)===null||P===void 0||P.call(N,this.scene.getElementsIncludingDeleted(),this.state,this.files)}},{key:"addTextFromPaste",value:function(a){var l=te({clientX:el,clientY:tl},this.state),c=l.x,s=l.y,f=ai({x:c,y:s,strokeColor:this.state.currentItemStrokeColor,backgroundColor:this.state.currentItemBackgroundColor,fillStyle:this.state.currentItemFillStyle,strokeWidth:this.state.currentItemStrokeWidth,strokeStyle:this.state.currentItemStrokeStyle,roughness:this.state.currentItemRoughness,opacity:this.state.currentItemOpacity,strokeSharpness:this.state.currentItemStrokeSharpness,text:a,fontSize:this.state.currentItemFontSize,fontFamily:this.state.currentItemFontFamily,textAlign:this.state.currentItemTextAlign,verticalAlign:C.hs});this.scene.replaceAllElements([].concat(fe(this.scene.getElementsIncludingDeleted()),[f])),this.setState({selectedElementIds:F({},f.id,!0)}),this.history.resumeRecording()}},{key:"selectShapeTool",value:function(a){var l;nl||Or(this.canvas,a),(l=document.activeElement)instanceof HTMLElement&&l.className.includes("ToolIcon")&&this.focusContainer(),_o(a)||this.setState({suggestedBindings:[]}),a==="image"&&this.onImageAction(),a!=="selection"?this.setState({elementType:a,selectedElementIds:{},selectedGroupIds:{},editingGroupId:null}):this.setState({elementType:a})}},{key:"handleTextWysiwyg",value:function(a,l){var c=this,s=l.isExistingElement,f=s!==void 0&&s,d=function(m,b,v){c.scene.replaceAllElements(fe(c.scene.getElementsIncludingDeleted().map(function(y){return y.id===a.id&&St(y)?Tu(y,{text:m,isDeleted:v,originalText:b}):y})))};w({id:a.id,canvas:this.canvas,getViewportCoords:function(m,b){var v=_e({sceneX:m,sceneY:b},c.state),y=v.x,k=v.y;return[y-c.state.offsetLeft,k-c.state.offsetTop]},onChange:Xt(function(m){d(m,m,!1),se(a)&&Yr(a)}),onSubmit:Xt(function(m){var b=m.text,v=m.viaKeyboard,y=m.originalText,k=!b.trim();if(d(b,y,k),!k&&v){var _=a.containerId?a.containerId:a.id;c.setState(function(j){return{selectedElementIds:we(we({},j.selectedElementIds),{},F({},_,!0))}})}k&&vc(c.scene.getElements(),[a]),k&&!f||c.history.resumeRecording(),c.setState({draggingElement:null,editingElement:null}),c.state.elementLocked&&Or(c.canvas,c.state.elementType),c.focusContainer()}),element:a,excalidrawContainer:this.excalidrawContainerRef.current,app:this}),this.deselectElements(),d(a.text,a.originalText,!1)}},{key:"deselectElements",value:function(){this.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})}},{key:"getTextElementAtPosition",value:function(a,l){var c=this.getElementAtPosition(a,l,{includeBoundTextElement:!0});return c&&St(c)&&!c.isDeleted?c:null}},{key:"getElementAtPosition",value:function(a,l,c){var s=this.getElementsAtPosition(a,l,c==null?void 0:c.includeBoundTextElement);if(s.length>1){if(c!=null&&c.preferSelected){for(var f=s.length-1;f>-1;f--)if(this.state.selectedElementIds[s[f].id])return s[f]}var d=s[s.length-1];return lc(d,this.state,a,l)?s[s.length-2]:d}return s.length===1?s[0]:null}},{key:"getElementsAtPosition",value:function(a,l){var c=this,s=arguments.length>2&&arguments[2]!==void 0&&arguments[2],f=s?this.scene.getElements():this.scene.getElements().filter(function(d){return!(St(d)&&d.containerId)});return Gf(f,function(d){return ac(d,c.state,a,l)})}},{key:"maybeCleanupAfterMissingPointerUp",value:function(a){ra!==null&&ra(a)}},{key:"updateGestureOnPointerDown",value:function(a){Mt.pointers.set(a.pointerId,{x:a.clientX,y:a.clientY}),Mt.pointers.size===2&&(Mt.lastCenter=k0(Mt.pointers),Mt.initialScale=this.state.zoom.value,Mt.initialDistance=_0(Array.from(Mt.pointers.values())))}},{key:"initialPointerDownState",value:function(a){var l=te(a,this.state),c=ge(this.scene.getElements(),this.state),s=R(hn(c),4),f=s[0],d=s[1],m=s[2],b=s[3];return{origin:l,withCmdOrCtrl:a[re.CTRL_OR_CMD],originInGrid:Sn(pr(l.x,l.y,this.state.gridSize)),scrollbars:Xe(jp,a.clientX-this.state.offsetLeft,a.clientY-this.state.offsetTop),lastCoords:we({},l),originalElements:this.scene.getElements().reduce(function(v,y){return v.set(y.id,Aa(y)),v},new Map),resize:{handleType:!1,isResizing:!1,offset:{x:0,y:0},arrowDirection:"origin",center:{x:(m+f)/2,y:(b+d)/2}},hit:{element:null,allHitElements:[],wasAddedToSelection:!1,hasBeenDuplicated:!1,hasHitCommonBoundingBoxOfSelectedElements:this.isHittingCommonBoundingBoxOfSelectedElements(l,c),hasHitElementInside:!1},drag:{hasOccurred:!1,offset:null},eventListeners:{onMove:null,onUp:null,onKeyUp:null,onKeyDown:null},boxSelection:{hasOccurred:!1}}}},{key:"handleDraggingScrollBar",value:function(a,l){var c=this;if(!l.scrollbars.isOverEither||this.state.multiElement)return!1;Sp=!0,l.lastCoords.x=a.clientX,l.lastCoords.y=a.clientY;var s=Zn(function(d){d.target instanceof HTMLElement&&c.handlePointerMoveOverScrollbars(d,l)}),f=Xt(function(){Sp=!1,Or(c.canvas,c.state.elementType),ra=null,c.setState({cursorButton:"up"}),c.savePointer(a.clientX,a.clientY,"up"),window.removeEventListener(C.Ks.POINTER_MOVE,s),window.removeEventListener(C.Ks.POINTER_UP,f),s.flush()});return ra=f,window.addEventListener(C.Ks.POINTER_MOVE,s),window.addEventListener(C.Ks.POINTER_UP,f),!0}},{key:"isASelectedElement",value:function(a){return a!=null&&this.state.selectedElementIds[a.id]}},{key:"isHittingCommonBoundingBoxOfSelectedElements",value:function(a,l){if(l.length<2)return!1;var c=10/this.state.zoom.value,s=R(hn(l),4),f=s[0],d=s[1],m=s[2],b=s[3];return a.x>f-c&&a.x<m+c&&a.y>d-c&&a.y<b+c}},{key:"onKeyDownFromPointerDownHandler",value:function(a){var l=this;return Xt(function(c){l.maybeHandleResize(a,c)||l.maybeDragNewGenericElement(a,c)})}},{key:"onKeyUpFromPointerDownHandler",value:function(a){var l=this;return Xt(function(c){c.key===re.ALT&&c.preventDefault(),l.maybeHandleResize(a,c)||l.maybeDragNewGenericElement(a,c)})}},{key:"onPointerMoveFromPointerDownHandler",value:function(a){var l=this;return Zn(function(c){var s,f;if(a.drag.offset===null&&(a.drag.offset=Sn(function(be,Ne,We){var ot=R(hn(be),2);return[Ne-ot[0],We-ot[1]]}(ge(l.scene.getElements(),l.state),a.origin.x,a.origin.y))),c.target instanceof HTMLElement&&!l.handlePointerMoveOverScrollbars(c,a)){var d=te(c,l.state),m=R(pr(d.x,d.y,l.state.gridSize),2),b=m[0],v=m[1];if(a.drag.hasOccurred||l.state.elementType!=="arrow"&&l.state.elementType!=="line"||!(fr(d.x,d.y,a.origin.x,a.origin.y)<C.f)){if(a.resize.isResizing&&(a.lastCoords.x=d.x,a.lastCoords.y=d.y,l.maybeHandleResize(a,c)))return!0;if(l.state.editingLinearElement){var y=Lt.handlePointDragging(l.state,function(be){return l.setState(be)},d.x,d.y,function(be,Ne){l.maybeSuggestBindingsForLinearElementAtCoords(be,Ne)});if(y)return a.lastCoords.x=d.x,void(a.lastCoords.y=d.y)}var k=a.hit.allHitElements.some(function(be){return l.isASelectedElement(be)});if((k||a.hit.hasHitCommonBoundingBoxOfSelectedElements)&&(!l.state.editingLinearElement||!c.shiftKey)&&(!l.state.editingLinearElement||((s=l.state.editingLinearElement)===null||s===void 0?void 0:s.elementId)!==((f=a.hit.element)===null||f===void 0?void 0:f.id)||a.hit.hasHitElementInside)){a.drag.hasOccurred=!0;var _=ge(l.scene.getElements(),l.state);if(_.length>0&&!a.withCmdOrCtrl){var j=R(pr(d.x-a.drag.offset.x,d.y-a.drag.offset.y,l.state.gridSize),2),M=j[0],P=j[1],N=[Math.abs(d.x-a.origin.x),Math.abs(d.y-a.origin.y)],U=N[0],V=N[1],q=c.shiftKey;if(function(be,Ne,We,ot){var jt=arguments.length>4&&arguments[4]!==void 0&&arguments[4],Kt=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,wt=arguments.length>6&&arguments[6]!==void 0?arguments[6]:0,tn=arguments.length>7?arguments[7]:void 0,ur=R(hn(Ne),2),rl=ur[0],bo=ur[1],yo={x:We-rl,y:ot-bo};Ne.forEach(function(_r){if(Vl(jt,Kt,wt,be,_r,yo),!_r.groupIds.length||tn.editingGroupId&&!Ta(tn,_r)){var oa=nr(_r);if(oa){var to=Vt.getScene(_r).getElement(oa);Vl(jt,Kt,wt,be,to,yo)}}Yr(_r,{simultaneouslyUpdated:Ne})})}(a,_,M,P,q,U,V,l.state),l.maybeSuggestBindingForAll(_),c.altKey&&!a.hit.hasBeenDuplicated){a.hit.hasBeenDuplicated=!0;var G,ae=[],oe=[],ie=new Map,K=new Map,he=a.hit.element,ue=l.scene.getElementsIncludingDeleted(),ce=ge(ue,l.state,!0).map(function(be){return be.id}),ve=am(ue);try{for(ve.s();!(G=ve.n()).done;){var pe=G.value;if(ce.includes(pe.id)||pe.id===(he==null?void 0:he.id)&&a.hit.wasAddedToSelection){var J=Ol(l.state.editingGroupId,ie,pe),Ee=R(pr(a.origin.x-a.drag.offset.x,a.origin.y-a.drag.offset.y,l.state.gridSize),2),Se=Ee[0],Oe=Ee[1];je(J,{x:J.x+(Se-M),y:J.y+(Oe-P)}),ae.push(J),oe.push(pe),K.set(pe.id,J.id)}else ae.push(pe)}}catch(be){ve.e(be)}finally{ve.f()}var ye=[].concat(ae,oe);_n(ae,oe,K),Wl(ye,oe,K,"duplicatesServeAsOld"),l.scene.replaceAllElements(ye)}return}}var ze=l.state.draggingElement;if(ze){if(ze.type==="freedraw"){var it=ze.points,xt=d.x-ze.x,zt=d.y-ze.y,dt=it.length>0&&it[it.length-1];if(!(dt&&dt[0]===xt&&dt[1]===zt)){var Dt=ze.simulatePressure?ze.pressures:[].concat(fe(ze.pressures),[c.pressure]);je(ze,{points:[].concat(fe(it),[[xt,zt]]),pressures:Dt})}}else if(Bt(ze)){a.drag.hasOccurred=!0;var ut=ze.points,Ut=b-ze.x,en=v-ze.y;if(pu(c)&&ut.length===2){var Kn=Oa(l.state.elementType,Ut,en);Ut=Kn.width,en=Kn.height}ut.length===1?je(ze,{points:[].concat(fe(ut),[[Ut,en]])}):ut.length>1&&je(ze,{points:[].concat(fe(ut.slice(0,-1)),[[Ut,en]])}),Jn(ze)&&l.maybeSuggestBindingsForLinearElementAtCoords(ze,[d],l.state.startBoundElement)}else a.lastCoords.x=d.x,a.lastCoords.y=d.y,l.maybeDragNewGenericElement(a,c);if(l.state.elementType==="selection"){a.boxSelection.hasOccurred=!0;var cr=l.scene.getElements();if(c.shiftKey||l.state.editingLinearElement||!ne(cr,l.state)||(a.withCmdOrCtrl&&a.hit.element?l.setState(function(be){return yr(we(we({},be),{},{selectedElementIds:F({},a.hit.element.id,!0)}),l.scene.getElements())}):l.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})),l.state.editingLinearElement)Lt.handleBoxSelection(c,l.state,l.setState.bind(l));else{var kr=function(be,Ne){var We=R(pt(Ne),4),ot=We[0],jt=We[1],Kt=We[2],wt=We[3];return be.filter(function(tn){var ur=R(Si(tn),4),rl=ur[0],bo=ur[1],yo=ur[2],_r=ur[3];return tn.type!=="selection"&&!dr(tn)&&ot<=rl&&jt<=bo&&Kt>=yo&&wt>=_r})}(cr,ze);l.setState(function(be){return yr(we(we({},be),{},{selectedElementIds:we(we(we({},be.selectedElementIds),kr.reduce(function(Ne,We){return Ne[We.id]=!0,Ne},{})),a.hit.element?F({},a.hit.element.id,!kr.length):null),showHyperlinkPopup:!(kr.length!==1||!kr[0].link)&&"info"}),l.scene.getElements())})}}}}}})}},{key:"handlePointerMoveOverScrollbars",value:function(a,l){if(l.scrollbars.isOverHorizontal){var c=a.clientX,s=c-l.lastCoords.x;return this.setState({scrollX:this.state.scrollX-s/this.state.zoom.value}),l.lastCoords.x=c,!0}if(l.scrollbars.isOverVertical){var f=a.clientY,d=f-l.lastCoords.y;return this.setState({scrollY:this.state.scrollY-d/this.state.zoom.value}),l.lastCoords.y=f,!0}return!1}},{key:"onPointerUpFromPointerDownHandler",value:function(a){var l=this;return Xt(function(c){var s,f,d=l.state,m=d.draggingElement,b=d.resizingElement,v=d.multiElement,y=d.elementType,k=d.elementLocked,_=d.isResizing,j=d.isRotating;if(l.setState({isResizing:!1,isRotating:!1,resizingElement:null,selectionElement:null,cursorButton:"up",editingElement:v||St(l.state.editingElement)?l.state.editingElement:null}),l.savePointer(c.clientX,c.clientY,"up"),l.state.editingLinearElement)if(a.boxSelection.hasOccurred||((s=a.hit)===null||s===void 0||(f=s.element)===null||f===void 0?void 0:f.id)===l.state.editingLinearElement.elementId&&a.hit.hasHitElementInside){var M=Lt.handlePointerUp(c,l.state.editingLinearElement,l.state);M!==l.state.editingLinearElement&&l.setState({editingLinearElement:M,suggestedBindings:[]})}else l.actionManager.executeAction(Uo);if(ra=null,a.eventListeners.onMove&&a.eventListeners.onMove.flush(),window.removeEventListener(C.Ks.POINTER_MOVE,a.eventListeners.onMove),window.removeEventListener(C.Ks.POINTER_UP,a.eventListeners.onUp),window.removeEventListener(C.Ks.KEYDOWN,a.eventListeners.onKeyDown),window.removeEventListener(C.Ks.KEYUP,a.eventListeners.onKeyUp),l.state.pendingImageElement&&l.setState({pendingImageElement:null}),(m==null?void 0:m.type)==="freedraw"){var P=te(c,l.state),N=m.points,U=P.x-m.x,V=P.y-m.y;U===N[0][0]&&V===N[0][1]&&(V+=1e-4,U+=1e-4);var q=m.simulatePressure?[]:[].concat(fe(m.pressures),[c.pressure]);return je(m,{points:[].concat(fe(N),[[U,V]]),pressures:q,lastCommittedPoint:[U,V]}),void l.actionManager.executeAction(Uo)}if(_i(m)){var G=m;try{l.initializeImageDimensions(G),l.setState({selectedElementIds:F({},G.id,!0)},function(){l.actionManager.executeAction(Uo)})}catch(K){console.error(K),l.scene.replaceAllElements(l.scene.getElementsIncludingDeleted().filter(function(he){return he.id!==G.id})),l.actionManager.executeAction(Uo)}}else if(Bt(m)){m.points.length>1&&l.history.resumeRecording();var ae=te(c,l.state);a.drag.hasOccurred||!m||v?a.drag.hasOccurred&&!v&&(zo(l.state)&&Jn(m)&&Wa(m,l.state,l.scene,ae),l.setState({suggestedBindings:[],startBoundElement:null}),k?l.setState(function(K){return{draggingElement:null,selectedElementIds:we(we({},K.selectedElementIds),{},F({},l.state.draggingElement.id,!0))}}):(Cr(l.canvas),l.setState(function(K){return{draggingElement:null,elementType:"selection",selectedElementIds:we(we({},K.selectedElementIds),{},F({},l.state.draggingElement.id,!0))}}))):(je(m,{points:[].concat(fe(m.points),[[ae.x-m.x,ae.y-m.y]])}),l.setState({multiElement:m,editingElement:l.state.draggingElement}))}else{if(y!=="selection"&&m&&qt(m))return l.scene.replaceAllElements(l.scene.getElementsIncludingDeleted().slice(0,-1)),void l.setState({draggingElement:null});m&&je(m,$s(m)),b&&l.history.resumeRecording(),b&&qt(b)&&l.scene.replaceAllElements(l.scene.getElementsIncludingDeleted().filter(function(K){return K.id!==b.id}));var oe=a.hit.element;if(oe&&!a.drag.hasOccurred&&!a.hit.wasAddedToSelection&&(!l.state.editingLinearElement||!a.boxSelection.hasOccurred))if(c.shiftKey&&!l.state.editingLinearElement)if(l.state.selectedElementIds[oe.id])if(Ta(l.state,oe)){var ie=oe.groupIds.flatMap(function(K){return Wr(l.scene.getElements(),K)}).map(function(K){return F({},K.id,!1)}).reduce(function(K,he){return we(we({},K),he)},{});l.setState(function(K){return{selectedGroupIds:we(we({},K.selectedElementIds),oe.groupIds.map(function(he){return F({},he,!1)}).reduce(function(he,ue){return we(we({},he),ue)},{})),selectedElementIds:we(we({},K.selectedElementIds),ie)}})}else l.setState(function(K){return yr(we(we({},K),{},{selectedElementIds:we(we({},K.selectedElementIds),{},F({},oe.id,!1))}),l.scene.getElements())});else l.setState(function(K){return{selectedElementIds:we(we({},K.selectedElementIds),{},F({},oe.id,!0))}});else l.setState(function(K){return we({},yr(we(we({},K),{},{selectedElementIds:F({},oe.id,!0)}),l.scene.getElements()))});l.state.editingLinearElement||a.drag.hasOccurred||l.state.isResizing||!(oe&&lc(oe,l.state,a.origin.x,a.origin.y)||!oe&&a.hit.hasHitCommonBoundingBoxOfSelectedElements)?(!k&&y!=="freedraw"&&m&&l.setState(function(K){return{selectedElementIds:we(we({},K.selectedElementIds),{},F({},m.id,!0))}}),(y!=="selection"||ne(l.scene.getElements(),l.state))&&l.history.resumeRecording(),(a.drag.hasOccurred||_||j)&&(zo(l.state)?An:hc)(ge(l.scene.getElements(),l.state)),k||y==="freedraw"?l.setState({draggingElement:null,suggestedBindings:[]}):(Cr(l.canvas),l.setState({draggingElement:null,suggestedBindings:[],elementType:"selection"}))):l.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})}})}},{key:"maybeSuggestBindingForAll",value:function(a){var l,c,s=(l=a,c=new Set(l.map(function(f){return f.id})),l.flatMap(function(f){return Jn(f)?Yu(f).filter(function(d){return!c.has(d.id)}):pa(f)?Ar(f).filter(function(d){return!c.has(d[0].id)}):[]}));this.setState({suggestedBindings:s})}},{key:"clearSelection",value:function(a){this.setState(function(l){return{selectedElementIds:{},selectedGroupIds:{},editingGroupId:l.editingGroupId&&a!=null&&co(a,l.editingGroupId)?l.editingGroupId:null}}),this.setState({selectedElementIds:{},previousSelectedElementIds:this.state.selectedElementIds})}},{key:"getTextWysiwygSnappedToCenterPosition",value:function(a,l,c,s,f){var d=Mc(this.scene.getElementsIncludingDeleted().filter(function(y){return!St(y)}),a,l);if(d){var m=d.x+d.width/2,b=d.y+d.height/2;if(Math.hypot(a-m,l-b)<C.wZ){var v=_e({sceneX:m,sceneY:b},c);return{viewportX:v.x,viewportY:v.y,elementCenterX:m,elementCenterY:b}}}}},{key:"getCanvasOffsets",value:function(){var a;if((a=this.excalidrawContainerRef)!==null&&a!==void 0&&a.current){var l=this.excalidrawContainerRef.current.getBoundingClientRect();return{offsetLeft:l.left,offsetTop:l.top}}return{offsetLeft:0,offsetTop:0}}},{key:"updateLanguage",value:(t=(0,le.Z)($().mark(function a(){var l,c=this;return $().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return l=Ae.find(function(f){return f.code===c.props.langCode})||ke,s.next=3,Gt(l);case 3:this.setAppState({});case 4:case"end":return s.stop()}},a,this)})),function(){return t.apply(this,arguments)})}],[{key:"resetTapTwice",value:function(){Wc=!1}}]),o}(ee().Component);Cp.defaultProps={UIOptions:C.cW};var Eg=function(){var e=this;this.canvas=null,this.rc=null,this.unmounted=!1,this.isMobile=!1,this.excalidrawContainerRef=ee().createRef(),this.files={},this.imageCache=new Map,this.lastPointerDown=null,this.lastPointerUp=null,this.contextMenuOpen=!1,this.focusContainer=function(){var t;e.props.autoFocus&&((t=e.excalidrawContainerRef.current)===null||t===void 0||t.focus())},this.getSceneElementsIncludingDeleted=function(){return e.scene.getElementsIncludingDeleted()},this.getSceneElements=function(){return e.scene.getElements()},this.syncActionResult=Xt(function(t){if(e.contextMenuOpen=!1,!e.unmounted&&t!==!1){var n=null;if(t.elements&&(t.elements.forEach(function(y){var k;((k=e.state.editingElement)===null||k===void 0?void 0:k.id)===y.id&&e.state.editingElement!==y&&se(y)&&(n=y)}),e.scene.replaceAllElements(t.elements),t.commitToHistory&&e.history.resumeRecording()),t.files&&(e.files=t.replaceFiles?t.files:we(we({},e.files),t.files),e.addNewImagesToImageCache()),t.appState||n){var r,o,a,l,c,s;t.commitToHistory&&e.history.resumeRecording();var f=(t==null||(r=t.appState)===null||r===void 0?void 0:r.viewModeEnabled)||!1,d=(t==null||(o=t.appState)===null||o===void 0?void 0:o.zenModeEnabled)||!1,m=(t==null||(a=t.appState)===null||a===void 0?void 0:a.gridSize)||null,b=(t==null||(l=t.appState)===null||l===void 0?void 0:l.theme)||C.C6.LIGHT,v=(c=t==null||(s=t.appState)===null||s===void 0?void 0:s.name)!==null&&c!==void 0?c:e.state.name;e.props.viewModeEnabled!==void 0&&(f=e.props.viewModeEnabled),e.props.zenModeEnabled!==void 0&&(d=e.props.zenModeEnabled),e.props.gridModeEnabled!==void 0&&(m=e.props.gridModeEnabled?C.k:null),e.props.theme!==void 0&&(b=e.props.theme),e.props.name!==void 0&&(v=e.props.name),e.setState(function(y){var k;return Object.assign(t.appState||{},{editingElement:n||((k=t.appState)===null||k===void 0?void 0:k.editingElement)||null,viewModeEnabled:f,zenModeEnabled:d,gridSize:m,theme:b,name:v})},function(){t.syncHistory&&e.history.setCurrentState(e.state,e.scene.getElementsIncludingDeleted())})}}}),this.onBlur=Xt(function(){nl=!1,e.setState({isBindingEnabled:!0})}),this.onUnload=function(){e.onBlur()},this.disableEvent=function(t){t.preventDefault()},this.onFontLoaded=function(){e.scene.getElementsIncludingDeleted().forEach(function(t){St(t)&&Hn(t)}),e.onSceneUpdated()},this.importLibraryFromUrl=function(){var t=(0,le.Z)($().mark(function n(r,o){var a,l,c,s,f;return $().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return window.location.hash.includes(C.ah.addLibrary)?((a=new URLSearchParams(window.location.hash.slice(1))).delete(C.ah.addLibrary),window.history.replaceState({},C.iC,"#".concat(a.toString()))):window.location.search.includes(C.UO.addLibrary)&&((l=new URLSearchParams(window.location.search)).delete(C.UO.addLibrary),window.history.replaceState({},C.iC,"?".concat(l.toString()))),d.prev=1,d.next=4,fetch(decodeURIComponent(r));case 4:return c=d.sent,d.next=7,c.blob();case 7:return s=d.sent,d.t0=JSON,d.next=11,s.text();case 11:if(d.t1=d.sent,f=d.t0.parse.call(d.t0,d.t1),r1(f)){d.next=15;break}throw new Error;case 15:if(o!==e.id&&!window.confirm(S("alerts.confirmAddLibrary",{numShapes:(f.libraryItems||f.library||[]).length}))){d.next=20;break}return d.next=18,e.library.importLibrary(s,"published");case 18:e.state.isLibraryOpen&&e.setState({isLibraryOpen:!1}),e.setState({isLibraryOpen:!0});case 20:d.next=26;break;case 22:d.prev=22,d.t2=d.catch(1),window.alert(S("alerts.errorLoadingLibrary")),console.error(d.t2);case 26:return d.prev=26,e.focusContainer(),d.finish(26);case 29:case"end":return d.stop()}},n,null,[[1,22,26,29]])}));return function(n,r){return t.apply(this,arguments)}}(),this.resetHistory=function(){e.history.clear()},this.resetScene=Xt(function(t){e.scene.replaceAllElements([]),e.setState(function(n){return we(we({},Oo()),{},{isLoading:(t==null||!t.resetLoadingState)&&n.isLoading,theme:e.state.theme})}),e.resetHistory()}),this.initializeScene=(0,le.Z)($().mark(function t(){var n,r,o,a,l;return $().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return"launchQueue"in window&&"LaunchParams"in window&&window.launchQueue.setConsumer(function(){var s=(0,le.Z)($().mark(function f(d){var m,b;return $().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:if(d.files.length){v.next=2;break}return v.abrupt("return");case 2:return m=d.files[0],v.next=5,m.getFile();case 5:(b=v.sent).handle=m,Fc(b,e.state,e.scene.getElementsIncludingDeleted()).then(function(y){e.syncActionResult(we(we({},y),{},{appState:we(we({},y.appState||e.state),{},{isLoading:!1}),commitToHistory:!0}))}).catch(function(y){e.setState({isLoading:!1,errorMessage:y.message})});case 8:case"end":return v.stop()}},f)}));return function(f){return s.apply(this,arguments)}}()),e.state.isLoading||e.setState({isLoading:!0}),r=null,c.prev=3,c.next=6,e.props.initialData;case 6:if(c.t0=c.sent,c.t0){c.next=9;break}c.t0=null;case 9:r=c.t0,(o=r)!==null&&o!==void 0&&o.libraryItems&&(e.libraryItemsFromStorage=lp(r.libraryItems,"unpublished")),c.next=17;break;case 13:c.prev=13,c.t1=c.catch(3),console.error(c.t1),r={appState:{errorMessage:c.t1.message||"Encountered an error during importing or restoring scene data"}};case 17:if((a=Bc(r,null,null)).appState=we(we({},a.appState),{},{elementType:a.appState.elementType==="image"?"selection":a.appState.elementType,isLoading:!1}),(n=r)!==null&&n!==void 0&&n.scrollToContent&&(a.appState=we(we({},a.appState),hi(a.elements,we(we({},a.appState),{},{width:e.state.width,height:e.state.height,offsetTop:e.state.offsetTop,offsetLeft:e.state.offsetLeft})))),e.resetHistory(),e.syncActionResult(we(we({},a),{},{commitToHistory:!0})),!(l=new URLSearchParams(window.location.hash.slice(1)).get(C.ah.addLibrary)||new URLSearchParams(window.location.search).get(C.UO.addLibrary))){c.next=26;break}return c.next=26,e.importLibraryFromUrl(l);case 26:case"end":return c.stop()}},t,null,[[3,13]])})),this.onResize=Xt(function(){e.scene.getElementsIncludingDeleted().forEach(function(t){return Hn(t)}),e.setState({})}),this.onScroll=Vs(function(){var t=e.getCanvasOffsets(),n=t.offsetTop,r=t.offsetLeft;e.setState(function(o){return o.offsetLeft===r&&o.offsetTop===n?null:{offsetTop:n,offsetLeft:r}})},C.HM),this.onCut=Xt(function(t){var n;((n=e.excalidrawContainerRef.current)===null||n===void 0?void 0:n.contains(document.activeElement))&&!oo(t.target)&&(e.cutAll(),t.preventDefault())}),this.onCopy=Xt(function(t){var n;((n=e.excalidrawContainerRef.current)===null||n===void 0?void 0:n.contains(document.activeElement))&&!oo(t.target)&&(e.copyAll(),t.preventDefault())}),this.cutAll=function(){e.copyAll(),e.actionManager.executeAction(Ke)},this.copyAll=function(){Mh(e.scene.getElements(),e.state,e.files)},this.onTapStart=function(t){if(ml||t.preventDefault(),!Wc)return Wc=!0,clearTimeout(Ep),void(Ep=window.setTimeout(Cp.resetTapTwice,C.Gj));if(Wc&&t.touches.length===1){var n=R(t.touches,1)[0];e.handleCanvasDoubleClick({clientX:n.clientX,clientY:n.clientY}),Wc=!1,clearTimeout(Ep)}ml&&t.preventDefault(),t.touches.length===2&&e.setState({selectedElementIds:{}})},this.onTapEnd=function(t){e.resetContextMenuTimer(),t.touches.length>0?e.setState({previousSelectedElementIds:{},selectedElementIds:e.state.previousSelectedElementIds}):Mt.pointers.clear()},this.pasteFromClipboard=Xt(function(){var t=(0,le.Z)($().mark(function n(r){var o,a,l,c,s,f,d,m,b,v,y;return $().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:if(l=document.activeElement,(o=e.excalidrawContainerRef.current)===null||o===void 0?void 0:o.contains(l)){k.next=4;break}return k.abrupt("return");case 4:if(c=document.elementFromPoint(el,tl),!r||c instanceof HTMLCanvasElement&&!oo(l)){k.next=7;break}return k.abrupt("return");case 7:return s=r==null||(a=r.clipboardData)===null||a===void 0?void 0:a.files[0],k.next=10,f1(r);case 10:if(f=k.sent,!s&&f.text&&(d=f.text.trim()).startsWith("<svg")&&d.endsWith("</svg>")&&(s=gh(d)),!Ud(s)||f.spreadsheet){k.next=19;break}return m=te({clientX:el,clientY:tl},e.state),b=m.x,v=m.y,y=e.createImageElement({sceneX:b,sceneY:v}),e.insertImageElement(y,s),e.initializeImageDimensions(y),e.setState({selectedElementIds:F({},y.id,!0)}),k.abrupt("return");case 19:if(!e.props.onPaste){k.next=31;break}return k.prev=20,k.next=23,e.props.onPaste(f,r);case 23:if(k.t0=k.sent,k.t0!==!1){k.next=26;break}return k.abrupt("return");case 26:k.next=31;break;case 28:k.prev=28,k.t1=k.catch(20),console.error(k.t1);case 31:f.errorMessage?e.setState({errorMessage:f.errorMessage}):f.spreadsheet?e.setState({pasteDialog:{data:f.spreadsheet,shown:!0}}):f.elements?e.addElementsFromPasteOrLibrary({elements:f.elements,files:f.files||null,position:"cursor"}):f.text&&e.addTextFromPaste(f.text),e.selectShapeTool("selection"),r==null||r.preventDefault();case 34:case"end":return k.stop()}},n,null,[[20,28]])}));return function(n){return t.apply(this,arguments)}}()),this.addElementsFromPasteOrLibrary=function(t){var n=Fd(t.elements,null),r=R(hn(n),4),o=r[0],a=r[1],l=r[2],c=r[3],s=on(o,l)/2,f=on(a,c)/2,d=Wt(t.position)==="object"?t.position.clientX:t.position==="cursor"?el:e.state.width/2+e.state.offsetLeft,m=Wt(t.position)==="object"?t.position.clientY:t.position==="cursor"?tl:e.state.height/2+e.state.offsetTop,b=te({clientX:d,clientY:m},e.state),v=b.x-s,y=b.y-f,k=new Map,_=R(pr(v,y,e.state.gridSize),2),j=_[0],M=_[1],P=new Map,N=n.map(function(V){var q=Ol(e.state.editingGroupId,k,V,{x:V.x+j-o,y:V.y+M-a});return P.set(V.id,q.id),q});_n(N,n,P);var U=[].concat(fe(e.scene.getElementsIncludingDeleted()),fe(N));Wl(U,n,P),t.files&&(e.files=we(we({},e.files),t.files)),e.scene.replaceAllElements(U),e.history.resumeRecording(),e.setState(yr(we(we({},e.state),{},{isLibraryOpen:!1,selectedElementIds:N.reduce(function(V,q){return dr(q)||(V[q.id]=!0),V},{}),selectedGroupIds:{}}),e.scene.getElements()),function(){t.files&&e.addNewImagesToImageCache()}),e.selectShapeTool("selection")},this.setAppState=function(t){e.setState(t)},this.removePointer=function(t){na&&e.resetContextMenuTimer(),Mt.pointers.delete(t.pointerId)},this.toggleLock=function(){e.setState(function(t){return{elementLocked:!t.elementLocked,elementType:t.elementLocked?"selection":t.elementType}})},this.togglePenMode=function(){e.setState(function(t){return{penMode:!t.penMode}})},this.toggleZenMode=function(){e.actionManager.executeAction(bp)},this.toggleStats=function(){e.state.showStats||ps("dialog","stats"),e.actionManager.executeAction(yp)},this.scrollToContent=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.scene.getElements();e.setState(we({},hi(Array.isArray(t)?t:[t],e.state,e.canvas)))},this.clearToast=function(){e.setState({toastMessage:null})},this.setToastMessage=function(t){e.setState({toastMessage:t})},this.restoreFileFromShare=(0,le.Z)($().mark(function t(){var n,r,o;return $().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,caches.open("web-share-target");case 3:return n=a.sent,a.next=6,n.match("shared-file");case 6:if(!(r=a.sent)){a.next=15;break}return a.next=10,r.blob();case 10:return o=a.sent,e.loadFileToCanvas(o),a.next=14,n.delete("shared-file");case 14:window.history.replaceState(null,C.iC,window.location.pathname);case 15:a.next=20;break;case 17:a.prev=17,a.t0=a.catch(0),e.setState({errorMessage:a.t0.message});case 20:case"end":return a.stop()}},t,null,[[0,17]])})),this.addFiles=Xt(function(t){var n=t.reduce(function(r,o){return r.set(o.id,o),r},new Map);e.files=we(we({},e.files),Object.fromEntries(n)),e.scene.getElements().forEach(function(r){Sr(r)&&n.has(r.fileId)&&(e.imageCache.delete(r.fileId),Hn(r))}),e.scene.informMutation(),e.addNewImagesToImageCache()}),this.updateScene=Xt(function(t){t.commitToHistory&&e.history.resumeRecording(),t.appState&&e.setState(t.appState),t.elements&&e.scene.replaceAllElements(t.elements),t.collaborators&&e.setState({collaborators:t.collaborators}),t.libraryItems&&e.library.saveLibrary(lp(t.libraryItems,"unpublished"))}),this.onSceneUpdated=function(){e.setState({})},this.updateCurrentCursorPosition=Xt(function(t){el=t.clientX,tl=t.clientY}),this.onKeyDown=Xt(function(t){var n;if("Proxy"in window&&(!t.shiftKey&&/^[A-Z]$/.test(t.key)||t.shiftKey&&/^[a-z]$/.test(t.key))&&(t=new Proxy(t,{get:function(m,b){var v=m[b];return typeof v=="function"?v.bind(m):b==="key"?t.shiftKey?m.key.toUpperCase():m.key.toLowerCase():v}})),!(oo(t.target)&&t.key!==re.ESCAPE||Oi(t.key)&&(n=t.target,n instanceof HTMLElement&&n.dataset.type==="wysiwyg"||n instanceof HTMLBRElement||n instanceof HTMLInputElement||n instanceof HTMLTextAreaElement||n instanceof HTMLSelectElement))&&(t.key===re.QUESTION_MARK&&e.setState({showHelpDialog:!0}),!e.actionManager.handleKeyDown(t)&&!e.state.viewModeEnabled)){if(t[re.CTRL_OR_CMD]&&e.state.isBindingEnabled&&e.setState({isBindingEnabled:!1}),t.code===zs&&e.setState({isLibraryOpen:!e.state.isLibraryOpen}),Oi(t.key)){var r=e.state.gridSize&&(t.shiftKey?C.$e:e.state.gridSize)||(t.shiftKey?C.Iw:C.$e),o=ge(e.scene.getElements(),e.state,!0),a=0,l=0;t.key===re.ARROW_LEFT?a=-r:t.key===re.ARROW_RIGHT?a=r:t.key===re.ARROW_UP?l=-r:t.key===re.ARROW_DOWN&&(l=r),o.forEach(function(m){je(m,{x:m.x+a,y:m.y+l}),Yr(m,{simultaneouslyUpdated:o})}),e.maybeSuggestBindingForAll(o),t.preventDefault()}else if(t.key===re.ENTER){var c=ge(e.scene.getElements(),e.state);if(c.length===1&&Bt(c[0]))e.state.editingLinearElement&&e.state.editingLinearElement.elementId===c[0].id||(e.history.resumeRecording(),e.setState({editingLinearElement:new Lt(c[0],e.scene)}));else if(c.length===1&&!Bt(c[0])){var s=c[0];return e.startTextEditing({sceneX:s.x+s.width/2,sceneY:s.y+s.height/2,shouldBind:!0}),void t.preventDefault()}}else if(!t.ctrlKey&&!t.altKey&&!t.metaKey&&e.state.draggingElement===null){var f=function(m){var b=C0.find(function(v,y){return m===(y+1).toString()||v.key&&(typeof v.key=="string"?v.key===m:v.key.includes(m))});return(b==null?void 0:b.value)||null}(t.key);f?e.selectShapeTool(f):t.key===re.Q&&e.toggleLock()}if(t.key===re.SPACE&&Mt.pointers.size===0&&(nl=!0,an(e.canvas,C.oc.GRABBING),t.preventDefault()),t.key===re.G||t.key===re.S){var d=ge(e.scene.getElements(),e.state);if(e.state.elementType==="selection"&&!d.length)return;t.key===re.G&&(Zi(e.state.elementType)||d.some(function(m){return Zi(m.type)}))&&e.setState({openPopup:"backgroundColorPicker"}),t.key===re.S&&e.setState({openPopup:"strokeColorPicker"})}}}),this.onKeyUp=Xt(function(t){if(t.key===re.SPACE&&(e.state.viewModeEnabled?an(e.canvas,C.oc.GRAB):e.state.elementType==="selection"?Cr(e.canvas):(Or(e.canvas,e.state.elementType),e.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})),nl=!1),t[re.CTRL_OR_CMD]||e.state.isBindingEnabled||e.setState({isBindingEnabled:!0}),Oi(t.key)){var n=ge(e.scene.getElements(),e.state);zo(e.state)?An(n):hc(n),e.setState({suggestedBindings:[]})}}),this.onGestureStart=Xt(function(t){t.preventDefault(),e.setState({selectedElementIds:{}}),Mt.initialScale=e.state.zoom.value}),this.onGestureChange=Xt(function(t){if(t.preventDefault(),!(Mt.pointers.size>=2)){var n=Mt.initialScale;n&&e.setState(function(r){return we({},Xi({viewportX:el,viewportY:tl,nextZoom:Yi(n*t.scale)},r))})}}),this.onGestureEnd=Xt(function(t){t.preventDefault(),e.setState({previousSelectedElementIds:{},selectedElementIds:e.state.previousSelectedElementIds}),Mt.initialScale=null}),this.startTextEditing=function(t){var n,r,o,a=t.sceneX,l=t.sceneY,c=t.shouldBind,s=t.insertAtParentCenter,f=(s===void 0||s)&&e.getTextWysiwygSnappedToCenterPosition(a,l,e.state,e.canvas,window.devicePixelRatio),d=c||f?Mc(e.scene.getElements().filter(function(P){return!St(P)}),a,l):null,m=e.getTextElementAtPosition(a,l);if(d){var b=nr(d);b&&(m=e.scene.getElement(b))}if(!m&&d){var v={fontSize:e.state.currentItemFontSize,fontFamily:e.state.currentItemFontFamily},y=Li(dn(v)),k=(o=dn(v),ei(o)+2*C.gK),_=Math.max(d.height,k),j=Math.max(d.width,y);je(d,{height:_,width:j}),a=d.x+j/2,l=d.y+_/2,f&&(f=e.getTextWysiwygSnappedToCenterPosition(a,l,e.state,e.canvas,window.devicePixelRatio))}var M=m||ai({x:f?f.elementCenterX:a,y:f?f.elementCenterY:l,strokeColor:e.state.currentItemStrokeColor,backgroundColor:e.state.currentItemBackgroundColor,fillStyle:e.state.currentItemFillStyle,strokeWidth:e.state.currentItemStrokeWidth,strokeStyle:e.state.currentItemStrokeStyle,roughness:e.state.currentItemRoughness,opacity:e.state.currentItemOpacity,strokeSharpness:e.state.currentItemStrokeSharpness,text:"",fontSize:e.state.currentItemFontSize,fontFamily:e.state.currentItemFontFamily,textAlign:f?"center":e.state.currentItemTextAlign,verticalAlign:f?"middle":C.hs,containerId:(n=d==null?void 0:d.id)!==null&&n!==void 0?n:void 0,groupIds:(r=d==null?void 0:d.groupIds)!==null&&r!==void 0?r:[]});e.setState({editingElement:M}),m?f&&M.textAlign==="center"||je(M,{verticalAlign:C.hs}):(e.scene.replaceAllElements([].concat(fe(e.scene.getElementsIncludingDeleted()),[M])),f||je(M,{y:M.y-M.baseline/2})),e.setState({editingElement:M}),e.handleTextWysiwyg(M,{isExistingElement:!!m})},this.handleCanvasDoubleClick=function(t){if(!e.state.multiElement&&e.state.elementType==="selection"){var n=ge(e.scene.getElements(),e.state);if(n.length===1&&Bt(n[0]))e.state.editingLinearElement&&e.state.editingLinearElement.elementId===n[0].id||(e.history.resumeRecording(),e.setState({editingLinearElement:new Lt(n[0],e.scene)}));else{Cr(e.canvas);var r=te(t,e.state),o=r.x,a=r.y;if(zi(e.state).length>0){var l=e.getElementAtPosition(o,a),c=l&&function(d,m){return d.groupIds.find(function(b){return m[b]})}(l,e.state.selectedGroupIds);if(c)return void e.setState(function(d){return yr(we(we({},d),{},{editingGroupId:c,selectedElementIds:F({},l.id,!0),selectedGroupIds:{}}),e.scene.getElements())})}if(Cr(e.canvas),!t[re.CTRL_OR_CMD]&&!e.state.viewModeEnabled){var s=ge(e.scene.getElements(),e.state);if(s.length===1){var f=s[0];pl(f)&&(o=f.x+f.width/2,a=f.y+f.height/2)}e.startTextEditing({sceneX:o,sceneY:a,shouldBind:!1,insertAtParentCenter:!t.altKey})}}}},this.getElementLinkAtPosition=function(t,n){var r=e.scene.getElements().slice().reverse(),o=1/0;return r.find(function(a,l){return n&&a.id===n.id&&(o=l),a.link&&Nd(a,e.state,[t.x,t.y],e.isMobile)&&l<=o})},this.redirectToLink=function(t,n){var r=fr(e.lastPointerDown.clientX,e.lastPointerDown.clientY,e.lastPointerUp.clientX,e.lastPointerUp.clientY);if(!(!e.hitLinkElement||n&&r>C.f||!n&&r!==0)){var o=te(e.lastPointerDown,e.state),a=Nd(e.hitLinkElement,e.state,[o.x,o.y],e.isMobile),l=te(e.lastPointerUp,e.state),c=Nd(e.hitLinkElement,e.state,[l.x,l.y],e.isMobile);if(a&&c){var s,f,d=e.hitLinkElement.link;if(d&&(e.props.onLinkOpen&&(f=ya(C.Ks.EXCALIDRAW_LINK,t.nativeEvent),e.props.onLinkOpen(e.hitLinkElement,f)),(s=f)===null||s===void 0||!s.defaultPrevented)){var m=Bp(d)?"_self":"_blank",b=window.open(void 0,m);b&&(b.opener=null,b.location=Hp(d))}}}},this.handleCanvasPointerMove=function(t){e.savePointer(t.clientX,t.clientY,e.state.cursorButton),Mt.pointers.has(t.pointerId)&&Mt.pointers.set(t.pointerId,{x:t.clientX,y:t.clientY});var n=Mt.initialScale;if(Mt.pointers.size===2&&Mt.lastCenter&&n&&Mt.initialDistance){var r=k0(Mt.pointers),o=r.x-Mt.lastCenter.x,a=r.y-Mt.lastCenter.y;Mt.lastCenter=r;var l=_0(Array.from(Mt.pointers.values())),c=e.state.elementType==="freedraw"&&e.state.penMode?1:l/Mt.initialDistance,s=c?Yi(n*c):e.state.zoom.value;e.setState(function(ie){var K=Xi({viewportX:r.x,viewportY:r.y,nextZoom:s},ie);return{zoom:K.zoom,scrollX:K.scrollX+o/s,scrollY:K.scrollY+a/s,shouldCacheIgnoreZoom:!0}}),e.resetShouldCacheIgnoreZoomDebounced()}else Mt.lastCenter=Mt.initialDistance=Mt.initialScale=null;if(!(nl||Vc||Sp)){var f=Xe(jp,t.clientX-e.state.offsetLeft,t.clientY-e.state.offsetTop).isOverEither;e.state.draggingElement||e.state.multiElement||(f?Cr(e.canvas):Or(e.canvas,e.state.elementType));var d=te(t,e.state),m=d.x,b=d.y;if(e.state.editingLinearElement&&!e.state.editingLinearElement.isDragging){var v=Lt.handlePointerMove(t,m,b,e.state.editingLinearElement,e.state.gridSize);v!==e.state.editingLinearElement&&e.setState({editingLinearElement:v}),v.lastUncommittedPoint!=null?e.maybeSuggestBindingAtCursor(d):e.setState({suggestedBindings:[]})}if(su(e.state.elementType)){var y=e.state.draggingElement;Jn(y)?e.maybeSuggestBindingsForLinearElementAtCoords(y,[d],e.state.startBoundElement):e.maybeSuggestBindingAtCursor(d)}if(e.state.multiElement){var k=e.state.multiElement,_=k.x,j=k.y,M=k.points,P=k.lastCommittedPoint,N=M[M.length-1];return Or(e.canvas,e.state.elementType),void(N===P?fr(m-_,b-j,N[0],N[1])>=C.qx?je(k,{points:[].concat(fe(M),[[m-_,b-j]])}):an(e.canvas,C.oc.POINTER):M.length>2&&P&&fr(m-_,b-j,P[0],P[1])<C.qx?(an(e.canvas,C.oc.POINTER),je(k,{points:M.slice(0,-1)})):(Eo(M,e.state.zoom.value)&&an(e.canvas,C.oc.POINTER),je(k,{points:[].concat(fe(M.slice(0,-1)),[[m-_,b-j]])})))}if(!(Boolean(t.buttons)||e.state.elementType!=="selection"&&e.state.elementType!=="text")){var U=e.scene.getElements(),V=ge(U,e.state);if(V.length!==1||f||e.state.editingLinearElement){if(V.length>1&&!f){var q=Ua(hn(V),m,b,e.state.zoom,t.pointerType);if(q)return void an(e.canvas,Ve({transformHandleType:q}))}}else{var G=Bl(U,e.state,m,b,e.state.zoom,t.pointerType);if(G&&G.transformHandleType)return void an(e.canvas,Ve(G))}var ae=e.getElementAtPosition(d.x,d.y);if(e.hitLinkElement=e.getElementLinkAtPosition(d,ae),e.hitLinkElement&&!e.state.selectedElementIds[e.hitLinkElement.id])an(e.canvas,C.oc.POINTER),function(ie,K){Nc&&clearTimeout(Nc),Nc=window.setTimeout(function(){return Mm(ie,K)},C.sA)}(e.hitLinkElement,e.state);else if(Nc&&clearTimeout(Nc),tp&&(tp=!1,mi().classList.remove("excalidraw-tooltip--visible")),ae&&ae.link&&e.state.selectedElementIds[ae.id]&&!e.contextMenuOpen&&!e.state.showHyperlinkPopup&&e.setState({showHyperlinkPopup:"info"}),e.state.elementType==="text")an(e.canvas,St(ae)?C.oc.TEXT:C.oc.CROSSHAIR);else if(e.state.viewModeEnabled)an(e.canvas,C.oc.GRAB);else if(f)an(e.canvas,C.oc.AUTO);else if(e.state.editingLinearElement){var oe=Lt.getElement(e.state.editingLinearElement.elementId);oe&&za(oe,e.state,[d.x,d.y])?an(e.canvas,C.oc.MOVE):an(e.canvas,C.oc.AUTO)}else t[re.CTRL_OR_CMD]||!ae&&!e.isHittingCommonBoundingBoxOfSelectedElements(d,V)?an(e.canvas,C.oc.AUTO):an(e.canvas,C.oc.MOVE)}}},this.handleTouchMove=function(t){Gc=!0},this.handleCanvasPointerDown=function(t){var n=document.getSelection();if(n!=null&&n.anchorNode&&n.removeAllRanges(),e.maybeOpenContextMenuAfterPointerDownOnTouchDevices(t),e.maybeCleanupAfterMissingPointerUp(t),e.state.penDetected||t.pointerType!=="pen"||e.setState(function(m){return{penMode:!0,penDetected:!0}}),!Vc&&(e.lastPointerDown=t,e.setState({lastPointerDownWith:t.pointerType,cursorButton:"down"}),e.savePointer(t.clientX,t.clientY,"down"),!e.handleCanvasPanUsingWheelOrSpaceDrag(t)&&!(t.button!==C.Oh.MAIN&&t.button!==C.Oh.TOUCH||(e.updateGestureOnPointerDown(t),Mt.pointers.size>1)))){var r=e.initialPointerDownState(t);if(!e.handleDraggingScrollBar(t,r)&&(e.contextMenuOpen=!1,e.clearSelectionIfNotUsingSelection(),e.updateBindingEnabledOnPointerMove(t),!e.handleSelectionOnPointerDown(t,r)&&(!e.state.penMode||t.pointerType!=="touch"||e.state.elementType==="selection"||e.state.elementType==="text"||e.state.elementType==="image")))if(e.state.elementType!=="text"){if(e.state.elementType==="arrow"||e.state.elementType==="line")e.handleLinearElementOnPointerDown(t,e.state.elementType,r);else if(e.state.elementType==="image"){if(an(e.canvas,C.oc.CROSSHAIR),!e.state.pendingImageElement)return;e.setState({draggingElement:e.state.pendingImageElement,editingElement:e.state.pendingImageElement,pendingImageElement:null,multiElement:null});var o=te(t,e.state),a=o.x,l=o.y;je(e.state.pendingImageElement,{x:a,y:l})}else e.state.elementType==="freedraw"?e.handleFreeDrawElementOnPointerDown(t,e.state.elementType,r):e.createGenericElementOnPointerDown(e.state.elementType,r);var c=e.onPointerMoveFromPointerDownHandler(r),s=e.onPointerUpFromPointerDownHandler(r),f=e.onKeyDownFromPointerDownHandler(r),d=e.onKeyUpFromPointerDownHandler(r);ra=s,e.state.viewModeEnabled||(window.addEventListener(C.Ks.POINTER_MOVE,c),window.addEventListener(C.Ks.POINTER_UP,s),window.addEventListener(C.Ks.KEYDOWN,f),window.addEventListener(C.Ks.KEYUP,d),r.eventListeners.onMove=c,r.eventListeners.onUp=s,r.eventListeners.onKeyUp=d,r.eventListeners.onKeyDown=f)}else e.handleTextOnPointerDown(t,r)}},this.handleCanvasPointerUp=function(t){e.lastPointerUp=t;var n=["pen","touch"].includes(t.pointerType);if(n){var r=te({clientX:t.clientX,clientY:t.clientY},e.state),o=e.getElementAtPosition(r.x,r.y);e.hitLinkElement=e.getElementLinkAtPosition(r,o)}e.hitLinkElement&&!e.state.selectedElementIds[e.hitLinkElement.id]&&e.redirectToLink(t,n),e.removePointer(t)},this.maybeOpenContextMenuAfterPointerDownOnTouchDevices=function(t){t.pointerType==="touch"&&(Gc=!1,na?Gc=!0:na=window.setTimeout(function(){na=0,Gc||e.handleCanvasContextMenu(t)},C.nM))},this.resetContextMenuTimer=function(){clearTimeout(na),na=0,Gc=!1},this.handleCanvasPanUsingWheelOrSpaceDrag=function(t){if(Mt.pointers.size!==0||!(t.button===C.Oh.WHEEL||t.button===C.Oh.MAIN&&nl||e.state.viewModeEnabled)||St(e.state.editingElement))return!1;Vc=!0,t.preventDefault();var n=!1,r=/Linux/.test(window.navigator.platform);an(e.canvas,C.oc.GRABBING);var o=t.clientX,a=t.clientY,l=Zn(function(s){var f=o-s.clientX,d=a-s.clientY;if(o=s.clientX,a=s.clientY,r&&!n&&(Math.abs(f)>1||Math.abs(d)>1)){n=!0;var m=function b(v){document.body.removeEventListener(C.Ks.PASTE,b),v.stopPropagation()};document.body.addEventListener(C.Ks.PASTE,m),window.addEventListener(C.Ks.POINTER_UP,function b(){setTimeout(function(){document.body.removeEventListener(C.Ks.PASTE,m),window.removeEventListener(C.Ks.POINTER_UP,b)},100)})}e.setState({scrollX:e.state.scrollX-f/e.state.zoom.value,scrollY:e.state.scrollY-d/e.state.zoom.value})}),c=Xt(ra=function(){ra=null,Vc=!1,nl||(e.state.viewModeEnabled?an(e.canvas,C.oc.GRAB):Or(e.canvas,e.state.elementType)),e.setState({cursorButton:"up"}),e.savePointer(t.clientX,t.clientY,"up"),window.removeEventListener(C.Ks.POINTER_MOVE,l),window.removeEventListener(C.Ks.POINTER_UP,c),window.removeEventListener(C.Ks.BLUR,c),l.flush()});return window.addEventListener(C.Ks.BLUR,c),window.addEventListener(C.Ks.POINTER_MOVE,l,{passive:!0}),window.addEventListener(C.Ks.POINTER_UP,c),!0},this.clearSelectionIfNotUsingSelection=function(){e.state.elementType!=="selection"&&e.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})},this.handleSelectionOnPointerDown=function(t,n){if(e.state.elementType==="selection"){var r=e.scene.getElements(),o=ge(r,e.state);if(o.length!==1||e.state.editingLinearElement)o.length>1&&(n.resize.handleType=Ua(hn(o),n.origin.x,n.origin.y,e.state.zoom,t.pointerType));else{var a=Bl(r,e.state,n.origin.x,n.origin.y,e.state.zoom,t.pointerType);a!=null&&(e.setState({resizingElement:a.element}),n.resize.handleType=a.transformHandleType)}if(n.resize.handleType)an(e.canvas,Ve({transformHandleType:n.resize.handleType})),n.resize.isResizing=!0,n.resize.offset=Sn(function(_,j,M,P){var N=R(j.length===1?pt(j[0]):hn(j),4),U=N[0],V=N[1],q=N[2],G=N[3],ae=(U+q)/2,oe=(V+G)/2,ie=j.length===1?j[0].angle:0,K=R(gt(M,P,ae,oe,-ie),2);switch(M=K[0],P=K[1],_){case"n":return gt(M-(U+q)/2,P-V,0,0,ie);case"s":return gt(M-(U+q)/2,P-G,0,0,ie);case"w":return gt(M-U,P-(V+G)/2,0,0,ie);case"e":return gt(M-q,P-(V+G)/2,0,0,ie);case"nw":return gt(M-U,P-V,0,0,ie);case"ne":return gt(M-q,P-V,0,0,ie);case"sw":return gt(M-U,P-G,0,0,ie);case"se":return gt(M-q,P-G,0,0,ie);default:return[0,0]}}(n.resize.handleType,o,n.origin.x,n.origin.y)),o.length===1&&Bt(o[0])&&o[0].points.length===2&&(n.resize.arrowDirection=(d=n.resize.handleType,m=o[0],b=R(m.points,2),v=R(b[1],2),y=v[0],k=v[1],d==="nw"&&(y<0||k<0)||d==="ne"&&y>=0||d==="sw"&&y<=0||d==="se"&&(y>0||k>0)?"end":"origin"));else{var l;if(e.state.editingLinearElement){var c=Lt.handlePointerDown(t,e.state,function(_){return e.setState(_)},e.history,n.origin);if(c.hitElement&&(n.hit.element=c.hitElement),c.didAddPoint)return!0}if(n.hit.element=(l=n.hit.element)!==null&&l!==void 0?l:e.getElementAtPosition(n.origin.x,n.origin.y),n.hit.element){if(Nd(n.hit.element,e.state,[n.origin.x,n.origin.y],e.isMobile))return!1;n.hit.hasHitElementInside=za(n.hit.element,e.state,[n.origin.x,n.origin.y])}n.hit.allHitElements=e.getElementsAtPosition(n.origin.x,n.origin.y);var s=n.hit.element,f=n.hit.allHitElements.some(function(_){return e.isASelectedElement(_)});if(s!==null&&f||t.shiftKey||n.hit.hasHitCommonBoundingBoxOfSelectedElements||e.clearSelection(s),e.state.editingLinearElement)e.setState({selectedElementIds:F({},e.state.editingLinearElement.elementId,!0)});else if(s!=null){if(t[re.CTRL_OR_CMD])return e.state.selectedElementIds[s.id]||(n.hit.wasAddedToSelection=!0),e.setState(function(_){return we(we({},function(j,M){return jn(jn({},j),{},{editingGroupId:M.groupIds.length?M.groupIds[0]:null,selectedGroupIds:{},selectedElementIds:F({},M.id,!0)})}(_,s)),{},{previousSelectedElementIds:e.state.selectedElementIds})}),!1;e.state.selectedElementIds[s.id]||(e.state.editingGroupId&&!co(s,e.state.editingGroupId)&&e.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null}),f||n.hit.hasHitCommonBoundingBoxOfSelectedElements||(e.setState(function(_){return yr(we(we({},_),{},{selectedElementIds:we(we({},_.selectedElementIds),{},F({},s.id,!0)),showHyperlinkPopup:!!s.link&&"info"}),e.scene.getElements())}),n.hit.wasAddedToSelection=!0))}e.setState({previousSelectedElementIds:e.state.selectedElementIds})}}var d,m,b,v,y,k;return!1},this.handleTextOnPointerDown=function(t,n){if(!St(e.state.editingElement)){var r=n.origin.x,o=n.origin.y,a=e.getElementAtPosition(r,o,{includeBoundTextElement:!0});pl(a)&&(r=a.x+a.width/2,o=a.y+a.height/2),e.startTextEditing({sceneX:r,sceneY:o,shouldBind:!1,insertAtParentCenter:!t.altKey}),Cr(e.canvas),e.state.elementLocked||e.setState({elementType:"selection"})}},this.handleFreeDrawElementOnPointerDown=function(t,n,r){var o,a=R(pr(r.origin.x,r.origin.y,null),2),l=a[0],c=a[1],s=(o={type:n,x:l,y:c,strokeColor:e.state.currentItemStrokeColor,backgroundColor:e.state.currentItemBackgroundColor,fillStyle:e.state.currentItemFillStyle,strokeWidth:e.state.currentItemStrokeWidth,strokeStyle:e.state.currentItemStrokeStyle,roughness:e.state.currentItemRoughness,opacity:e.state.currentItemOpacity,strokeSharpness:e.state.currentItemLinearStrokeSharpness,simulatePressure:t.pressure===.5},Mr(Mr({},Pa(o.type,o)),{},{points:o.points||[],pressures:[],simulatePressure:o.simulatePressure,lastCommittedPoint:null}));e.setState(function(m){return{selectedElementIds:we(we({},m.selectedElementIds),{},F({},s.id,!1))}});var f=s.simulatePressure?s.pressures:[].concat(fe(s.pressures),[t.pressure]);je(s,{points:[[0,0]],pressures:f});var d=mo(r.origin,e.scene);e.scene.replaceAllElements([].concat(fe(e.scene.getElementsIncludingDeleted()),[s])),e.setState({draggingElement:s,editingElement:s,startBoundElement:d,suggestedBindings:[]})},this.createImageElement=function(t){var n,r=t.sceneX,o=t.sceneY,a=R(pr(r,o,e.state.gridSize),2),l=a[0],c=a[1];return n={type:"image",x:l,y:c,strokeColor:e.state.currentItemStrokeColor,backgroundColor:e.state.currentItemBackgroundColor,fillStyle:e.state.currentItemFillStyle,strokeWidth:e.state.currentItemStrokeWidth,strokeStyle:e.state.currentItemStrokeStyle,roughness:e.state.currentItemRoughness,opacity:e.state.currentItemOpacity,strokeSharpness:e.state.currentItemLinearStrokeSharpness},Mr(Mr({},Pa("image",n)),{},{strokeColor:"transparent",status:"pending",fileId:null,scale:[1,1]})},this.handleLinearElementOnPointerDown=function(t,n,r){if(e.state.multiElement){var o=e.state.multiElement;if(o.type==="line"&&Eo(o.points,e.state.zoom.value))return je(o,{lastCommittedPoint:o.points[o.points.length-1]}),void e.actionManager.executeAction(Uo);var a=o.x,l=o.y,c=o.lastCommittedPoint;if(o.points.length>1&&c&&fr(r.origin.x-a,r.origin.y-l,c[0],c[1])<C.qx)return void e.actionManager.executeAction(Uo);e.setState(function(P){return{selectedElementIds:we(we({},P.selectedElementIds),{},F({},o.id,!0))}}),je(o,{lastCommittedPoint:o.points[o.points.length-1]}),an(e.canvas,C.oc.POINTER)}else{var s=R(pr(r.origin.x,r.origin.y,e.state.gridSize),2),f=s[0],d=s[1],m=e.state,b=m.currentItemStartArrowhead,v=m.currentItemEndArrowhead,y=R(n==="arrow"?[b,v]:[null,null],2),k=y[0],_=y[1],j=uo({type:n,x:f,y:d,strokeColor:e.state.currentItemStrokeColor,backgroundColor:e.state.currentItemBackgroundColor,fillStyle:e.state.currentItemFillStyle,strokeWidth:e.state.currentItemStrokeWidth,strokeStyle:e.state.currentItemStrokeStyle,roughness:e.state.currentItemRoughness,opacity:e.state.currentItemOpacity,strokeSharpness:e.state.currentItemLinearStrokeSharpness,startArrowhead:k,endArrowhead:_});e.setState(function(P){return{selectedElementIds:we(we({},P.selectedElementIds),{},F({},j.id,!1))}}),je(j,{points:[].concat(fe(j.points),[[0,0]])});var M=mo(r.origin,e.scene);e.scene.replaceAllElements([].concat(fe(e.scene.getElementsIncludingDeleted()),[j])),e.setState({draggingElement:j,editingElement:j,startBoundElement:M,suggestedBindings:[]})}},this.createGenericElementOnPointerDown=function(t,n){var r=R(pr(n.origin.x,n.origin.y,e.state.gridSize),2),o=r[0],a=r[1],l=Ni({type:t,x:o,y:a,strokeColor:e.state.currentItemStrokeColor,backgroundColor:e.state.currentItemBackgroundColor,fillStyle:e.state.currentItemFillStyle,strokeWidth:e.state.currentItemStrokeWidth,strokeStyle:e.state.currentItemStrokeStyle,roughness:e.state.currentItemRoughness,opacity:e.state.currentItemOpacity,strokeSharpness:e.state.currentItemStrokeSharpness});l.type==="selection"?e.setState({selectionElement:l,draggingElement:l}):(e.scene.replaceAllElements([].concat(fe(e.scene.getElementsIncludingDeleted()),[l])),e.setState({multiElement:null,draggingElement:l,editingElement:l}))},this.initializeImage=function(){var t=(0,le.Z)($().mark(function n(r){var o,a,l,c,s,f,d,m,b,v,y,k,_,j,M;return $().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:if(c=r.imageFile,s=r.imageElement,f=r.showCursorImagePreview,d=f!==void 0&&f,Ud(c)){P.next=3;break}throw new Error(S("errors.unsupportedFileType"));case 3:if(m=c.type,an(e.canvas,"wait"),m!==C.LO.svg){P.next=23;break}return P.prev=6,P.t0=gh,P.t1=a1,P.next=11,c.text();case 11:return P.t2=P.sent,P.next=14,(0,P.t1)(P.t2);case 14:P.t3=P.sent,P.t4=c.name,c=(0,P.t0)(P.t3,P.t4),P.next=23;break;case 19:throw P.prev=19,P.t5=P.catch(6),console.warn(P.t5),new Error(S("errors.svgImageInsertError"));case 23:return P.next=25,((o=(a=e.props).generateIdForFile)===null||o===void 0?void 0:o.call(a,c))||$m(c);case 25:if(b=P.sent){P.next=29;break}throw console.warn("Couldn't generate file id or the supplied `generateIdForFile` didn't resolve to one."),new Error(S("errors.imageInsertError"));case 29:if((v=e.files[b])!=null&&v.dataURL){P.next=42;break}return P.prev=31,P.next=34,up(c,{maxWidthOrHeight:C.h6});case 34:c=P.sent,P.next=40;break;case 37:P.prev=37,P.t6=P.catch(31),console.error("error trying to resing image file on insertion",P.t6);case 40:if(!(c.size>C.$n)){P.next=42;break}throw new Error(S("errors.fileTooBig",{maxSize:"".concat(Math.trunc(C.$n/1024/1024),"MB")}));case 42:if(d&&(k=(y=e.files[b])===null||y===void 0?void 0:y.dataURL,_=k&&Qm(k),e.setImagePreviewCursor(_||c)),P.t7=(l=e.files[b])===null||l===void 0?void 0:l.dataURL,P.t7){P.next=48;break}return P.next=47,mh(c);case 47:P.t7=P.sent;case 48:return j=P.t7,M=je(s,{fileId:b},!1),P.abrupt("return",new Promise(function(){var N=(0,le.Z)($().mark(function U(V,q){var G,ae,oe;return $().wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:if(ie.prev=0,e.files=we(we({},e.files),{},F({},b,{mimeType:m,id:b,dataURL:j,created:Date.now()})),oe=e.imageCache.get(b)){ie.next=7;break}return e.addNewImagesToImageCache(),ie.next=7,e.updateImageCache([M]);case 7:if(!((oe==null?void 0:oe.image)instanceof Promise)){ie.next=10;break}return ie.next=10,oe.image;case 10:((G=e.state.pendingImageElement)===null||G===void 0?void 0:G.id)!==M.id&&((ae=e.state.draggingElement)===null||ae===void 0?void 0:ae.id)!==M.id&&e.initializeImageDimensions(M,!0),V(M),ie.next=18;break;case 14:ie.prev=14,ie.t0=ie.catch(0),console.error(ie.t0),q(new Error(S("errors.imageInsertError")));case 18:return ie.prev=18,d||Cr(e.canvas),ie.finish(18);case 21:case"end":return ie.stop()}},U,null,[[0,14,18,21]])}));return function(U,V){return N.apply(this,arguments)}}()));case 51:case"end":return P.stop()}},n,null,[[6,19],[31,37]])}));return function(n){return t.apply(this,arguments)}}(),this.insertImageElement=function(){var t=(0,le.Z)($().mark(function n(r,o,a){return $().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return e.scene.replaceAllElements([].concat(fe(e.scene.getElementsIncludingDeleted()),[r])),l.prev=1,l.next=4,e.initializeImage({imageFile:o,imageElement:r,showCursorImagePreview:a});case 4:l.next=11;break;case 6:l.prev=6,l.t0=l.catch(1),je(r,{isDeleted:!0}),e.actionManager.executeAction(Uo),e.setState({errorMessage:l.t0.message||S("errors.imageInsertError")});case 11:case"end":return l.stop()}},n,null,[[1,6]])}));return function(n,r,o){return t.apply(this,arguments)}}(),this.setImagePreviewCursor=function(){var t=(0,le.Z)($().mark(function n(r){var o,a,l,c,s,f,d;return $().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return o=96,m.next=3,up(r,{maxWidthOrHeight:o});case 3:return a=m.sent,m.next=6,mh(a);case 6:if(l=m.sent,r.type!==C.LO.svg){m.next=20;break}return m.next=10,wh(l);case 10:c=m.sent,s=Math.min(c.height,o),(f=s*(c.width/c.height))>o&&(s=(f=o)*(c.height/c.width)),(d=document.createElement("canvas")).height=s,d.width=f,d.getContext("2d").drawImage(c,0,0,f,s),l=d.toDataURL(C.LO.svg);case 20:e.state.pendingImageElement&&an(e.canvas,"url(".concat(l,") 4 4, auto"));case 21:case"end":return m.stop()}},n)}));return function(n){return t.apply(this,arguments)}}(),this.onImageAction=(0,le.Z)($().mark(function t(){var n,r,o,a,l,c,s,f,d,m=arguments;return $().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return n=m.length>0&&m[0]!==void 0?m[0]:{insertOnCanvasDirectly:!1},r=n.insertOnCanvasDirectly,b.prev=1,o=e.state.width/2+e.state.offsetLeft,a=e.state.height/2+e.state.offsetTop,l=te({clientX:o,clientY:a},e.state),c=l.x,s=l.y,b.next=7,ap({description:"Image",extensions:["jpg","png","svg","gif"]});case 7:f=b.sent,d=e.createImageElement({sceneX:c,sceneY:s}),r?(e.insertImageElement(d,f),e.initializeImageDimensions(d),e.setState({selectedElementIds:F({},d.id,!0)},function(){e.actionManager.executeAction(Uo)})):e.setState({pendingImageElement:d},function(){e.insertImageElement(d,f,!0)}),b.next=16;break;case 12:b.prev=12,b.t0=b.catch(1),b.t0.name!=="AbortError"?console.error(b.t0):console.warn(b.t0),e.setState({pendingImageElement:null,editingElement:null,elementType:"selection"},function(){e.actionManager.executeAction(Uo)});case 16:case"end":return b.stop()}},t,null,[[1,12]])})),this.initializeImageDimensions=function(t){var n,r=arguments.length>1&&arguments[1]!==void 0&&arguments[1],o=Sr(t)&&((n=e.imageCache.get(t.fileId))===null||n===void 0?void 0:n.image);if(!o||o instanceof Promise){if(t.width<C.f/e.state.zoom.value&&t.height<C.f/e.state.zoom.value){var a=100/e.state.zoom.value;je(t,{x:t.x-a/2,y:t.y-a/2,width:a,height:a})}}else if(r||t.width<C.f/e.state.zoom.value&&t.height<C.f/e.state.zoom.value){var l=Math.max(e.state.height-120,160),c=Math.min(l,Math.floor(.5*e.state.height)/e.state.zoom.value),s=Math.min(o.naturalHeight,c),f=s*(o.naturalWidth/o.naturalHeight),d=t.x+t.width/2-f/2,m=t.y+t.height/2-s/2;je(t,{x:d,y:m,width:f,height:s})}},this.updateImageCache=function(){var t=(0,le.Z)($().mark(function n(r){var o,a,l,c,s,f,d,m=arguments;return $().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return o=m.length>1&&m[1]!==void 0?m[1]:e.files,b.next=3,kh({imageCache:e.imageCache,fileIds:r.map(function(v){return v.fileId}),files:o});case 3:if(a=b.sent,l=a.updatedFiles,c=a.erroredFiles,l.size||c.size){s=am(r);try{for(s.s();!(f=s.n()).done;)d=f.value,l.has(d.fileId)&&Hn(d)}catch(v){s.e(v)}finally{s.f()}}return c.size&&e.scene.replaceAllElements(e.scene.getElementsIncludingDeleted().map(function(v){return Sr(v)&&c.has(v.fileId)?It(v,{status:"error"}):v})),b.abrupt("return",{updatedFiles:l,erroredFiles:c});case 9:case"end":return b.stop()}},n)}));return function(n){return t.apply(this,arguments)}}(),this.addNewImagesToImageCache=(0,le.Z)($().mark(function t(){var n,r,o,a,l=arguments;return $().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(n=l.length>0&&l[0]!==void 0?l[0]:_h(e.scene.getElements()),r=l.length>1&&l[1]!==void 0?l[1]:e.files,!(o=n.filter(function(s){return!s.isDeleted&&!e.imageCache.has(s.fileId)})).length){c.next=9;break}return c.next=6,e.updateImageCache(o,r);case 6:a=c.sent,a.updatedFiles.size&&e.scene.informMutation();case 9:case"end":return c.stop()}},t)})),this.scheduleImageRefresh=kg()(function(){e.addNewImagesToImageCache()},C.LL),this.updateBindingEnabledOnPointerMove=function(t){var n=function(r){return!r[re.CTRL_OR_CMD]}(t);e.state.isBindingEnabled!==n&&e.setState({isBindingEnabled:n})},this.maybeSuggestBindingAtCursor=function(t){var n=mo(t,e.scene);e.setState({suggestedBindings:n!=null?[n]:[]})},this.maybeSuggestBindingsForLinearElementAtCoords=function(t,n,r){if(n.length){var o=n.reduce(function(a,l){var c=mo(l,e.scene);return c==null||pc(t,r==null?void 0:r.id,c)||a.push(c),a},[]);e.setState({suggestedBindings:o})}},this.handleCanvasRef=function(t){var n,r,o;t!==null?(e.canvas=t,e.rc=Xo.canvas(e.canvas),e.canvas.addEventListener(C.Ks.WHEEL,e.handleWheel,{passive:!1}),e.canvas.addEventListener(C.Ks.TOUCH_START,e.onTapStart),e.canvas.addEventListener(C.Ks.TOUCH_END,e.onTapEnd)):((n=e.canvas)===null||n===void 0||n.removeEventListener(C.Ks.WHEEL,e.handleWheel),(r=e.canvas)===null||r===void 0||r.removeEventListener(C.Ks.TOUCH_START,e.onTapStart),(o=e.canvas)===null||o===void 0||o.removeEventListener(C.Ks.TOUCH_END,e.onTapEnd))},this.handleAppOnDrop=function(){var t=(0,le.Z)($().mark(function n(r){var o,a,l,c,s,f,d,m,b,v,y,k;return $().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:if(_.prev=0,l=r.dataTransfer.files[0],!Ud(l)){_.next=33;break}if((l==null?void 0:l.type)!==C.LO.png&&(l==null?void 0:l.type)!==C.LO.svg){_.next=27;break}if(_.prev=4,!Ji){_.next=16;break}return _.prev=6,c=r.dataTransfer.items[0],_.next=10,c.getAsFileSystemHandle();case 10:l.handle=_.sent,_.next=16;break;case 13:_.prev=13,_.t0=_.catch(6),console.warn(_.t0.name,_.t0.message);case 16:return _.next=18,Fc(l,e.state,e.scene.getElementsIncludingDeleted());case 18:return s=_.sent,e.syncActionResult(we(we({},s),{},{appState:we(we({},s.appState||e.state),{},{isLoading:!1}),replaceFiles:!0,commitToHistory:!0})),_.abrupt("return");case 23:if(_.prev=23,_.t1=_.catch(4),_.t1.name==="EncodingError"){_.next=27;break}throw _.t1;case 27:return f=te(r,e.state),d=f.x,m=f.y,b=e.createImageElement({sceneX:d,sceneY:m}),e.insertImageElement(b,l),e.initializeImageDimensions(b),e.setState({selectedElementIds:F({},b.id,!0)}),_.abrupt("return");case 33:_.next=38;break;case 35:return _.prev=35,_.t2=_.catch(0),_.abrupt("return",e.setState({isLoading:!1,errorMessage:_.t2.message}));case 38:if((v=r.dataTransfer.getData(C.LO.excalidrawlib))===""){_.next=42;break}return e.addElementsFromPasteOrLibrary({elements:JSON.parse(v),position:r,files:null}),_.abrupt("return");case 42:if(!(((y=(o=r.dataTransfer)===null||o===void 0?void 0:o.files[0])==null?void 0:y.type)===C.LO.excalidrawlib||y!=null&&(a=y.name)!==null&&a!==void 0&&a.endsWith(".excalidrawlib"))){_.next=47;break}e.library.importLibrary(y).then(function(){e.setState({isLibraryOpen:!1}),e.setState({isLibraryOpen:!0})}).catch(function(j){return e.setState({isLoading:!1,errorMessage:j.message})}),_.next=61;break;case 47:if(e.setState({isLoading:!0}),!Ji){_.next=59;break}return _.prev=49,k=r.dataTransfer.items[0],_.next=53,k.getAsFileSystemHandle();case 53:y.handle=_.sent,_.next=59;break;case 56:_.prev=56,_.t3=_.catch(49),console.warn(_.t3.name,_.t3.message);case 59:return _.next=61,e.loadFileToCanvas(y);case 61:case"end":return _.stop()}},n,null,[[0,35],[4,23],[6,13],[49,56]])}));return function(n){return t.apply(this,arguments)}}(),this.loadFileToCanvas=function(t){Fc(t,e.state,e.scene.getElementsIncludingDeleted()).then(function(n){e.syncActionResult(we(we({},n),{},{appState:we(we({},n.appState||e.state),{},{isLoading:!1}),replaceFiles:!0,commitToHistory:!0}))}).catch(function(n){e.setState({isLoading:!1,errorMessage:n.message})})},this.handleCanvasContextMenu=function(t){if(t.preventDefault(),t.nativeEvent.pointerType!=="touch"&&(t.nativeEvent.pointerType!=="pen"||t.button===C.Oh.SECONDARY)||e.state.elementType==="selection"){var n=te(t,e.state),r=n.x,o=n.y,a=e.getElementAtPosition(r,o,{preferSelected:!0}),l=a?"element":"canvas",c=e.excalidrawContainerRef.current.getBoundingClientRect(),s=c.top,f=c.left,d=t.clientX-f,m=t.clientY-s;a&&!e.state.selectedElementIds[a.id]?e.setState({selectedElementIds:F({},a.id,!0)},function(){e._openContextMenu({top:m,left:d},l)}):e._openContextMenu({top:m,left:d},l)}},this.maybeDragNewGenericElement=function(t,n){var r=e.state.draggingElement,o=t.lastCoords;if(r)if(r.type==="selection")nd(r,e.state.elementType,t.origin.x,t.origin.y,o.x,o.y,on(t.origin.x,o.x),on(t.origin.y,o.y),ba(n),Ws(n));else{var a,l=R(pr(o.x,o.y,e.state.gridSize),2),c=l[0],s=l[1],f=Sr(r)&&((a=e.imageCache.get(r.fileId))===null||a===void 0?void 0:a.image),d=!f||f instanceof Promise?null:f.width/f.height;nd(r,e.state.elementType,t.originInGrid.x,t.originInGrid.y,c,s,on(t.originInGrid.x,c),on(t.originInGrid.y,s),_i(r)?!ba(n):ba(n),Ws(n),d),e.maybeSuggestBindingForAll([r])}},this.maybeHandleResize=function(t,n){var r=ge(e.scene.getElements(),e.state),o=t.resize.handleType;e.setState({isResizing:o&&o!=="rotation",isRotating:o==="rotation"});var a=t.lastCoords,l=R(pr(a.x-t.resize.offset.x,a.y-t.resize.offset.y,e.state.gridSize),2),c=l[0],s=l[1];return!!function(f,d,m,b,v,y,k,_,j,M,P){if(m.length===1){var N=R(m,1)[0];return d==="rotation"?($u(N,_,j,v),Yr(N)):!Bt(N)||N.points.length!==2||d!=="nw"&&d!=="ne"&&d!=="sw"&&d!=="se"?!St(N)||d!=="nw"&&d!=="ne"&&d!=="sw"&&d!=="se"?d&&ed(f.originalElements.get(N.id),k,N,d,y,_,j):(xr(N,d,y,_,j),Yr(N)):Ef(N,b,v,_,j),!0}if(m.length>1){if(d==="rotation")return Sf(f,m,_,j,v,M,P),!0;if(d==="nw"||d==="ne"||d==="sw"||d==="se")return td(m,d,_,j),xu(m,d),!0}return!1}(t,o,r,t.resize.arrowDirection,pu(n),Ws(n),r.length===1&&_i(r[0])?!ba(n):ba(n),c,s,t.resize.center.x,t.resize.center.y)&&(e.maybeSuggestBindingForAll(r),!0)},this._openContextMenu=function(t,n){var r=t.left,o=t.top;e.state.showHyperlinkPopup&&e.setState({showHyperlinkPopup:!1}),e.contextMenuOpen=!0;var a=Yh.contextItemPredicate(e.actionManager.getElementsIncludingDeleted(),e.actionManager.getAppState()),l=Xh.contextItemPredicate(e.actionManager.getElementsIncludingDeleted(),e.actionManager.getAppState()),c=r0.contextItemPredicate(e.actionManager.getElementsIncludingDeleted(),e.actionManager.getAppState()),s=o0.contextItemPredicate(e.actionManager.getElementsIncludingDeleted(),e.actionManager.getAppState()),f="separator",d=e.scene.getElements(),m=[];if(Zd&&d.length>0&&m.push(s0),Gd&&d.length>0&&m.push(l0),n==="canvas"){var b=[].concat(m,[e.props.gridModeEnabled===void 0&&d0,e.props.zenModeEnabled===void 0&&bp,e.props.viewModeEnabled===void 0&&im,yp]);e.state.viewModeEnabled?Qd({options:b,top:o,left:r,actionManager:e.actionManager,appState:e.state,container:e.excalidrawContainerRef.current,elements:d}):Qd({options:[e.isMobile&&navigator.clipboard&&{name:"paste",perform:function(y,k){return e.pasteFromClipboard(null),{commitToHistory:!1}},contextItemLabel:"labels.paste"},e.isMobile&&navigator.clipboard&&f,Zd&&d.length>0&&s0,Gd&&d.length>0&&l0,(Zd&&d.length>0||Gd&&d.length>0)&&f,us,f,e.props.gridModeEnabled===void 0&&d0,e.props.zenModeEnabled===void 0&&bp,e.props.viewModeEnabled===void 0&&im,yp],top:o,left:r,actionManager:e.actionManager,appState:e.state,container:e.excalidrawContainerRef.current,elements:d})}else if(n==="element"){var v=ge(d,e.state).some(function(y){return!pl(y)});e.state.viewModeEnabled?Qd({options:[navigator.clipboard&&vp].concat(m),top:o,left:r,actionManager:e.actionManager,appState:e.state,container:e.excalidrawContainerRef.current,elements:d}):Qd({options:[e.isMobile&&T1,e.isMobile&&navigator.clipboard&&vp,e.isMobile&&navigator.clipboard&&{name:"paste",perform:function(y,k){return e.pasteFromClipboard(null),{commitToHistory:!1}},contextItemLabel:"labels.paste"},e.isMobile&&f].concat(m,[f,y1,x1,f,a&&Yh,!v&&M1,l&&Xh,(a||l)&&f,E1,f,gi,Rd,zd,ss,f,c&&r0,s&&o0,(c||s)&&f,Fp.contextItemPredicate(d,e.state)&&Fp,ds,Ke]),top:o,left:r,actionManager:e.actionManager,appState:e.state,container:e.excalidrawContainerRef.current,elements:d})}},this.handleWheel=Xt(function(t){if(t.preventDefault(),!Vc){var n=t.deltaX,r=t.deltaY,o=e.state,a=o.selectedElementIds,l=o.previousSelectedElementIds;if(t.metaKey||t.ctrlKey){var c=Math.sign(r),s=Math.abs(r);s>10&&(s=10),s*=c,Object.keys(l).length!==0&&setTimeout(function(){e.setState({selectedElementIds:l,previousSelectedElementIds:{}})},1e3);var f=e.state.zoom.value-s/100;return f+=Math.log10(Math.max(1,e.state.zoom.value))*-c,f=Math.round(f*C.V4*100)/(100*C.V4),e.setState(function(d){return we(we({},Xi({viewportX:el,viewportY:tl,nextZoom:Yi(f)},d)),{},{selectedElementIds:{},previousSelectedElementIds:Object.keys(a).length!==0?a:l,shouldCacheIgnoreZoom:!0})}),void e.resetShouldCacheIgnoreZoomDebounced()}t.shiftKey?e.setState(function(d){var m=d.zoom;return{scrollX:d.scrollX-(r||n)/m.value}}):e.setState(function(d){var m=d.zoom,b=d.scrollX,v=d.scrollY;return{scrollX:b-n/m.value,scrollY:v-r/m.value}})}}),this.savePointer=function(t,n,r){var o,a;if(t&&n){var l=te({clientX:t,clientY:n},e.state);isNaN(l.x)||isNaN(l.y),(o=(a=e.props).onPointerUpdate)===null||o===void 0||o.call(a,{pointer:l,button:r,pointersMap:Mt.pointers})}},this.resetShouldCacheIgnoreZoomDebounced=Vs(function(){e.unmounted||e.setState({shouldCacheIgnoreZoom:!1})},300),this.updateDOMRect=function(t){var n;if((n=e.excalidrawContainerRef)!==null&&n!==void 0&&n.current){var r=e.excalidrawContainerRef.current.getBoundingClientRect(),o=r.width,a=r.height,l=r.left,c=r.top,s=e.state,f=s.width,d=s.height,m=s.offsetTop,b=s.offsetLeft;if(o===f&&a===d&&l===b&&c===m)return void(t&&t());e.setState({width:o,height:a,offsetLeft:l,offsetTop:c},function(){t&&t()})}},this.refresh=function(){e.setState(we({},e.getCanvasOffsets()))}};C.Vi.TEST!=="production"&&C.Vi.DEVELOPMENT!=="production"||(window.h=window.h||{},Object.defineProperties(window.h,{elements:{configurable:!0,get:function(){return this.app.scene.getElementsIncludingDeleted()},set:function(e){return this.app.scene.replaceAllElements(e)}}}));var Sg=Cp,jg=(x(4285),x(3313),["initialData","UIOptions"]),Cg=["initialData","UIOptions"];function dm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function ef(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dm(Object(n),!0).forEach(function(r){W()(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dm(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Og=function(e){var t,n,r,o=e.onChange,a=e.initialData,l=e.excalidrawRef,c=e.onCollabButtonClick,s=e.isCollaborating,f=s!==void 0&&s,d=e.onPointerUpdate,m=e.renderTopRightUI,b=e.renderFooter,v=e.langCode,y=v===void 0?ke.code:v,k=e.viewModeEnabled,_=e.zenModeEnabled,j=e.gridModeEnabled,M=e.libraryReturnUrl,P=e.theme,N=e.name,U=e.renderCustomStats,V=e.onPaste,q=e.detectScroll,G=q===void 0||q,ae=e.handleKeyboardGlobally,oe=ae!==void 0&&ae,ie=e.onLibraryChange,K=e.autoFocus,he=K!==void 0&&K,ue=e.generateIdForFile,ce=e.onLinkOpen,ve=(t=e.UIOptions)===null||t===void 0?void 0:t.canvasActions,pe={canvasActions:ef(ef({},C.cW.canvasActions),ve)};return ve!=null&&ve.export&&(pe.canvasActions.export.saveFileToDisk=(n=(r=ve.export)===null||r===void 0?void 0:r.saveFileToDisk)!==null&&n!==void 0?n:C.cW.canvasActions.export.saveFileToDisk),(0,Q.useEffect)(function(){var J=function(Ee){typeof Ee.scale=="number"&&Ee.scale!==1&&Ee.preventDefault()};return document.addEventListener("touchmove",J,{passive:!1}),function(){document.removeEventListener("touchmove",J)}},[]),(0,p.jsx)(nn,{langCode:y,children:(0,p.jsx)(Sg,{onChange:o,initialData:a,excalidrawRef:l,onCollabButtonClick:c,isCollaborating:f,onPointerUpdate:d,renderTopRightUI:m,renderFooter:b,langCode:y,viewModeEnabled:k,zenModeEnabled:_,gridModeEnabled:j,libraryReturnUrl:M,theme:P,name:N,renderCustomStats:U,UIOptions:pe,onPaste:V,detectScroll:G,handleKeyboardGlobally:oe,onLibraryChange:ie,autoFocus:he,generateIdForFile:ue,onLinkOpen:ce})})},Ig=function(e,t){e.initialData;var n=e.UIOptions,r=n===void 0?{}:n,o=g()(e,jg),a=(t.initialData,t.UIOptions),l=a===void 0?{}:a,c=g()(t,Cg),s=Object.keys(r),f=Object.keys(l);if(s.length!==f.length)return!1;var d=s.every(function(v){return v==="canvasActions"&&Object.keys(r.canvasActions).every(function(y){var k,_,j,M;return y==="export"&&r!=null&&(k=r.canvasActions)!==null&&k!==void 0&&k.export&&l!=null&&(_=l.canvasActions)!==null&&_!==void 0&&_.export?r.canvasActions.export.saveFileToDisk===l.canvasActions.export.saveFileToDisk:(r==null||(j=r.canvasActions)===null||j===void 0?void 0:j[y])===(l==null||(M=l.canvasActions)===null||M===void 0?void 0:M[y])}),!0}),m=Object.keys(e),b=Object.keys(t);return d&&m.length===b.length&&m.every(function(v){return o[v]===c[v]})},Tg=(0,Q.forwardRef)(function(e,t){return(0,p.jsx)(Og,ef(ef({},e),{},{excalidrawRef:t}))}),Mg=ee().memo(Tg,Ig),Pg=(x(8336),Mg)},9669:function(I){"use strict";I.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAMUlEQVQ4T2NkYGAQYcAP3uCTZhw1gGGYhAGBZIA/nYDCgBDAm9BGDWAAJyRCgLaBCAAgXwixzAS0pgAAAABJRU5ErkJggg=="},7984:function(I){"use strict";I.exports='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="292.4" height="292.4" viewBox="0 0 292 292"><path d="M287 197L159 69c-4-3-8-5-13-5s-9 2-13 5L5 197c-3 4-5 8-5 13s2 9 5 13c4 4 8 5 13 5h256c5 0 9-1 13-5s5-8 5-13-1-9-5-13z"/></svg>'},1639:function(I){"use strict";I.exports='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="292.4" height="292.4" viewBox="0 0 292 292"><path fill="%23ced4da" d="M287 197L159 69c-4-3-8-5-13-5s-9 2-13 5L5 197c-3 4-5 8-5 13s2 9 5 13c4 4 8 5 13 5h256c5 0 9-1 13-5s5-8 5-13-1-9-5-13z"/></svg>'},3147:function(I,A,x){"use strict";I.exports=x.p+"excalidraw-assets/Cascadia.woff2"},3940:function(I,A,x){"use strict";I.exports=x.p+"excalidraw-assets/Virgil.woff2"},9787:function(I){"use strict";I.exports=bi},5156:function(I){"use strict";I.exports=Qn},8950:function(I,A,x){"use strict";function L(D,W,Q,ee,C,He,le){try{var Fe=D[He](le),ht=Fe.value}catch(R){return void Q(R)}Fe.done?W(ht):Promise.resolve(ht).then(ee,C)}function g(D){return function(){var W=this,Q=arguments;return new Promise(function(ee,C){var He=D.apply(W,Q);function le(ht){L(He,ee,C,le,Fe,"next",ht)}function Fe(ht){L(He,ee,C,le,Fe,"throw",ht)}le(void 0)})}}x.d(A,{Z:function(){return g}})},1463:function(I){"use strict";I.exports=JSON.parse(`{"labels":{"paste":"Paste","pasteCharts":"Paste charts","selectAll":"Select all","multiSelect":"Add element to selection","moveCanvas":"Move canvas","cut":"Cut","copy":"Copy","copyAsPng":"Copy to clipboard as PNG","copyAsSvg":"Copy to clipboard as SVG","bringForward":"Bring forward","sendToBack":"Send to back","bringToFront":"Bring to front","sendBackward":"Send backward","delete":"Delete","copyStyles":"Copy styles","pasteStyles":"Paste styles","stroke":"Stroke","background":"Background","fill":"Fill","strokeWidth":"Stroke width","strokeStyle":"Stroke style","strokeStyle_solid":"Solid","strokeStyle_dashed":"Dashed","strokeStyle_dotted":"Dotted","sloppiness":"Sloppiness","opacity":"Opacity","textAlign":"Text align","edges":"Edges","sharp":"Sharp","round":"Round","arrowheads":"Arrowheads","arrowhead_none":"None","arrowhead_arrow":"Arrow","arrowhead_bar":"Bar","arrowhead_dot":"Dot","arrowhead_triangle":"Triangle","fontSize":"Font size","fontFamily":"Font family","onlySelected":"Only selected","withBackground":"Background","exportEmbedScene":"Embed scene","exportEmbedScene_details":"Scene data will be saved into the exported PNG/SVG file so that the scene can be restored from it.\\nWill increase exported file size.","addWatermark":"Add \\"Made with Excalidraw\\"","handDrawn":"Hand-drawn","normal":"Normal","code":"Code","small":"Small","medium":"Medium","large":"Large","veryLarge":"Very large","solid":"Solid","hachure":"Hachure","crossHatch":"Cross-hatch","thin":"Thin","bold":"Bold","left":"Left","center":"Center","right":"Right","extraBold":"Extra bold","architect":"Architect","artist":"Artist","cartoonist":"Cartoonist","fileTitle":"File name","colorPicker":"Color picker","canvasBackground":"Canvas background","drawingCanvas":"Drawing canvas","layers":"Layers","actions":"Actions","language":"Language","liveCollaboration":"Live collaboration","duplicateSelection":"Duplicate","untitled":"Untitled","name":"Name","yourName":"Your name","madeWithExcalidraw":"Made with Excalidraw","group":"Group selection","ungroup":"Ungroup selection","collaborators":"Collaborators","showGrid":"Show grid","addToLibrary":"Add to library","removeFromLibrary":"Remove from library","libraryLoadingMessage":"Loading library\u2026","libraries":"Browse libraries","loadingScene":"Loading scene\u2026","align":"Align","alignTop":"Align top","alignBottom":"Align bottom","alignLeft":"Align left","alignRight":"Align right","centerVertically":"Center vertically","centerHorizontally":"Center horizontally","distributeHorizontally":"Distribute horizontally","distributeVertically":"Distribute vertically","flipHorizontal":"Flip horizontal","flipVertical":"Flip vertical","viewMode":"View mode","toggleExportColorScheme":"Toggle export color scheme","share":"Share","showStroke":"Show stroke color picker","showBackground":"Show background color picker","toggleTheme":"Toggle theme","personalLib":"Personal Library","excalidrawLib":"Excalidraw Library","decreaseFontSize":"Decrease font size","increaseFontSize":"Increase font size","unbindText":"Unbind text","link":{"edit":"Edit link","create":"Create link","label":"Link"}},"buttons":{"clearReset":"Reset the canvas","exportJSON":"Export to file","exportImage":"Save as image","export":"Export","exportToPng":"Export to PNG","exportToSvg":"Export to SVG","copyToClipboard":"Copy to clipboard","copyPngToClipboard":"Copy PNG to clipboard","scale":"Scale","save":"Save to current file","saveAs":"Save as","load":"Load","getShareableLink":"Get shareable link","close":"Close","selectLanguage":"Select language","scrollBackToContent":"Scroll back to content","zoomIn":"Zoom in","zoomOut":"Zoom out","resetZoom":"Reset zoom","menu":"Menu","done":"Done","edit":"Edit","undo":"Undo","redo":"Redo","resetLibrary":"Reset library","createNewRoom":"Create new room","fullScreen":"Full screen","darkMode":"Dark mode","lightMode":"Light mode","zenMode":"Zen mode","exitZenMode":"Exit zen mode","cancel":"Cancel","clear":"Clear","remove":"Remove","publishLibrary":"Publish","submit":"Submit","confirm":"Confirm"},"alerts":{"clearReset":"This will clear the whole canvas. Are you sure?","couldNotCreateShareableLink":"Couldn't create shareable link.","couldNotCreateShareableLinkTooBig":"Couldn't create shareable link: the scene is too big","couldNotLoadInvalidFile":"Couldn't load invalid file","importBackendFailed":"Importing from backend failed.","cannotExportEmptyCanvas":"Cannot export empty canvas.","couldNotCopyToClipboard":"Couldn't copy to clipboard. Try using Chrome browser.","decryptFailed":"Couldn't decrypt data.","uploadedSecurly":"The upload has been secured with end-to-end encryption, which means that Excalidraw server and third parties can't read the content.","loadSceneOverridePrompt":"Loading external drawing will replace your existing content. Do you wish to continue?","collabStopOverridePrompt":"Stopping the session will overwrite your previous, locally stored drawing. Are you sure?\\n\\n(If you want to keep your local drawing, simply close the browser tab instead.)","errorLoadingLibrary":"There was an error loading the third party library.","errorAddingToLibrary":"Couldn't add item to the library","errorRemovingFromLibrary":"Couldn't remove item from the library","confirmAddLibrary":"This will add {{numShapes}} shape(s) to your library. Are you sure?","imageDoesNotContainScene":"This image does not seem to contain any scene data. Have you enabled scene embedding during export?","cannotRestoreFromImage":"Scene couldn't be restored from this image file","invalidSceneUrl":"Couldn't import scene from the supplied URL. It's either malformed, or doesn't contain valid Excalidraw JSON data.","resetLibrary":"This will clear your library. Are you sure?","removeItemsFromsLibrary":"Delete {{count}} item(s) from library?","invalidEncryptionKey":"Encryption key must be of 22 characters. Live collaboration is disabled."},"errors":{"unsupportedFileType":"Unsupported file type.","imageInsertError":"Couldn't insert image. Try again later...","fileTooBig":"File is too big. Maximum allowed size is {{maxSize}}.","svgImageInsertError":"Couldn't insert SVG image. The SVG markup looks invalid.","invalidSVGString":"Invalid SVG."},"toolBar":{"selection":"Selection","image":"Insert image","rectangle":"Rectangle","diamond":"Diamond","ellipse":"Ellipse","arrow":"Arrow","line":"Line","freedraw":"Draw","text":"Text","library":"Library","lock":"Keep selected tool active after drawing","penMode":"Prevent pinch-zoom and accept freedraw input only from pen","link":"Add/ Update link for a selected shape"},"headings":{"canvasActions":"Canvas actions","selectedShapeActions":"Selected shape actions","shapes":"Shapes"},"hints":{"canvasPanning":"To move canvas, hold mouse wheel or spacebar while dragging","linearElement":"Click to start multiple points, drag for single line","freeDraw":"Click and drag, release when you're finished","text":"Tip: you can also add text by double-clicking anywhere with the selection tool","text_selected":"Double-click or press ENTER to edit text","text_editing":"Press Escape or CtrlOrCmd+ENTER to finish editing","linearElementMulti":"Click on last point or press Escape or Enter to finish","lockAngle":"You can constrain angle by holding SHIFT","resize":"You can constrain proportions by holding SHIFT while resizing,\\nhold ALT to resize from the center","resizeImage":"You can resize freely by holding SHIFT,\\nhold ALT to resize from the center","rotate":"You can constrain angles by holding SHIFT while rotating","lineEditor_info":"Double-click or press Enter to edit points","lineEditor_pointSelected":"Press Delete to remove point(s),\\nCtrlOrCmd+D to duplicate, or drag to move","lineEditor_nothingSelected":"Select a point to edit (hold SHIFT to select multiple),\\nor hold Alt and click to add new points","placeImage":"Click to place the image, or click and drag to set its size manually","publishLibrary":"Publish your own library","bindTextToElement":"Press enter to add text","deepBoxSelect":"Hold CtrlOrCmd to deep select, and to prevent dragging"},"canvasError":{"cannotShowPreview":"Cannot show preview","canvasTooBig":"The canvas may be too big.","canvasTooBigTip":"Tip: try moving the farthest elements a bit closer together."},"errorSplash":{"headingMain_pre":"Encountered an error. Try ","headingMain_button":"reloading the page.","clearCanvasMessage":"If reloading doesn't work, try ","clearCanvasMessage_button":"clearing the canvas.","clearCanvasCaveat":" This will result in loss of work ","trackedToSentry_pre":"The error with identifier ","trackedToSentry_post":" was tracked on our system.","openIssueMessage_pre":"We were very cautious not to include your scene information on the error. If your scene is not private, please consider following up on our ","openIssueMessage_button":"bug tracker.","openIssueMessage_post":" Please include information below by copying and pasting into the GitHub issue.","sceneContent":"Scene content:"},"roomDialog":{"desc_intro":"You can invite people to your current scene to collaborate with you.","desc_privacy":"Don't worry, the session uses end-to-end encryption, so whatever you draw will stay private. Not even our server will be able to see what you come up with.","button_startSession":"Start session","button_stopSession":"Stop session","desc_inProgressIntro":"Live-collaboration session is now in progress.","desc_shareLink":"Share this link with anyone you want to collaborate with:","desc_exitSession":"Stopping the session will disconnect you from the room, but you'll be able to continue working with the scene, locally. Note that this won't affect other people, and they'll still be able to collaborate on their version.","shareTitle":"Join a live collaboration session on Excalidraw"},"errorDialog":{"title":"Error"},"exportDialog":{"disk_title":"Save to disk","disk_details":"Export the scene data to a file from which you can import later.","disk_button":"Save to file","link_title":"Shareable link","link_details":"Export as a read-only link.","link_button":"Export to Link","excalidrawplus_description":"Save the scene to your Excalidraw+ workspace.","excalidrawplus_button":"Export","excalidrawplus_exportError":"Couldn't export to Excalidraw+ at this moment..."},"helpDialog":{"blog":"Read our blog","click":"click","deepSelect":"Deep select","deepBoxSelect":"Deep select within box, and prevent dragging","curvedArrow":"Curved arrow","curvedLine":"Curved line","documentation":"Documentation","doubleClick":"double-click","drag":"drag","editor":"Editor","editSelectedShape":"Edit selected shape (text/arrow/line)","github":"Found an issue? Submit","howto":"Follow our guides","or":"or","preventBinding":"Prevent arrow binding","shapes":"Shapes","shortcuts":"Keyboard shortcuts","textFinish":"Finish editing (text editor)","textNewLine":"Add new line (text editor)","title":"Help","view":"View","zoomToFit":"Zoom to fit all elements","zoomToSelection":"Zoom to selection"},"clearCanvasDialog":{"title":"Clear canvas"},"publishDialog":{"title":"Publish library","itemName":"Item name","authorName":"Author name","githubUsername":"GitHub username","twitterUsername":"Twitter username","libraryName":"Library name","libraryDesc":"Library description","website":"Website","placeholder":{"authorName":"Your name or username","libraryName":"Name of your library","libraryDesc":"Description of your library to help people understand its usage","githubHandle":"GitHub handle (optional), so you can edit the library once submitted for review","twitterHandle":"Twitter username (optional), so we know who to credit when promoting over Twitter","website":"Link to your personal website or elsewhere (optional)"},"errors":{"required":"Required","website":"Enter a valid URL"},"noteDescription":{"pre":"Submit your library to be included in the ","link":"public library repository","post":"for other people to use in their drawings."},"noteGuidelines":{"pre":"The library needs to be manually approved first. Please read the ","link":"guidelines","post":" before submitting. You will need a GitHub account to communicate and make changes if requested, but it is not strictly required."},"noteLicense":{"pre":"By submitting, you agree the library will be published under the ","link":"MIT License, ","post":"which in short means anyone can use them without restrictions."},"noteItems":"Each library item must have its own name so it's filterable. The following library items will be included:","atleastOneLibItem":"Please select at least one library item to get started"},"publishSuccessDialog":{"title":"Library submitted","content":"Thank you {{authorName}}. Your library has been submitted for review. You can track the status","link":"here"},"confirmDialog":{"resetLibrary":"Reset library","removeItemsFromLib":"Remove selected items from library"},"encrypted":{"tooltip":"Your drawings are end-to-end encrypted so Excalidraw's servers will never see them.","link":"Blog post on end-to-end encryption in Excalidraw"},"stats":{"angle":"Angle","element":"Element","elements":"Elements","height":"Height","scene":"Scene","selected":"Selected","storage":"Storage","title":"Stats for nerds","total":"Total","version":"Version","versionCopy":"Click to copy","versionNotAvailable":"Version not available","width":"Width"},"toast":{"addedToLibrary":"Added to library","copyStyles":"Copied styles.","copyToClipboard":"Copied to clipboard.","copyToClipboardAsPng":"Copied {{exportSelection}} to clipboard as PNG\\n({{exportColorScheme}})","fileSaved":"File saved.","fileSavedToFilename":"Saved to {filename}","canvas":"canvas","selection":"selection"},"colors":{"495057":"Gray 7","ffffff":"White","f8f9fa":"Gray 0","f1f3f5":"Gray 1","fff5f5":"Red 0","fff0f6":"Pink 0","f8f0fc":"Grape 0","f3f0ff":"Violet 0","edf2ff":"Indigo 0","e7f5ff":"Blue 0","e3fafc":"Cyan 0","e6fcf5":"Teal 0","ebfbee":"Green 0","f4fce3":"Lime 0","fff9db":"Yellow 0","fff4e6":"Orange 0","transparent":"Transparent","ced4da":"Gray 4","868e96":"Gray 6","fa5252":"Red 6","e64980":"Pink 6","be4bdb":"Grape 6","7950f2":"Violet 6","4c6ef5":"Indigo 6","228be6":"Blue 6","15aabf":"Cyan 6","12b886":"Teal 6","40c057":"Green 6","82c91e":"Lime 6","fab005":"Yellow 6","fd7e14":"Orange 6","000000":"Black","343a40":"Gray 8","c92a2a":"Red 9","a61e4d":"Pink 9","862e9c":"Grape 9","5f3dc4":"Violet 9","364fc7":"Indigo 9","1864ab":"Blue 9","0b7285":"Cyan 9","087f5b":"Teal 9","2b8a3e":"Green 9","5c940d":"Lime 9","e67700":"Yellow 9","d9480f":"Orange 9"}}`)},4451:function(I){"use strict";I.exports=JSON.parse('{"ar-SA":88,"bg-BG":61,"bn-BD":0,"ca-ES":95,"cs-CZ":24,"da-DK":16,"de-DE":99,"el-GR":87,"en":100,"es-ES":84,"eu-ES":96,"fa-IR":63,"fi-FI":98,"fr-FR":100,"he-IL":80,"hi-IN":55,"hu-HU":49,"id-ID":100,"it-IT":96,"ja-JP":98,"kab-KAB":95,"kk-KZ":23,"ko-KR":72,"lt-LT":24,"lv-LV":100,"my-MM":46,"nb-NO":100,"nl-NL":90,"nn-NO":83,"oc-FR":97,"pa-IN":87,"pl-PL":93,"pt-BR":98,"pt-PT":83,"ro-RO":100,"ru-RU":99,"si-LK":9,"sk-SK":100,"sv-SE":100,"ta-IN":99,"tr-TR":85,"uk-UA":82,"zh-CN":100,"zh-HK":28,"zh-TW":100}')}},Ap={};function Et(I){var A=Ap[I];if(A!==void 0)return A.exports;var x=Ap[I]={id:I,loaded:!1,exports:{}};return Pp[I].call(x.exports,x,x.exports,Et),x.loaded=!0,x.exports}return Et.m=Pp,Et.n=function(I){var A=I&&I.__esModule?function(){return I.default}:function(){return I};return Et.d(A,{a:A}),A},yi=Object.getPrototypeOf?function(I){return Object.getPrototypeOf(I)}:function(I){return I.__proto__},Et.t=function(I,A){if(1&A&&(I=this(I)),8&A||typeof I=="object"&&I&&(4&A&&I.__esModule||16&A&&typeof I.then=="function"))return I;var x=Object.create(null);Et.r(x);var L={};Nr=Nr||[null,yi({}),yi([]),yi(yi)];for(var g=2&A&&I;typeof g=="object"&&!~Nr.indexOf(g);g=yi(g))Object.getOwnPropertyNames(g).forEach(function(D){L[D]=function(){return I[D]}});return L.default=function(){return I},Et.d(x,L),x},Et.d=function(I,A){for(var x in A)Et.o(A,x)&&!Et.o(I,x)&&Object.defineProperty(I,x,{enumerable:!0,get:A[x]})},Et.f={},Et.e=function(I){return Promise.all(Object.keys(Et.f).reduce(function(A,x){return Et.f[x](I,A),A},[]))},Et.u=function(I){return"excalidraw-assets/"+{9:"i18n-zh-HK-json",43:"i18n-de-DE-json",58:"i18n-lt-LT-json",60:"i18n-ko-KR-json",62:"i18n-zh-TW-json",90:"i18n-si-LK-json",137:"i18n-ja-JP-json",149:"i18n-pt-PT-json",164:"i18n-kab-KAB-json",196:"i18n-nl-NL-json",213:"i18n-tr-TR-json",242:"i18n-my-MM-json",246:"i18n-nb-NO-json",262:"i18n-he-IL-json",280:"i18n-pa-IN-json",304:"i18n-zh-CN-json",317:"i18n-es-ES-json",351:"i18n-ca-ES-json",364:"i18n-fr-FR-json",381:"i18n-pt-BR-json",384:"i18n-bg-BG-json",387:"i18n-cs-CZ-json",395:"i18n-ta-IN-json",401:"i18n-sk-SK-json",431:"i18n-eu-ES-json",465:"i18n-it-IT-json",472:"i18n-fi-FI-json",491:"i18n-id-ID-json",499:"image",526:"i18n-el-GR-json",558:"i18n-ar-SA-json",565:"i18n-oc-FR-json",583:"i18n-uk-UA-json",603:"i18n-bn-BD-json",617:"i18n-da-DK-json",649:"i18n-kk-KZ-json",661:"i18n-hu-HU-json",698:"i18n-sv-SE-json",710:"i18n-fa-IR-json",736:"vendor",752:"i18n-ro-RO-json",852:"i18n-pl-PL-json",869:"i18n-ru-RU-json",899:"i18n-lv-LV-json",920:"i18n-nn-NO-json",933:"i18n-hi-IN-json"}[I]+"-"+{9:"30c36c8fd961f5d170f3",43:"ef380f64f6865954b0a8",58:"999644c6901ba293b94f",60:"8cb8265529a1b44b5b83",62:"b98625b888d1a38a1e35",90:"0168ba04309e69acf8f8",137:"d393424a3bf3d819c55c",149:"51f59b1e2263211ec93f",164:"b6e3fb72b894c32d880b",196:"ac240a29fc28abe04b68",213:"a5403d611da049fb9ac9",242:"f113e0d4e325f2ab5f9a",246:"a68ef171ead03e41a3fc",262:"46098f880b56c784c524",280:"fd72f5acaf54acdf92f4",304:"bf2622c18de40b872772",317:"2a7c2aedd8e0e11c0ffd",351:"49c237f0386f487f2b89",364:"c4a47fdc6828648bcc0b",381:"c33f3d7e5ced5fa875da",384:"e4675485be70db3d505b",387:"18e06cddb62be71241bc",395:"028cb3ff5436242bfe93",401:"689a542868cd8bf55c8f",431:"2b70c65af4801826fd81",465:"353b67282442ff113ca5",472:"d1b98e036e0c311a5f94",491:"a56030455c18e20fc460",499:"b76d879db8316c30fd0d",526:"ced6e4a724987ebc00c3",558:"d46c8f24fe4ef43f1ba6",565:"032cf6f52e5c1fde7146",583:"574637d179e2f430e9cd",603:"a74dc358f3c11e1f2eda",617:"ae94ab97dbff85f9a6a5",649:"0c61810ca218a4a849ab",661:"be46128b9fe090bd2727",698:"b487a1452d9e8cc95e99",710:"ca6c7d3370106a46c722",736:"41e5c0be76c29ad2aba4",752:"db4d695c50423ea348a2",852:"c4f01f39d882bac94426",869:"9c2f8157732f9cfd998c",899:"3d721192be0e9e91d53a",920:"6b400c9d969d9b00957f",933:"0abea31b70b913ab7137"}[I]+".js"},Et.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch(I){if(typeof window=="object")return window}}(),Et.o=function(I,A){return Object.prototype.hasOwnProperty.call(I,A)},ol={},lf="Excalidraw:",Et.l=function(I,A,x,L){if(ol[I])ol[I].push(A);else{var g,D;if(x!==void 0)for(var W=document.getElementsByTagName("script"),Q=0;Q<W.length;Q++){var ee=W[Q];if(ee.getAttribute("src")==I||ee.getAttribute("data-webpack")==lf+x){g=ee;break}}g||(D=!0,(g=document.createElement("script")).charset="utf-8",g.timeout=120,Et.nc&&g.setAttribute("nonce",Et.nc),g.setAttribute("data-webpack",lf+x),g.src=I),ol[I]=[A];var C=function(le,Fe){g.onerror=g.onload=null,clearTimeout(He);var ht=ol[I];if(delete ol[I],g.parentNode&&g.parentNode.removeChild(g),ht&&ht.forEach(function(R){return R(Fe)}),le)return le(Fe)},He=setTimeout(C.bind(null,void 0,{type:"timeout",target:g}),12e4);g.onerror=C.bind(null,g.onerror),g.onload=C.bind(null,g.onload),D&&document.head.appendChild(g)}},Et.r=function(I){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(I,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(I,"__esModule",{value:!0})},Et.nmd=function(I){return I.paths=[],I.children||(I.children=[]),I},Et.p="",function(){Et.b=document.baseURI||self.location.href;var I={388:0};Et.f.j=function(L,g){var D=Et.o(I,L)?I[L]:void 0;if(D!==0)if(D)g.push(D[2]);else{var W=new Promise(function(C,He){D=I[L]=[C,He]});g.push(D[2]=W);var Q=Et.p+Et.u(L),ee=new Error;Et.l(Q,function(C){if(Et.o(I,L)&&((D=I[L])!==0&&(I[L]=void 0),D)){var He=C&&(C.type==="load"?"missing":C.type),le=C&&C.target&&C.target.src;ee.message="Loading chunk "+L+` failed.
(`+He+": "+le+")",ee.name="ChunkLoadError",ee.type=He,ee.request=le,D[1](ee)}},"chunk-"+L,L)}};var A=function(L,g){var D,W,Q=g[0],ee=g[1],C=g[2],He=0;if(Q.some(function(le){return I[le]!==0})){for(D in ee)Et.o(ee,D)&&(Et.m[D]=ee[D]);C&&C(Et)}for(L&&L(g);He<Q.length;He++)W=Q[He],Et.o(I,W)&&I[W]&&I[W][0](),I[Q[He]]=0},x=self.webpackChunkExcalidraw=self.webpackChunkExcalidraw||[];x.forEach(A.bind(null,0)),x.push=A.bind(null,x.push.bind(x))}(),Et(7314)}()})});var jm=ym((Kg,Sm)=>{sa();Sm.exports=Em()});sa();var ca=Ug(jm());sa();var Er=".excalidraw";function Cm(){let[bi]=of(),[Qn]=of(void 0,{theme:{color:"light"}}),[Nr]=of(void 0,{theme:{color:"dark"}});_m(yi=>{yi.write({type:"style",id:"excalidraw",content:`
            ${Er}, .excalidraw-tooltip {
                font-family: ${km};
                --shadow-island: none;
                --border-radius-md: ${Tp.RADIUS_M}px;
                --border-radius-lg: ${Tp.RADIUS_L}px;

            }
            ${Er} {
                --color-primary: ${Qn.colors.primary.main};
                --color-primary-darker: ${Qn.colors.primary.hovered};
                --color-primary-darkest: ${Qn.colors.primary.standout};
                --icon-fill-color: ${Qn.colors.text.main};
                --input-border-color: ${Qn.colors.border.main};
                --button-gray-1: ${Qn.colors.background.muted};
                --button-gray-2: ${Qn.colors.background.mid};
            }
            ${Er}.theme--dark {
                --color-primary: ${Nr.colors.primary.main};
                --color-primary-darker: ${Nr.colors.primary.hovered};
                --color-primary-darkest: ${Nr.colors.primary.standout};
                --icon-fill-color: ${Nr.colors.text.main};
                --input-border-color: ${Nr.colors.border.main};
                --button-gray-1: ${Nr.colors.background.muted};
                --button-gray-2: ${Nr.colors.background.mid};
            }
            ${Er} .App-menu_top .Stack.Stack_vertical section:first-child,
            ${Er} .disable-zen-mode,
            ${Er} .layer-ui__wrapper__footer-right,
            ${Er} .layer-ui__wrapper__github-corner,
            ${Er} button.ToolIcon_type_button.ToolIcon.ToolIcon_size_m.Shape.ToolIcon_type_button--show,
            ${Er} .ToolIcon__lock,
            ${Er} .ToolIcon__library {
                display: none;
            }

            ${Er} .App-toolbar {
                box-shadow: none;
            }

            ${Er} .Island {
                border: 1px solid ${Qn.colors.border.mid};
            }
            ${Er}.theme--dark .Island {
                border: 1px solid ${Nr.colors.border.mid};
            }

            ${Er} .color-picker-input {
                height: 30px;
            }

            .excalidraw-tooltip {
                background-color: ${bi.colors.background.inverted};
                color: ${bi.colors.text.inverted};
            }
            `})})}var Yg={Excalidraw:ca.default,serializeAsJSON:ca.serializeAsJSON,loadFromBlob:ca.loadFromBlob,exportToSvg:ca.exportToSvg,useExcalidrawStyle:Cm};export{Yg as default};
/*! For license information please see excalidraw.production.min.js.LICENSE.txt */
//# sourceMappingURL=https://app.gitbook.com/public/app/chunks/excalidraw.lazy-OKXGJCKV.min.js.map
