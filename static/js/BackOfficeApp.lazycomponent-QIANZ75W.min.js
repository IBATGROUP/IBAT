import{a as xo,b as Bo,c as Ho}from"static/js/chunk-JN7GV3S2.min.js";import{a as xe,b as z,c as $e,d as kt,e as wt,f as Io,g as vo,i as zo,j as We,k as Ao,l as Vo}from"static/js/chunk-OBSZUAJO.min.js";import"static/js/chunk-3E7WIFOE.min.js";import{a as xt,b as Be,c as Bt,d as qt}from"static/js/chunk-CL45NH7D.min.js";import{a as wo}from"static/js/chunk-YLYOFEAY.min.js";import{$a as St,Aa as Ht,Ce as Do,D as Ue,Db as Re,De as Fo,Ed as v,Ee as Go,F as dt,Fe as Ye,G as ft,Gb as $,Ia as ao,Ib as fo,Ie as qo,Jb as qe,La as so,Ld as Eo,M as _e,Md as Lo,N as gt,Na as co,Nb as bo,O as He,Ob as Rt,Pb as Ce,Q as no,Qc as Co,R as io,Rb as Te,Sb as ke,Tb as Ft,Tc as To,Uc as ko,Ud as Mo,X as yt,Xb as fe,Y as de,Zb as se,_ as bt,ab as lo,cb as Dt,cd as Po,d as ut,db as Ge,dd as Oo,eb as H,ec as ce,f as to,fc as we,fe as Pe,hb as ht,ic as I,ie as No,jc as Tt,kb as uo,kc as Ve,ke as Ke,le as Uo,me as _o,pe as Pt,qc as So,ue as Ot,va as ro,w as pt,wb as po,xc as ho,xd as W,y as oo,yc as Gt,yd as ge,zc as Ro}from"static/js/chunk-NSGK4PAE.min.js";import{b as go,f as yo}from"static/js/chunk-4A5U2GP4.min.js";import"static/js/chunk-YHARRY32.min.js";import"static/js/chunk-ERHUJP3G.min.js";import"static/js/chunk-YINCPRHN.min.js";import"static/js/chunk-32SZ2X3A.min.js";import{a as J}from"static/js/chunk-2BY25Q75.min.js";import{D as ei,O as Ae,R as B,S as Ct,b as Fe,u as re,v as Q}from"static/js/chunk-HRGWFZSS.min.js";import{s as d,x as b,y as q}from"static/js/chunk-FYAAXITJ.min.js";import{d as ee,e as mo,g as y}from"static/js/chunk-GDZRQYSV.min.js";import{A as mt,G as m,T as P,V as O,W as s,X as i,da as De,n as ct,q as R,w as a,y as lt}from"static/js/chunk-4SZKWRVS.min.js";import"static/js/chunk-ICYT6H5B.min.js";import{a as ie}from"static/js/chunk-6Z77QNA7.min.js";import{a as T,b as Ne,e as eo,i as h,l as u}from"static/js/chunk-57DNK6NM.min.js";u();var rt=h(R());u();var Xe=h(R());P();u();var je=h(R());P();function $o(o){let{screen:e}=o,[,t]=d(ti),{getNavigationLinkProps:n}=W(),r=n({screen:{type:"back_office",tab:{type:"home"}}});return je.createElement(a,{style:[s.Padding.mediumVertical,t.appNavSection]},je.createElement(I,{direction:"vertical"},je.createElement(I.Tab,T({icon:y.Home,active:e.tab.type==="home"},r),"Home"),je.createElement(I.Tab,{icon:y.Users,active:!1,onPress:()=>{}},"Users"),je.createElement(I.Tab,{icon:y.Globe,active:!1,onPress:()=>{}},"Organizations")))}var ti=q.create({appNavSection:o=>({borderBottomColor:o.colors.border.muted,borderBottomWidth:1})});u();var S=h(R());P();u();var Oe=h(R());P();function Qe(o){let{icon:e,title:t,children:n}=o,[,r]=d(b);return Oe.createElement(a,null,Oe.createElement(a,{style:[s.Margin.smallBottom,s.Margin.smallHorizontal,i.flex1,i.directionRow,i.alignCenter]},Oe.createElement(a,null,e),Oe.createElement(a,{style:[s.Margin.smallLeft]},Oe.createElement(m,{style:[r.Label,r.text]},t))),Oe.createElement(a,null,Oe.createElement(I,{direction:"vertical"},n)))}function Wo(o){let{screen:e}=o,[,t]=d(pi);return S.createElement(a,{style:[s.Padding.mediumVertical,t.screenNavSection]},S.createElement(I,{direction:"vertical"},e.tab.type==="user"?S.createElement(S.Suspense,{fallback:null},S.createElement(oi,{screen:e})):null,e.tab.type==="org"?S.createElement(S.Suspense,{fallback:null},S.createElement(ii,{screen:e})):null,e.tab.type==="collection"?S.createElement(S.Suspense,{fallback:null},S.createElement(ai,{screen:e})):null,e.tab.type==="space"?S.createElement(S.Suspense,{fallback:null},S.createElement(ci,{screen:e})):null,e.tab.type==="custom_domain"?S.createElement(S.Suspense,{fallback:null},S.createElement(mi,{screen:e})):null))}function oi(o){let{screen:e}=o,t=e.tab,n=pt(t.user),[r]=v([n]);return r?S.createElement(ni,{user:r,screen:e}):null}function ni(o){let{user:e,screen:t}=o,n=t.hash?t.hash:"profile",r=ee(Pe,{user:e,squared:!0},[e]),{getNavigationLinkProps:c}=W(),l=p=>c({screen:{type:"back_office",tab:{type:"user",user:e.uid},hash:p}});return S.createElement(Qe,{icon:S.createElement(r,{size:O.ICON_M}),title:e.displayName},S.createElement(I.Tab,T({active:n==="profile"},l("profile")),"Profile"),S.createElement(I.Tab,T({active:n==="account"},l("account")),"Account"),S.createElement(I.Tab,T({active:n==="organizations"},l("organizations")),"Organizations"),S.createElement(I.Tab,T({active:n==="content"},l("content")),"Content"))}function ii(o){let{screen:e}=o,t=e.tab,n=de(t.organization),[r]=v([n]);return r?S.createElement(ri,{org:r,screen:e}):null}function ri(o){let{org:e,screen:t}=o,n=t.hash?t.hash:"profile",r=ee(Ke,{org:e},[e]),{getNavigationLinkProps:c}=W(),l=p=>c({screen:{type:"back_office",tab:{type:"org",organization:e.key},hash:p}});return S.createElement(Qe,{icon:S.createElement(r,{size:O.ICON_M}),title:e.title},S.createElement(I.Tab,T({active:n==="profile"},l("profile")),"Profile"),S.createElement(I.Tab,T({active:n==="custom_domain"},l("custom_domain")),"Custom Domain"),S.createElement(I.Tab,T({active:n==="billing"},l("billing")),"Billing"),S.createElement(I.Tab,T({active:n==="memberships"},l("memberships")),"Memberships"),S.createElement(I.Tab,T({active:n==="content"},l("content")),"Content"))}function ai(o){let{screen:e}=o,t=e.tab,n=dt(t.collection),[r]=v([n]);return r?S.createElement(si,{collection:r,screen:e}):null}function si(o){let{collection:e,screen:t}=o,n=t.hash?t.hash:"profile",r=Ue(e),{getNavigationLinkProps:c}=W(),l=p=>c({screen:{type:"back_office",tab:{type:"collection",collection:e.key,owner:r.organization?{type:"org",organization:r.organization}:r.user?{type:"user",user:r.user}:void 0},hash:p}});return S.createElement(Qe,{icon:S.createElement(Pt,{collection:e,size:O.ICON_M}),title:e.title},S.createElement(I.Tab,T({active:n==="profile"},l("profile")),"Profile"),S.createElement(I.Tab,T({active:n==="custom_domain"},l("custom_domain")),"Custom Domain"),S.createElement(I.Tab,T({active:n==="content"},l("content")),"Content"))}function ci(o){let{screen:e}=o,t=e.tab,n=He(t.space),[r]=v([n]);return r?S.createElement(li,{space:r,screen:e}):null}function li(o){let{space:e,screen:t}=o,n=t.hash?t.hash:"profile",r=e.title?e.title:_e,c=ee(Ot,{space:e},[e]),{getNavigationLinkProps:l}=W(),p=f=>l({screen:{type:"back_office",tab:{type:"space",space:e.key,owner:e.organization?{type:"org",organization:e.organization}:e.user?{type:"user",user:e.user}:void 0},hash:f}});return S.createElement(Qe,{icon:S.createElement(c,{size:O.ICON_M}),title:r},S.createElement(I.Tab,T({active:n==="profile"},p("profile")),"Profile"),S.createElement(I.Tab,T({active:n==="custom_domain"},p("custom_domain")),"Custom Domain"),S.createElement(I.Tab,T({active:n==="git_sync"},p("git_sync")),"Git Sync"),S.createElement(I.Tab,T({active:n==="activity"},p("activity")),"Activity"))}function mi(o){let{screen:e}=o,t=e.tab,n=yt(t.hostname),[r]=v([n]);return r?S.createElement(ui,{customHostname:r,screen:e}):null}function ui(o){let{customHostname:e,screen:t}=o,n=t.hash?t.hash:"profile",r=ee(y.Globe,{size:O.ICON_M}),{getNavigationLinkProps:c}=W(),l=p=>c({screen:{type:"back_office",tab:{type:"custom_domain",hostname:e.hostname},hash:p}});return S.createElement(Qe,{icon:S.createElement(r,{size:O.ICON_M}),title:e.hostname},S.createElement(I.Tab,T({active:n==="profile"},l("profile")),"Profile"),S.createElement(I.Tab,T({active:n==="connection"},l("connection")),"Connection"),S.createElement(I.Tab,T({active:n==="cloudflare"},l("cloudflare")),"Cloudflare"),S.createElement(I.Tab,T({active:n==="dns_lookup"},l("dns_lookup")),"DNS Lookup Tools"),S.createElement(I.Tab,T({active:n==="danger"},l("danger")),"Danger Zone"))}var pi=q.create({screenNavSection:o=>({borderBottomColor:o.colors.border.muted,borderBottomWidth:1})});u();var Se=h(R());P();var di=Dt.createResponsiveComponent(fo);function Ko(o){let{title:e}=o,{compact:t}=Se.useContext(To),[,n]=d(b),[,r]=d(fi),c=po();return Se.createElement(Dt.View,{style:[r.sidebarHeader,i.directionRow,i.alignCenter,i.justifyContentCenter,!t&&s.Padding.mediumHorizontal],mobileStyle:"hidden",desktopStyle:"visible"},Se.createElement(a,{style:[i.flex1,t&&i.alignCenter,s.Padding.largeVertical]},Se.createElement(a,{style:[i.flex1,i.directionRow,i.alignCenter,s.Padding.mediumBottom]},Se.createElement(m,{style:[n.Heading3,n.text]},e)),Se.createElement(B,{icon:y.Search,size:"medium",alignIcons:"end",kind:"sidebar_secondary",rightIcon:t?void 0:()=>Se.createElement(di,{tabletStyle:"hidden",desktopStyle:"visible",shortcut:Co.PALETTE_OPEN}),onPress:()=>c.open()},t?null:"Find")))}var fi=q.create({sidebarHeader:o=>({borderBottomColor:o.colors.border.muted,borderBottomWidth:1})});function Yo(o){let{screen:e}=o,[t]=d(b),[,n]=d(gi);return wo("Back-Office"),Xe.createElement(Fe,{style:[i.directionColumn,i.flex1,n.wrapper,s.Padding.small],backgroundColor:t.colors.background.main},Xe.createElement(Ko,{title:"Back-Office"}),Xe.createElement(lt,{style:[i.flex1],contentContainerStyle:[i.alignStretch]},Xe.createElement($o,{screen:e}),["user","org","collection","space","custom_domain"].includes(e.tab.type)?Xe.createElement(Wo,{screen:e}):null))}var gi=q.create({wrapper:o=>({borderRightColor:o.colors.border.main,borderRightWidth:1})});u();var ne=h(R());P();u();var Vt=h(R());u();var Le=h(R());u();var Je=h(R());P();function Ze(o){let{children:e}=o;return Je.createElement(a,{style:[i.directionColumn,s.Margin.smallVertical]},e)}var et=Je.memo(function(e){let{title:t}=e,[,n]=d(b),[,r]=d(yi);return Je.createElement(a,{style:[i.directionRow,i.alignCenter,s.Margin.mediumBottom,r.sectionHeader]},Je.createElement(m,{style:[n.Label,n.text,i.flexShrink1,s.Margin.smallBottom]},t))}),yi=q.create({sectionHeader:o=>({borderBottomColor:o.colors.border.muted,borderBottomWidth:1})});u();var C=h(R());P();u();var ye=h(R());P();u();var tt=h(R());P();function bi(o){let c=o,{icon:e}=c,t=eo(c,["icon"]),n=O.S,[,r]=d(b);return tt.createElement(a,{style:[i.directionRow,i.alignCenter,i.justifyContentCenter,{borderRadius:O.RADIUS_M,width:n,height:n}]},tt.createElement(e,Ne(T({},t),{size:O.ICON_L,style:[r.textMuted]})))}function jo(o){return t=>tt.createElement(bi,T({icon:o},t))}var Qo=jo(y.Space),Xo=jo(y.Trashcan);function Jo(o){let[,e]=d(b);return tt.createElement(y.ChevronUp,Ne(T({},o),{size:O.ICON_M,style:e.primary}))}function Zo(o){let[,e]=d(b);return tt.createElement(y.ChevronDown,Ne(T({},o),{size:O.ICON_M,style:e.primary}))}function en(o){let{user:e,query:t=""}=o,n=ee(Pe,{user:e,squared:!0},[e]);return ye.createElement($,{layout:"wide",style:[s.Padding.smallHorizontal],icon:n,title:ye.createElement(qe,{text:"Personal",query:t})})}function tn(o){let{organization:e,query:t="",expanded:n=!1,onPress:r}=o,c=ee(Ke,{org:e},[e]);return ye.createElement($,{key:e.key,layout:"wide",style:[s.Padding.smallHorizontal],icon:c,endIcon:n?Jo:Zo,onPress:r,title:ye.createElement(qe,{text:e.title,query:t,selectable:!0})})}function on(o){let{collection:e,query:t="",indent:n,onPress:r}=o,c=Ue(e),[,l]=d(b),{getNavigationLinkProps:p}=W(),f=p({screen:{type:"back_office",tab:{type:"collection",collection:e.key,owner:c.organization?{type:"org",organization:c.organization}:c.user?{type:"user",user:c.user}:void 0}}});return ye.createElement($,{key:e.key,layout:"wide",hint:ye.createElement(m,{style:[l.Selectable],selectable:!0},e.key),style:[s.Padding.smallHorizontal,{marginLeft:n*s.medium}],icon:y.Collection,onPress:r,title:ye.createElement(qe,{text:e.title,query:t,selectable:!0}),buttons:[ye.createElement(se,{title:"Copy Collection ID",content:e.key,size:"medium"}),ye.createElement(B,T({icon:y.ArrowUpRight,title:"Go to Collection Info"},f))]})}u();function nn(o,e){let t=Si(o),[n,r,c]=v(t),p=(c?c.reduce((x,L)=>(L.organization&&x.push(L.organization),x),[]):[]).map(x=>de(x)),f=v(p),k=[],w=[];return n.forEach(x=>{io(x)?k.push(x):w.push(x)}),hi(o,{spaces:w,collections:r,organizations:f,softDeletedSpaces:k},e)}function Si(o){switch(o.type){case"user":return[gt({user:o.user.uid}),ft({user:o.user.uid}),bt(o.user.uid)];case"collection":return[gt({collection:o.collection.key}),ft({collection:o.collection.key})];case"organization":return[gt({organization:o.organization.key}),ft({organization:o.organization.key})];default:ie(o)}}function hi(o,e,t){switch(o.type){case"user":return{spaces:e.spaces.filter(n=>$t(n,t)),collections:e.collections?e.collections.filter(n=>!n.collection||n.collection===null):void 0,organizations:e.organizations,softDeletedSpaces:e.softDeletedSpaces};case"collection":return{spaces:e.spaces.filter(n=>$t(n,t,!0)),collections:e.collections};case"organization":return{spaces:e.spaces.filter(n=>$t(n,t)),collections:e.collections?e.collections.filter(n=>!n.collection||n.collection===null):void 0,softDeletedSpaces:e.softDeletedSpaces};default:ie(o)}}function $t(o,e,t=!1){let n=t||!o.collection||o.collection===null;return e&&(n=n&&Ri(e,o,["key","title"])),n}function Ri(o,e,t){let n=o.toLocaleLowerCase();return t.some(c=>{if(c in e){let l=e[c];return typeof l!="string"?!1:l.toLocaleLowerCase().includes(n)}})}function ot(o){let{owner:e,renderSpaceSummary:t}=o,[n,r]=C.useState("");return C.createElement(a,{style:[i.directionColumn]},C.createElement(a,{style:[i.directionRow,i.alignCenter,s.Margin.mediumBottom]},C.createElement(a,{style:[i.flex1,s.Margin.mediumRight]},C.createElement(ht,{size:"medium",kind:"search",cleareable:!0,value:n,onChangeText:r,placeholder:"Search current spaces",icon:y.Search}))),C.createElement(C.Suspense,{fallback:C.createElement(Q,{size:"small"})},C.createElement(Wt,{owner:e,query:n,renderSpaceSummary:t})))}function Wt(o){let{owner:e,renderSpaceSummary:t,query:n,indent:r=0}=o,{spaces:c,collections:l,organizations:p,softDeletedSpaces:f}=nn(e,n),[,k]=d(an),w=L=>C.createElement(a,{style:[{marginLeft:L*s.medium}]},c.length>0?c.map(j=>t(j,e,n)):n?null:C.createElement(ki,{owner:e})),x=L=>l?l.map(j=>{let G={type:"collection",collection:j};return C.createElement(Ti,{key:j.key,collection:j,owner:G,renderSpaceSummary:t,query:n,indent:L})}):null;return C.createElement(a,{style:[i.flex1,i.directionColumn]},e.type==="user"?C.createElement(a,{style:[s.Padding.smallVertical,k.section]},C.createElement(en,{user:e.user,query:n}),w(r+1),x(r+1),f?C.createElement(rn,{deletedSpaces:f,owner:e,renderSpaceSummary:t,query:n,indent:r}):null):C.createElement(C.Fragment,null,w(r),x(r),f?C.createElement(rn,{deletedSpaces:f,owner:e,renderSpaceSummary:t,query:n,indent:r}):null),C.createElement(a,null,p?p.map(L=>{let j={type:"organization",organization:L};return C.createElement(Ci,{key:L.key,organization:L,owner:j,renderSpaceSummary:t,query:n,indent:r})}):null))}function Ci(o){let{organization:e,owner:t,renderSpaceSummary:n,query:r,indent:c}=o,[l,p]=C.useState(!0),[,f]=d(an),k=()=>{p(!l)};return C.createElement(a,{style:[s.Padding.smallVertical,f.section]},C.createElement(tn,{organization:e,query:r,onPress:k,expanded:l}),l?C.createElement(C.Suspense,{fallback:C.createElement(Q,{size:"small"})},C.createElement(Wt,{owner:t,renderSpaceSummary:n,query:r,indent:c+1})):null)}function Ti(o){let{collection:e,owner:t,renderSpaceSummary:n,query:r,indent:c}=o,[l,p]=C.useState(!0);return C.createElement(a,null,C.createElement(on,{collection:e,query:r,indent:c,onPress:()=>{p(!l)}}),l?C.createElement(C.Suspense,{fallback:C.createElement(Q,{size:"small"})},C.createElement(a,null,C.createElement(Wt,{owner:t,renderSpaceSummary:n,query:r,indent:c+1}))):null)}function rn(o){let{deletedSpaces:e,owner:t,renderSpaceSummary:n,indent:r,query:c}=o,[l,p]=C.useState(!0),[,f]=d(b),k=()=>{p(!l)};return e.length>0?C.createElement(a,{style:[s.Padding.smallHorizontal,{marginLeft:r*s.medium}]},C.createElement($,{layout:"wide",icon:Xo,title:C.createElement(a,{style:[i.directionRow]},C.createElement(m,{style:[f.Label]},"Trash"),C.createElement(Ge,{size:"small",kind:"secondary",style:[s.Margin.smallLeft]},e.length)),onPress:k}),l?e.map(w=>C.createElement(a,{key:w.key,style:[{marginLeft:s.medium}]},n(w,t,c))):null):null}function ki(o){let{owner:e}=o,[,t]=d(b),n,r;switch(e.type){case"user":n=`No personal content for this ${e.type}`,r=`${e.user.uid}-no-content`;break;case"organization":n=`No content for this ${e.type}`,r=`${e.organization.key}-no-content`;break;case"collection":n=`No content for this ${e.type}`,r=`${e.collection.key}-no-content`;break;default:ie(e)}return C.createElement($,{key:r,layout:"wide",icon:Qo,title:C.createElement(m,{style:[t.Label,t.textMuted]},n)})}var an=q.create({section:o=>({borderColor:o.colors.border.muted,borderBottomWidth:1})});u();var zt=h(R());u();var he=h(R());u();var A=h(R());P();u();var Kt=h(R());u();var Ie=h(R());P();function sn(o){let{org:e,billing:t}=o,[,n]=d(b),r=mo(bo,{code:"2764"}),c=()=>{Tt(`https://dashboard.stripe.com/customers/${t.customerId}`,{sameWebTab:!1})};return Ie.createElement(a,null,Ie.createElement($,{layout:"wide",icon:r,title:Ie.createElement(a,{style:[i.directionRow,i.alignCenter,i.justifySpaceBetween,s.Margin.smallBottom]},Ie.createElement(m,{style:[n.text,n.Bold]},"Community Plan"),e.communityType?Ie.createElement(H,{kind:"primary",size:"small",style:[s.Margin.smallLeft]},Be[e.communityType]):null),hint:Ie.createElement(m,{style:[n.text,n.textMuted]},e.title," is enjoying GitBook for free"),buttons:[Ie.createElement(B,{icon:y.ExternalLink,title:"View Customer in Stripe Dashboard",onPress:c})]}))}u();var E=h(R());P();u();var le=h(R());P();u();var ve=h(R());P();var wi=Object.keys(Be).map(o=>({label:Be[o],value:o}));function cn(o){let{org:e,onSwitch:t,onClose:n}=o,[r,c]=ve.useState("openSource"),l=()=>t(r);return ve.createElement(Te,{title:`Switch ${e.title} to Community`,onClose:n,footer:ve.createElement(a,{style:[i.directionRow,i.justifyContentEnd]},ve.createElement(B,{kind:"secondary",onPress:n,style:s.Margin.smallRight},"Cancel"),ve.createElement(B,{kind:"primary",onPress:l},"Switch"))},ve.createElement(Rt,{label:"Type",labelDescription:"The Community plan type",value:r,items:wi,onValueChange:p=>c(p)}))}var xi=J("backoffice:switch-community");function ln(o){let{org:e}=o,t=de(e.key),[n,r]=le.useState(null),[c,l]=le.useState(!1),[p,f]=le.useState(!1),[k,w]=St(),x=fe(),L=async()=>{await w(async()=>{if(f(!1),n)try{await t.update({type:"community",communityType:n}),x.notify({title:`${e.title} was switched to a Community plan`,details:`Organization now has the ${Be[n]} status.`,icon:y.Organization,kind:"success"})}catch(at){xi.error(`Error while switching ${e.title} to Community: ${at.message}`),x.notify({title:`Error occurred while switching ${e.title} to a Community plan`,icon:y.Organization,kind:"danger"})}})},j=()=>{l(!0)},G=at=>{l(!1),f(!0),r(at)},pe=()=>{l(!1),r(null)},Zt=async at=>{if(!at){f(!1),r(null);return}await L()},Zn=k||c||p||e.type==="community";return le.createElement(a,null,le.createElement(Ce,{label:"Switch to Community",labelDescription:`Switch ${e.title} to a Community plan`,style:[s.Margin.mediumBottom]},le.createElement(B,{icon:k?re:void 0,kind:"secondary",size:"medium",disabled:Zn,onPress:j},"Switch")),le.createElement(Ft,null,c?le.createElement(cn,{org:e,onSwitch:G,onClose:pe}):null),le.createElement(Ft,null,p&&n?le.createElement(ke,{title:"Confirm Switch To Community",kind:"upgrade",confirmButtonText:"Let's Go",onComplete:Zt},`${e.title} will be switched to a Community plan with the ${Be[n]} status.`):null))}function mn(o){let{org:e,billing:t}=o,[,n]=d(Pi);return E.createElement(a,null,E.createElement(Ze,null,E.createElement(et,{title:"Customer"}),E.createElement(xe,{items:[{label:"ID",value:E.createElement(Ve,{url:`https://dashboard.stripe.com/customers/${t.customerId}`},t.customerId)}]})),E.createElement(Ze,null,E.createElement(et,{title:"Subscription"}),E.createElement(Bi,{billing:t})),E.createElement(a,{style:[i.flex1,s.Margin.mediumTop,s.Padding.largeTop,n.wrapper]},E.createElement(ln,{org:e})))}function Bi(o){let{billing:e}=o,[,t]=d(b),{product:n,interval:r,trialEnd:c,status:l}=e,p=xo.find(L=>L.key===n),f;switch(l){case"active":f="success";break;case"past_due":case"unpaid":case"incomplete":f="danger";break;case"trialing":f="primary";break;default:f="secondary"}let k=l.replaceAll("_"," "),w=p?E.createElement(a,{style:[i.directionRow,i.alignCenter,i.justifySpaceBetween,s.Margin.smallBottom]},E.createElement(m,{style:[t.text],selectable:!0},r?`${p.title} \u2022 ${r}`:p.title),E.createElement(H,{kind:f,size:"small",style:[s.Margin.smallLeft]},l==="trialing"&&c?E.createElement(E.Fragment,null,"Trial End ",E.createElement(Re,{value:c.toDate(),onlyDate:!1})):E.createElement(m,{style:{textTransform:"capitalize"}},k))):"Subscription info unavailable",x="N/A";if(p)switch(p.key){case"team":case"business":x=`$${p.pricing?r==="monthly"?p.pricing.perUserPerMonth:p.pricing.perUserPerYear:"N/A"} / ${r==="monthly"?"month":"year"}`;break;case"free":x="Free";break;case"community":x="Community";break;case"enterprise":x="Enterprise pricing";break;case"startup":x="Team (Before Dec 2019)";break;case"legacy":x="Legacy";break;default:ie(p.key)}return E.createElement($,{layout:"wide",title:w,hint:E.createElement(E.Fragment,null,E.createElement(m,{style:[t.text,t.textMuted]},x),e.subscriptionId?E.createElement(E.Fragment,null,E.createElement(m,{style:[t.text,t.textMuted]}," \u2022 "),E.createElement(Ve,{url:`https://dashboard.stripe.com/subscriptions/${e.subscriptionId}`},e.subscriptionId)):null)})}var Pi=q.create({wrapper:o=>({borderTopColor:o.colors.border.muted,borderTopWidth:1})});function un(o){let{org:e,billing:t}=o;return e.type!=="community"?Kt.createElement(mn,{org:e,billing:t}):Kt.createElement(sn,{org:e,billing:t})}function pn(o){let{org:e}=o,[t,n]=A.useState(null);return A.createElement(z,{id:"billing",title:"Billing",style:[s.Margin.largeBottom],button:A.createElement(B,{title:"View Available Features",onPress:()=>n("features")},"View Available Features")},A.createElement(A.Suspense,{fallback:A.createElement(Q,{size:"small"})},t==="features"?A.createElement(Ii,{org:e,onClose:()=>n(null)}):null,A.createElement(Oi,{org:e})))}function Oi(o){let{org:e}=o,t=Ht(e.key),[n]=v([t]);return n?A.createElement(un,{org:e,billing:n}):A.createElement(we,null,"No billing info associated with this organization.")}function Ii(o){let{org:e,onClose:t}=o,n=Ht(e.key),[r]=v([n]),[,c]=d(b),l=e?Oo(e,r):"personal";return A.createElement(Te,{title:"Features",subtitle:`${e.title} has the feature set "${l}" and access to the following features:`,onClose:t},A.createElement(a,null,l===null?A.createElement(m,null,"Organization is ",A.createElement(m,{style:c.Bold},"frozen"),"."):Bo.map((p,f)=>{let k=Po.filter(w=>w.category===p.key);return A.createElement(a,{key:p.key,style:[f===0?null:s.Margin.mediumTop,s.Padding.xlargeHorizontal]},A.createElement(a,{style:[s.Padding.smallBottom]},A.createElement(m,{selectable:!0,style:[c.Heading3,c.text]},p.title)),A.createElement(a,null,k.map(w=>A.createElement(a,{style:[i.directionRow,i.alignStretch]},A.createElement(m,{selectable:!0,style:[i.flexGrow1,c.Label,c.text]},w.title),A.createElement(a,{style:[i.alignCenter,zi.featureAvailability,i.alignSelfEnd]},A.createElement(vi,{value:w[l]}))))))})))}function vi(o){let{value:e}=o,[,t]=d(b);return e===!0?A.createElement(y.Check,{size:O.ICON_M,style:t.primary}):e===!1?A.createElement(y.X,{size:O.ICON_M,style:t.primary}):e===1/0?A.createElement(m,{selectable:!0,style:[t.Label,t.text,t.AlignCenter]},"Unlimited"):e===0?A.createElement(m,{selectable:!0,style:[t.Label,t.textMuted,t.AlignCenter]},"None"):A.createElement(m,{selectable:!0,style:[t.Label,t.text,t.AlignCenter]},e)}var zi=ct.create({featureAvailability:{width:"10%"}});u();var vt=h(R());u();var be=h(R());u();var D=h(R());P();function dn(o){let{space:e}=o,[,t]=d(Ai),[n,r]=D.useState("activity");return D.createElement(z,{id:"activity",title:"Activity",style:[s.Margin.largeBottom]},D.createElement(a,{style:t.header},D.createElement(a,{style:[i.flex1,i.directionRow,i.justifyContentCenter,i.alignCenter,s.Padding.mediumHorizontal]},D.createElement(a,{style:[i.flex1,i.directionRow,i.alignCenter]},D.createElement(I,null,D.createElement(I.Tab,{active:n==="activity",onPress:()=>r("activity")},"Activity Feed"),D.createElement(I.Tab,{active:n==="history",onPress:()=>r("history")},"Changes History"))))),D.createElement(a,{style:[s.Padding.mediumHorizontal,s.Padding.largeVertical,t.tabContent]},D.createElement(a,{style:[i.directionColumn,s.Padding.mediumHorizontal,s.Padding.largeVertical,t.activityWrapper]},D.createElement(a,{style:[s.Padding.smallVertical]},D.createElement(D.Suspense,{fallback:D.createElement(Q,{size:"xsmall"})},n==="activity"?D.createElement(No,{context:{space:e.key}}):D.createElement(Do,{space:e,changeRequest:void 0,readOnly:!0}))))))}var Ai=q.create({header:o=>({borderBottomColor:o.colors.border.main,borderBottomWidth:1}),activityWrapper:o=>({backgroundColor:o.colors.background.main,borderRadius:O.RADIUS_M,borderColor:o.colors.border.muted,borderWidth:1}),tabContent:o=>({backgroundColor:o.colors.background.muted})});u();var te=h(R());P();function fn(o){let{space:e}=o;return e.deletedAt?te.createElement(Vi,{deletedAt:e.deletedAt,deletedBy:e.deletedBy}):null}function Vi(o){let{deletedAt:e,deletedBy:t}=o,[,n]=d(b),r=e.toDate(),c=no-Math.round((Date.now()-r.getTime())/(24*60*60*1e3));return te.createElement(a,{style:[s.Padding.largeBottom]},te.createElement(Ct,{kind:"danger",title:"This Space has been marked for deletion",icon:y.Trashcan,details:te.createElement(a,{style:[i.flex1,i.directionColumn]},te.createElement(a,{style:[i.flex1,i.directionRow,i.alignCenter]},te.createElement(m,{style:[n.Label,n.Selectable],selectable:!0},"It was deleted on the ",r.toISOString()),t?te.createElement(te.Fragment,null,te.createElement(m,{style:[n.Label,n.Selectable,s.Margin.xsmallHorizontal],selectable:!0},"by"),te.createElement($e,{userId:t})):null),te.createElement(m,{style:[n.Label,n.Selectable],selectable:!0},"Users have ",c," ",te.createElement(So,{count:c,singular:"day",plural:"days"})," to restore it before it's fully deleted from our system."))}))}u();var g=h(R());P();function gn(o){let{space:e}=o,[t]=v([so(e.key)]);return g.createElement(z,{id:"git_sync",title:"Git Sync",style:[s.Margin.largeBottom]},t?g.createElement(Ei,{space:e,gitSync:t}):g.createElement(we,null,"Git sync is not setup on this Space."))}function Ei(o){let{space:e,gitSync:t}=o,[,n]=d(b),[,r]=d(Ni);return g.createElement(a,{style:[i.directionColumn]},g.createElement(Li,{gitSync:t}),g.createElement(a,{style:[r.container,i.directionColumn,s.Margin.mediumTop,s.Padding.mediumHorizontal,s.Padding.mediumVertical]},g.createElement(a,{style:[i.directionColumn,s.Padding.mediumHorizontal,s.Padding.largeVertical,s.Margin.mediumBottom,r.wrapper]},g.createElement(a,null,g.createElement(m,{style:[n.Heading3,n.text]},"Status")),g.createElement(a,{style:[s.Padding.mediumVertical]},g.createElement(g.Suspense,{fallback:g.createElement(Q,{size:"xsmall"})},g.createElement(Mi,{space:e,gitSync:t})))),g.createElement(a,{style:[i.directionColumn,s.Padding.mediumHorizontal,s.Padding.largeVertical,r.wrapper]},g.createElement(a,null,g.createElement(m,{style:[n.Heading3,n.text]},"History")),g.createElement(a,{style:[s.Padding.mediumVertical,s.Padding.largeHorizontal]},g.createElement(g.Suspense,{fallback:g.createElement(Q,{size:"xsmall"})},g.createElement(Fo,{space:e,gitSync:t}))))))}function Li(o){let{gitSync:e}=o,[,t]=d(b),{provider:n,ref:r}=e,c=co(r),l,p;switch(n.type){case"github":l="GitHub",p=y.GitHub;break;case"gitlab":l="GitLab",p=y.GitLab;break;case"github-legacy":l="GitHub (Legacy)",p=y.GitHub;break;default:ie(n)}return g.createElement(a,{style:[i.flex1,i.directionColumn]},g.createElement(a,{style:[i.directionRow,i.alignCenter,s.Padding.smallVertical]},g.createElement(a,{style:[i.flex1,i.alignStart]},g.createElement(m,{style:[t.Body,t.text]},"Provider")),n.type==="github"||n.type==="github-legacy"?g.createElement(g.Fragment,null,g.createElement(a,{style:[i.flex1,i.alignStart]},g.createElement(m,{style:[t.Body,t.text]},"Account")),g.createElement(a,{style:[i.flex1,i.alignStart]},g.createElement(m,{style:[t.Body,t.text]},"Repository"))):g.createElement(a,{style:[i.flex1,i.alignStart]},g.createElement(m,{style:[t.Body,t.text]},"Project Name")),g.createElement(a,{style:[i.flex1,i.alignStart]},g.createElement(m,{style:[t.Body,t.text]},"Branch"))),g.createElement(a,{style:[i.directionRow,i.alignCenter]},g.createElement(a,{style:[i.flex1,i.alignStart]},g.createElement(a,{style:[i.directionRow,i.alignCenter]},g.createElement(p,{size:O.ICON_M,style:[s.Margin.xsmallRight]}),g.createElement(m,{style:[t.Label,t.textMuted,t.Selectable],selectable:!0},l))),n.type==="github"?g.createElement(g.Fragment,null,g.createElement(a,{style:[i.flex1,i.alignStart]},g.createElement(m,{style:[t.Label,t.textMuted,t.Selectable],selectable:!0},n.accountName)),g.createElement(a,{style:[i.flex1,i.alignStart]},g.createElement(m,{style:[t.Label,t.textMuted,t.Selectable],selectable:!0},n.repositoryName))):n.type==="github-legacy"?g.createElement(g.Fragment,null,g.createElement(a,{style:[i.flex1,i.alignStart]},g.createElement(m,{style:[t.Label,t.textMuted,t.Selectable],selectable:!0},n.repository.split("/")[0])),g.createElement(a,{style:[i.flex1,i.alignStart]},g.createElement(m,{style:[t.Label,t.textMuted,t.Selectable],selectable:!0},n.repository.split("/")[1]))):n.type==="gitlab"?g.createElement(a,{style:[i.flex1,i.alignStart]},g.createElement(m,{style:[t.Label,t.textMuted,t.Selectable],selectable:!0},n.projectName)):null,g.createElement(a,{style:[i.flex1,i.alignStart]},g.createElement(m,{style:[t.Label,t.textMuted,t.Selectable],selectable:!0},c||"N/A"))))}function Mi(o){let{space:e,gitSync:t}=o,{state:n,progress:r=0,error:c}=Go(e,t);return n==="importing"?g.createElement(Ye,{icon:re},g.createElement(m,{style:[De.Selectable],selectable:!0},"The sync is importing the repository content (",r.toFixed(0),"%).")):n==="exporting"?g.createElement(Ye,{icon:re},g.createElement(m,{style:[De.Selectable],selectable:!0},"The sync is exporting the space content (",r.toFixed(0),"%).")):n==="failure"?g.createElement(Ye,{kind:"danger",icon:y.X},g.createElement(m,{style:[De.Selectable],selectable:!0},'The latest synchronization failed with "',c,'".')):n==="timed-out"?g.createElement(Ye,{kind:"danger",icon:y.X},g.createElement(m,{style:[De.Selectable],selectable:!0},"The latest synchronization timed-out.")):g.createElement(Ye,{kind:"success",icon:y.Check},g.createElement(m,{style:[De.Selectable],selectable:!0},"The space is synchronized with Git."))}var Ni=q.create({wrapper:o=>({backgroundColor:o.colors.background.main,borderRadius:O.RADIUS_M,borderColor:o.colors.border.muted,borderWidth:1}),container:o=>({backgroundColor:o.colors.background.muted,borderRadius:O.RADIUS_M,borderColor:o.colors.border.main,borderWidth:1})});u();var M=h(R());P();u();u();var Z=h(R());P();u();var F=h(R());P();u();var It={THREAT_TYPE_UNSPECIFIED:"Not Specified",DMCA:"DMCA",MALWARE:"Malware",SOCIAL_ENGINEERING:"Social Engineering",UNWANTED_SOFTWARE:"Unwanted Software"},yn=Object.keys(It).map(o=>({label:It[o],value:o}));var Ui=J("backoffice:block-space");function bn(o){let{space:e}=o,{blocked:t}=e,[n,r]=F.useState(!1),c=fe(),[l,p]=St(),f=t?"unblock":"block",k=Bt(f),w=async(j,G)=>{await p(async()=>{try{let pe=G&&G!=="THREAT_TYPE_UNSPECIFIED"?[G]:ut.firestore.FieldValue.delete();await He(e.key).update({blocked:j,blockedThreats:pe}),c.notify({kind:"success",title:`The Space was ${f}ed.`})}catch(pe){Ui.error(`An error occurred while ${f}ing the Space (ID: ${e.key}):

`,pe.message),c.notify({kind:"danger",title:"Error",details:`An error occurred while ${k}ing the Space.`});return}})};return F.createElement(a,null,F.createElement(B,{icon:l?re:void 0,kind:"danger",size:"medium",onPress:()=>{r(!0)},disabled:l},k),n?F.createElement(_i,{space:e,onComplete:async(j,G)=>{r(!1),j&&await w(!!G,G)}}):null)}function _i(o){let{space:e,onComplete:t}=o,n=e.title?e.title:_e,[,r]=d(b),[c,l]=F.useState("THREAT_TYPE_UNSPECIFIED"),p=w=>{t(w)},f=()=>{t(!0,c)},k=()=>{t(!1)};return e.blocked?F.createElement(ke,{title:"Unblock Space",kind:"danger",confirmButtonText:"Unblock",onComplete:p},F.createElement(a,{style:[i.directionColumn]},F.createElement(m,{style:[r.Body,r.textMid,s.Margin.smallBottom]},'The Space "',n,'"'," ",F.createElement(m,{style:[r.Body,r.Bold,r.danger]},"will be unblocked.")))):F.createElement(Te,{title:"Block Space",footer:F.createElement(a,{style:[i.directionRow,i.justifyContentEnd]},F.createElement(B,{kind:"secondary",onPress:k,style:s.Margin.smallRight},"Cancel"),F.createElement(B,{kind:"danger",onPress:f},"Block")),onClose:k},F.createElement(a,{style:[i.directionColumn]},F.createElement(m,{style:[r.Body,r.textMid,s.Margin.smallBottom]},'The Space "',n,'"'," ",F.createElement(m,{style:[r.Body,r.Bold,r.danger]},"will be blocked."))),F.createElement(Rt,{label:"Block Reason",labelDescription:"You can optionally provide a reason for the block.",value:c,items:yn,onValueChange:w=>l(w),vertical:!0}))}function Yt(o){let{space:e}=o;return Z.createElement(z,{id:"risk",title:"Risk",style:[s.Margin.largeBottom]},Z.createElement(a,{style:[i.directionRow,i.alignCenter]},Z.createElement(Hi,{space:e}),Z.createElement(bn,{space:e})))}function Hi(o){let{space:e}=o,{blocked:t,blockedThreats:n}=e,[,r]=d(b),c=t&&n?n.filter(l=>l!=="THREAT_TYPE_UNSPECIFIED"):[];return Z.createElement(a,{style:[i.flex1,i.directionRow,i.alignCenter]},Z.createElement(a,{style:[s.Margin.largeRight]},Z.createElement(Ge,{kind:t?"danger":"success",icon:y.Shield,size:"large"})),Z.createElement(a,{style:[i.flex1,i.directionColumn]},t?c.length>0?Z.createElement(a,{style:[i.directionColumn]},Z.createElement(m,{style:[r.Label,r.text]},"The Space is currently blocked for the following reason(s):"),Z.createElement(a,{style:[i.directionRow,s.Margin.smallHorizontal,s.Margin.smallTop]},c.map(l=>{let p=It[l];return Z.createElement(H,{key:p,kind:"danger",size:"small",style:[s.Margin.smallRight]},p)}))):Z.createElement(m,{style:[r.Label,r.text]},"The Space is currently blocked."):Z.createElement(m,{style:[r.Label,r.text]},"This Space is currently not blocked.")))}u();var jt=h(R());function Qt(o){let{space:e}=o,{navigate:t}=W(),n=()=>{t({screen:{type:"back_office",tab:{type:"space",space:e.key,owner:e.organization?{type:"org",organization:e.organization}:e.user?{type:"user",user:e.user}:void 0},hash:"risk"}})};return e.blocked?jt.createElement(B,{onPress:n},jt.createElement(H,{kind:"danger",style:[s.Margin.mediumRight],icon:y.Shield},"Blocked")):null}function Sn(o){let{space:e}=o;return M.createElement(z,{id:"profile",title:"Space",style:[s.Margin.largeBottom]},M.createElement(Di,{space:e}),M.createElement(xe,{items:[{label:"Owner",value:e.organization?M.createElement(kt,{orgKey:e.organization}):e.user?M.createElement($e,{userId:e.user}):"N/A"},{label:"Created",value:M.createElement(wt,{content:e})},{label:"Edit Mode",value:M.createElement(a,{style:[i.flex1,i.directionRow,i.alignCenter]},M.createElement(a,{style:[s.Margin.xsmallRight]},e.editMode==="live"?M.createElement(y.Dot,{size:O.ICON_S}):M.createElement(y.Lock,{size:O.ICON_S})),M.createElement(m,{style:{textTransform:"capitalize"}},e.editMode))}]}))}function Di(o){let{space:e}=o,[,t]=d(b),{getNavigationLinkProps:n}=W(),r=e.title?e.title:_e,c=xt[e.visibility],l=n({screen:{type:"space",space:e.key,organization:e.organization,page:""}});return M.createElement(a,{style:[i.directionRow,i.alignCenter,s.Margin.mediumBottom]},M.createElement(a,{style:[i.flex1,i.directionRow,i.alignCenter]},M.createElement(a,{style:[s.Margin.mediumRight]},M.createElement(Ot,{space:e,size:O.L})),M.createElement(a,{style:[i.directionColumn]},M.createElement(m,{style:[t.Heading3,t.text,t.Selectable],selectable:!0},r),M.createElement(a,{style:[i.directionRow,i.alignCenter]},M.createElement(m,{style:[t.text,t.Selectable],selectable:!0},e.key),M.createElement(a,{style:[s.Margin.smallLeft]},M.createElement(se,{title:"Copy Space ID",content:e.key,size:"medium"}))))),M.createElement(a,{style:[i.directionRow,i.alignCenter]},M.createElement(Qt,{space:e}),M.createElement(H,{style:[s.Margin.mediumRight],icon:c.icon},c.title),M.createElement(B,T({icon:y.ExternalLink,title:"View Space in GBX"},l))))}function hn(o){let{space:e}=o;return be.createElement(be.Fragment,null,be.createElement(fn,{space:e}),be.createElement(Sn,{space:e}),be.createElement(nt,{pointer:{type:"space",space:e.key}}),be.createElement(Yt,{space:e}),be.createElement(gn,{space:e}),be.createElement(dn,{space:e}))}function Rn(o){let{org:e}=o,t={type:"organization",organization:e},n=(r,c,l)=>vt.createElement(We,{key:r.key,space:r,owner:c.type,query:l});return vt.createElement(z,{id:"content",title:"Content",style:[s.Margin.largeBottom]},vt.createElement(ot,{owner:t,renderSpaceSummary:n}))}u();var K=h(R());P();u();var me=h(R());P();function Cn(o){let{user:e,org:t,member:n,query:r}=o,[,c]=d(b),l=ee(Pe,{squared:!1,user:e},[e]),{getNavigationLinkProps:p}=W(),f=p({screen:{type:"back_office",tab:{type:"user",user:e.uid}}}),k=n.role?Uo[n.role]:_o,w=me.createElement(Ae,{tooltip:k.description},(x,L)=>me.createElement(a,T({ref:L,style:[i.directionRow,i.alignCenter]},x.events),me.createElement(H,{icon:k.icon,size:"medium"},me.createElement(m,{style:[c.Caption]},k.title))));return me.createElement($,{layout:"wide",icon:l,title:me.createElement(qe,{text:e.displayName,query:r,selectable:!0}),hint:me.createElement(m,{style:[c.Selectable],selectable:!0},e.email," \u2E31 Joined"," ",me.createElement(Re,{value:n.joinedAt.toDate(),onlyDate:!1})),buttons:[w,e.sso===t.key?me.createElement(H,null,"SSO"):null,me.createElement(se,{title:"Copy User ID",content:e.uid,size:"medium"}),me.createElement(B,T({icon:y.ArrowUpRight,title:"Go to User Info"},f))]})}u();var st=h(R());P();function Tn(o){let{team:e}=o,[,t]=d(b),n=ee(qo,{team:e},[e]);return st.createElement($,{layout:"wide",title:st.createElement(m,{style:[t.Selectable],selectable:!0},e.title),icon:n,hint:st.createElement(m,{style:[t.Selectable],selectable:!0},e.members.length," members \u2E31 Created"," ",st.createElement(Re,{value:e.createdAt.toDate(),onlyDate:!1}))})}u();var Ee=h(R());P();function kn(o){let{teams:e,organization:t}=o,n=Ee.useCallback(({item:r})=>Ee.createElement(Tn,{team:r,organization:t}),[t]);return Ee.createElement(a,null,e.length>0?Ee.createElement(mt,{data:e,renderItem:n}):Ee.createElement(we,{icon:y.Users},"This organization does not have any teams."))}function wn(o){let{org:e}=o;return K.createElement(z,{id:"memberships",title:"Memberships",style:s.Margin.largeBottom},K.createElement(K.Suspense,{fallback:K.createElement(Q,{size:"small"})},K.createElement(Fi,{org:e})))}function Fi(o){let{org:e}=o,[t]=v([ro(e.key)]),n=(r,c)=>K.createElement(mt,{data:r,renderItem:({item:p})=>K.createElement(Cn,Ne(T({},p),{org:e,query:c})),keyExtractor:Gi});return K.createElement(K.Fragment,null,K.createElement(Ze,null,K.createElement(et,{title:"Members"}),K.createElement(Ho,{organization:e.key,useSearchAs:"staff"},n)),K.createElement(Ze,null,K.createElement(et,{title:"Teams"}),K.createElement(kn,{organization:e,teams:t})))}function Gi(o){return o.user.uid}u();var X=h(R());P();function xn(o){let{org:e}=o,[,t]=d(b),{key:n,title:r,emailDomains:c,customHostname:l}=e,p=e.createdAt.toDate();return X.createElement(z,{id:"profile",title:"Organization",style:[s.Margin.largeBottom]},X.createElement(a,{style:[i.directionRow,i.alignStart,s.Margin.mediumBottom]},X.createElement(a,{style:[s.Margin.mediumRight]},X.createElement(Ke,{org:e,size:O.L})),X.createElement(a,{style:[i.directionColumn]},X.createElement(m,{style:[t.Heading3,t.text,t.Selectable],selectable:!0},r),X.createElement(a,{style:[i.directionRow,i.alignCenter]},X.createElement(m,{style:[t.text,t.Selectable],selectable:!0},n),X.createElement(a,{style:[s.Margin.smallLeft]},X.createElement(se,{title:"Copy Org ID",content:e.key,size:"medium"}))))),X.createElement(xe,{items:[{label:"Created",value:X.createElement(Ae,{tooltip:p.toISOString()},(f,k)=>X.createElement(a,T({ref:k,style:[i.directionRow,i.alignCenter]},f.events),X.createElement(Re,{value:p,onlyDate:!1})))},{label:"Custom Hostname",value:l?X.createElement(Ve,{url:`https://${l}`},l):"Not Set"},{label:"Allowed Email Domains",value:c&&c.length>0?c.map(f=>X.createElement(H,{size:"medium",key:f},f)):"Not Set"}]}))}function Bn(o){let{org:e}=o;return he.createElement(he.Fragment,null,he.createElement(xn,{org:e}),he.createElement(nt,{pointer:{type:"organization",organization:e.key}}),he.createElement(pn,{org:e}),he.createElement(wn,{org:e}),he.createElement(Rn,{org:e}))}function qi(o){switch(o.type){case"space":return{purgeContext:{type:"space",space:o.space},customHostnamePointer:{type:"space",space:o.space}};case"collection":return{purgeContext:{type:"collection",collection:o.collection},customHostnamePointer:{type:"collection",collection:o.collection}};case"organization":return{customHostnamePointer:{type:"organization",organization:o.organization}};default:ie(o)}}function nt(o){let{pointer:e}=o,t=qi(e);return zt.createElement(z,{id:"publishing",title:"Publishing",style:[s.Margin.largeBottom]},zt.createElement(zo,{owner:t.customHostnamePointer}),t.purgeContext?zt.createElement(vo,{context:t.purgeContext}):null)}u();var At=h(R());function Pn(o){let{collection:e}=o,t=(n,r,c)=>At.createElement(We,{key:n.key,space:n,owner:r.type,query:c});return At.createElement(z,{id:"content",title:"Content",style:[s.Margin.largeBottom]},At.createElement(ot,{owner:{type:"collection",collection:e},renderSpaceSummary:t}))}u();var U=h(R());P();function On(o){let{collection:e}=o,t=Ue(e),n=e.path?Eo.read(e):null,r;return n&&(r=Lo(n)),U.createElement(z,{id:"profile",title:"Collection",style:[s.Margin.largeBottom]},U.createElement($i,{collection:e,owner:t}),U.createElement(xe,{items:[{label:"Owner",value:t.organization?U.createElement(kt,{orgKey:t.organization}):t.user?U.createElement($e,{userId:t.user}):"N/A"},{label:"Created",value:U.createElement(wt,{content:e})},{label:"Publish mode",value:e.publishingType?U.createElement(m,{style:{textTransform:"capitalize"}},e.publishingType):"Not Set"},{label:"Default Space",value:e.primarySpace?U.createElement(Io,{spaceKey:e.primarySpace}):"Not Set"},{label:"URL",value:r?U.createElement(Ve,{url:r},r):"Not set"}]}))}function $i(o){let{collection:e,owner:t}=o,[,n]=d(b),{getNavigationLinkProps:r}=W(),c=xt[e.visibility],l=r(t.organization?{screen:{type:"collection",collection:e.key,organization:t.organization}}:{screen:{type:"collection",collection:e.key}});return U.createElement(a,{style:[i.directionRow,i.alignCenter,s.Margin.mediumBottom]},U.createElement(a,{style:[i.flex1,i.directionRow,i.alignCenter]},U.createElement(a,{style:[s.Margin.mediumRight]},U.createElement(Pt,{collection:e,size:O.M})),U.createElement(a,{style:[i.directionColumn]},U.createElement(m,{style:[n.Heading3,n.text,n.Selectable],selectable:!0},e.title),e.description?U.createElement(m,{style:[n.Label,n.Selectable,n.textMid],selectable:!0},e.description):null,U.createElement(a,{style:[i.directionRow,i.alignCenter]},U.createElement(m,{style:[n.text,n.Selectable],selectable:!0},e.key),U.createElement(a,{style:[s.Margin.smallLeft]},U.createElement(se,{title:"Copy Collection ID",content:e.key,size:"medium"}))))),U.createElement(a,{style:[i.directionRow,i.alignCenter]},U.createElement(H,{style:[s.Margin.mediumRight],icon:c.icon},c.title),U.createElement(B,T({icon:y.ExternalLink,title:"View Collection in GBX"},l))))}function In(o){let{collection:e}=o;return Le.createElement(Le.Fragment,null,Le.createElement(On,{collection:e}),Le.createElement(nt,{pointer:{type:"collection",collection:e.key}}),Le.createElement(Pn,{collection:e}))}function vn(o){let{tab:e}=o,t=dt(e.collection),[n]=v([t]);return n?Vt.createElement(In,{collection:n}):Vt.createElement(ce,{title:"Not Found",action:Vt.createElement(ge,{kind:"secondary",size:"medium",to:{screen:{type:"back_office"}}},"Back")},"The collection you are trying to access doesn't exist or may have been deleted.")}u();var Et=h(R());function zn(o){let{tab:e}=o,t=yt(e.hostname),[n]=v([t]);return n?Et.createElement(Vo,{customHostname:n}):Et.createElement(ce,{title:"Not Found",action:Et.createElement(ge,{kind:"secondary",size:"medium",to:{screen:{type:"back_office"}}},"Back")},"The custom domain you are trying to access doesn't exist or may have been deleted.")}u();var Lt=h(R());function An(o){let{tab:e}=o,t=de(e.organization),[n]=v([t]);return n?Lt.createElement(Bn,{org:n}):Lt.createElement(ce,{title:"Not Found",action:Lt.createElement(ge,{kind:"secondary",size:"medium",to:{screen:{type:"back_office"}}},"Back")},"The organization you are trying to access doesn't exist or may have been deleted.")}u();var Mt=h(R());function Vn(o){let{tab:e}=o,t=He(e.space),[n]=v([t]);return n?Mt.createElement(hn,{space:n}):Mt.createElement(ce,{title:"Not Found",action:Mt.createElement(ge,{kind:"secondary",size:"medium",to:{screen:{type:"back_office"}}},"Back")},"The space you are trying to access doesn't exist or may have been deleted.")}u();var _t=h(R());u();var ze=h(R());u();var N=h(R());P();u();var Me=h(R());var En=J("backoffice:user-actions");function Ln(o){let{data:e}=Ro({operationId:"getUserBackOfficeInfo",params:{userId:o},query:{}});return e}function it(o){let[e,t]=Me.useState(null);async function n(c,l){let p=await ho();t(c);try{let f;switch(c){case"FETCH_ACCOUNT_INFO":({data:f}=await p.backoffice.getUserBackOfficeInfo(o));break;case"BLOCK_ACCOUNT":({data:f}=await p.backoffice.blockUser(o,l));break;case"VERIFY_ACCOUNT":({data:f}=await p.backoffice.markUserAsVerified(o));break;case"IMPERSONATE_ACCOUNT":({data:f}=await p.backoffice.impersonateUser(o));break;default:ie(c)}return f}catch(f){let k=f.message||f.statusText;throw En.error(`An error occured whilst making request for the ${c} action:

`,k),f.stack&&En.error(`The error is located at:
`,f.stack),t(null),f}finally{t(null)}}let r=Me.useCallback(n,[o]);return{loadingActionState:e,blockUserAccount:Me.useCallback(async c=>{let p=await r("BLOCK_ACCOUNT",{block:c});return Gt({operationId:"getUserBackOfficeInfo",params:{userId:o},query:{}},{data:p}),p},[o]),verifyUserAccount:Me.useCallback(async()=>{let c=await r("VERIFY_ACCOUNT");return Gt({operationId:"getUserBackOfficeInfo",params:{userId:o},query:{}},{data:c}),c},[o]),impersonateUserAccount:Me.useCallback(async()=>r("IMPERSONATE_ACCOUNT"),[o])}}u();var Y=h(R());P();u();var Mn=h(R()),Nn=h(ei());var Wi=J("backoffice:account-provider-github-api"),Xt=go({getKey:o=>`github-user-api:${o.userId}`,getValue:async o=>{let e=await fetch(`https://api.github.com/user/${o.userId}`,{cache:"no-store"}),t=await e.json();return e.ok?{id:t.id,login:t.login,profileURL:t.html_url}:(Wi.error(`Error occurred whilst fetching GitHub User ID ${o.userId}:

`,JSON.stringify(t)),null)}});function Un(o){let e=(0,Mn.useMemo)(()=>({getCurrentValue:()=>Xt.read(o),subscribe:t=>Xt.subscribe(o,t)}),[Xt.getKey(o)]);return(0,Nn.useSubscription)(e)}var Ki={"github.com":y.GitHub,"google.com":y.Google,password:y.Email,emailLink:y.Link};function _n(o){let{authProviders:e}=o,[,t]=d(b);return Y.createElement(a,{style:[i.directionColumn,s.Margin.mediumBottom]},Y.createElement(a,{style:[i.flex1]},Y.createElement(a,{style:s.Margin.xsmallBottom},Y.createElement(m,{style:[t.Body,t.text,t.Medium]},"Auth Providers"))),Y.createElement(a,{style:[i.directionColumn]},e.length>0?e.map((n,r)=>Y.createElement(Yi,{key:r,authProvider:n})):Y.createElement(m,{style:[t.Label,t.textMid,t.Selectable],selectable:!0},"No providers found for this User.")))}function Yi(o){let{authProvider:e}=o;return e.providerId==="github.com"?Y.createElement(ji,{authProvider:e}):Y.createElement(Hn,{authProvider:e})}function ji(o){let{authProvider:e}=o,[,t]=d(b),n=Dn("github.com"),r=Un({userId:e.uid});if(!r)return Y.createElement(Hn,{authProvider:e});let{login:c,profileURL:l}=r,p=()=>{Tt(l)};return Y.createElement($,{layout:"wide",icon:n,title:Y.createElement(m,{style:[t.Selectable],selectable:!0},c),hint:Y.createElement(m,{style:[t.Selectable],selectable:!0},e.email),buttons:[Y.createElement(B,{icon:y.ExternalLink,title:"View Profile on GitHub",onPress:p})]})}function Hn(o){let{authProvider:e}=o,t=e.providerId,[,n]=d(b),r=Dn(t),c=e.displayName||e.email,l=e.displayName?e.email:void 0;return Y.createElement($,{layout:"wide",icon:r,title:Y.createElement(m,{style:[n.Selectable],selectable:!0},c),hint:Y.createElement(m,{style:[n.Selectable],selectable:!0},l)})}function Dn(o){let e=Ki[o];return ee(e,{size:O.ICON_XL},[e])}u();var _=h(R());P();function Fn(o){let{createdAt:e,lastSignInAt:t,disabled:n}=o,r=new Date(e),c=new Date(t),[,l]=d(b);return _.createElement(a,{style:[i.directionRow,s.Margin.mediumBottom]},_.createElement(a,{style:[i.flex1]},_.createElement(a,{style:[i.directionRow,i.alignCenter,s.Padding.xsmallVertical]},_.createElement(a,{style:[i.flex1,i.alignStart]},_.createElement(m,{style:[l.Body,l.text,l.Medium]},"Created")),_.createElement(a,{style:[i.flex1,i.alignCenter]},_.createElement(m,{style:[l.Body,l.text,l.Medium]},"Last Sign In")),_.createElement(a,{style:[i.flex1,i.alignEnd]},_.createElement(m,{style:[l.Body,l.text,l.Medium]},"Status"))),_.createElement(a,{style:[i.directionRow,i.alignEnd]},_.createElement(a,{style:[i.flex1,i.alignStart]},_.createElement(Ae,{tooltip:e},(p,f)=>_.createElement(a,T({ref:f,style:[i.directionRow,i.alignCenter]},p.events),_.createElement(m,{style:[l.Label,l.textMuted,l.Selectable],selectable:!0},qt(r,!0))))),_.createElement(a,{style:[i.flex1,i.alignCenter]},t?_.createElement(Ae,{tooltip:t},(p,f)=>_.createElement(a,T({ref:f,style:[i.directionRow,i.alignCenter]},p.events),_.createElement(m,{style:[l.Label,l.textMuted,l.Selectable],selectable:!0},qt(c,!0)))):_.createElement(m,{style:[l.Label,l.textMuted,l.Selectable],selectable:!0},"N/A")),_.createElement(a,{style:[i.flex1,i.alignEnd]},n?_.createElement(H,{icon:y.X,kind:"danger",size:"medium"},"Disabled"):_.createElement(H,{icon:y.Check,kind:"success",size:"medium"},"Enabled")))))}u();var ae=h(R());P();var Jt=J("backoffice:account-verification");function Gn(o){let{user:e,riskEvaluation:t}=o,[n,r]=ae.useState(!1),c=fe(),{loadingActionState:l,verifyUserAccount:p}=it(e.uid),f=l!==null;Jt.debug(`Is user ${e.email} risky? ${t.isRisky}`);let k=async()=>{try{await p(),Jt.debug(`User ${e.email} marked as verified.`),c.notify({kind:"success",title:`User ${e.email} marked as verified.`})}catch(L){Jt.error("Error occurred while marking user as verified",L),c.notify({kind:"danger",title:"Error",details:"An unexpected error occurred"});return}},w=()=>{r(!0)},x=async L=>{r(!1),L&&await k()};return ae.createElement(a,null,ae.createElement(Ce,{label:"Verification",labelDescription:ae.createElement(Qi,{riskEvaluation:t}),style:[s.Margin.mediumBottom]},t.isRisky?ae.createElement(B,{icon:f?re:void 0,kind:"secondary",size:"medium",onPress:w},"Mark as Verified"):ae.createElement(H,{icon:y.Check,kind:"success",size:"medium"},"Verified")),n?ae.createElement(ke,{title:"Mark account as verified",kind:"primary",confirmButtonText:"Verify",onComplete:x},`User account ${e.email} will be marked as verified.`):null)}function Qi(o){let{riskEvaluation:e}=o,{riskScore:t,wasRisky:n,emailVerified:r,googleLogin:c,githubLogin:l}=e,p=[{label:`Risk Score: ${t}`,completed:!n},{label:"Email Verified",completed:r},{label:"Google Login",completed:c},{label:"GitHub Login",completed:l}],[,f]=d(b);return ae.createElement(a,{style:[i.directionColumn]},p.map(({label:k,completed:w},x)=>ae.createElement(a,{key:x,style:[i.directionRow,s.Margin.xsmallTop]},ae.createElement(Ge,{kind:w?"success":"secondary",icon:w?y.Check:y.X,size:"small",style:[s.Margin.smallRight]}),ae.createElement(m,{style:[f.Label,f.textMuted,f.Selectable],selectable:!0},k))))}u();var oe=h(R());P();var Xi=J("backoffice:block-user");function qn(o){let{user:e,disabled:t}=o,[n,r]=oe.useState(!1),[,c]=d(b),l=fe(),{loadingActionState:p,blockUserAccount:f}=it(e.uid),k=p!==null,w=t?"unblock":"block",x=Bt(w),L=async()=>{try{await f(!t),l.notify({kind:"success",title:`User Account ${e.email} was ${w}ed.`})}catch(pe){Xi.error(`An error occurred while ${w}ing the User (ID: ${e.uid}):

`,pe.message),l.notify({kind:"danger",title:"Error",details:`An error occurred while ${x}ing the User Account.`});return}},j=()=>{r(!0)},G=async pe=>{r(!1),pe&&await L()};return oe.createElement(a,{style:[s.Margin.mediumBottom]},oe.createElement(Ce,{label:`${x} User`,labelDescription:`${x} the User Account.`},oe.createElement(B,{icon:k?re:void 0,kind:"danger",size:"medium",onPress:j,disabled:k},x)),n?oe.createElement(ke,{title:`${x} User`,kind:"danger",confirmButtonText:x,onComplete:G},oe.createElement(a,{style:[i.directionColumn]},oe.createElement(m,{style:[c.Body,c.textMid,s.Margin.smallBottom]},"The account for the User"," ",oe.createElement(m,{style:[c.Body,c.Bold]},e.email," "),oe.createElement(m,{style:[c.Body,c.Bold,c.danger]},"will be ",w,"ed.")),oe.createElement(m,{style:[c.Body,c.textMid]},"This means that they"," ",oe.createElement(m,{style:[c.Body,c.Bold]},t?"will be able":"won't be able")," ","to access GitBook,"," ",oe.createElement(m,{style:[c.Body,c.Bold]},"and all their Spaces will be ",w,"ed.")))):null)}u();var V=h(R());P();var Ji=J("backoffice:impersonate-user");function $n(o){let{user:e}=o,[t,n]=lo(null,[e.uid]),[r,c]=V.useState(!1),[,l]=d(b),p=fe(),{loadingActionState:f,impersonateUserAccount:k}=it(e.uid),w=f!==null,x=async()=>{try{let G=await k();n({impersonation:G.impersonation,error:!1})}catch(G){Ji.error(`An error occurred while impersonating the User (ID: ${e.uid}):

`,G.message),p.notify({kind:"danger",title:"Error",details:"An error occurred while impersonating the User."}),n({impersonation:void 0,error:!0});return}},L=()=>{c(!0)},j=async G=>{c(!1),G&&await x()};return!t||t.error||!t.impersonation?V.createElement(a,null,V.createElement(Ce,{label:"Impersonate User",labelDescription:V.createElement(m,{style:[l.Label,l.textMid,l.Selectable],selectable:!0},t&&t.error?"An error occurred while impersonating the User. Try again later.":"Request a link to impersonate the User.")},V.createElement(B,{icon:w?re:void 0,kind:"danger",size:"medium",onPress:L,disabled:w},"Impersonate")),r?V.createElement(Zi,{onComplete:j}):null):V.createElement(Ct,{title:"User Impersonation",kind:"success",icon:y.User,details:V.createElement(a,{style:[i.flexGrow1,i.directionColumn]},V.createElement(m,{style:[l.text]},"Use the URL below in",V.createElement(m,{style:[l.Bold]}," an Incognito window or another browser "),"to log in as the User:"),V.createElement(a,{style:[i.flex1,s.Margin.mediumVertical]},V.createElement(ht,{value:t.impersonation.authURL,readOnly:!0,copyable:!0})),V.createElement(m,{style:[l.warning]},V.createElement(m,{style:[l.Bold]},"Note: ")," Using this URL in the current window as this will log you out from your GitBook Staff User session."))})}function Zi(o){let{onComplete:e}=o,[,t]=d(b),[n,r]=V.useState(!1),c=()=>{!n||e(!0)},l=()=>{e(!1)};return V.createElement(Te,{title:"Impersonate User",footer:V.createElement(a,{style:[i.directionRow,i.justifyContentEnd]},V.createElement(B,{kind:"secondary",onPress:l,style:s.Margin.smallRight},"Cancel"),V.createElement(B,{kind:"danger",disabled:!n,onPress:c},"Impersonate")),onClose:l},V.createElement(a,{style:s.Margin.mediumBottom},V.createElement(m,{style:[t.Body,t.textMid]},"You are about to request a link to impersonate the User."," "),V.createElement(m,{style:[t.Body,t.Bold,t.textMid,s.Padding.smallTop]},"Please acknowledge that you understand the risks of using such a link:")),V.createElement(uo,{label:V.createElement(m,{style:[t.Body,t.textMid]},"I understand that by using this link, I will be logged in as the User with"," ",V.createElement(m,{style:[t.Bold,t.danger]},"all of their access rights")," and I will need to"," ",V.createElement(m,{style:[t.Bold,t.danger]},"be extra careful.")),value:n,onValueChange:p=>{r(p)},style:s.Margin.smallBottom}))}var er=J("backoffice:account-panel");function Wn(o){let{user:e}=o;return N.createElement(z,{id:"account",title:"Account",style:[s.Margin.largeBottom]},N.createElement(or,null,N.createElement(N.Suspense,{fallback:N.createElement(Q,{size:"xsmall"})},N.createElement(tr,{user:e}))),N.createElement($n,{user:e}))}function tr(o){let{user:e}=o,t=Ln(e.uid),{riskEvaluation:n,authProviders:r,createdAt:c,lastSignInAt:l,disabled:p}=t;return N.createElement(N.Fragment,null,N.createElement(Fn,{createdAt:c,lastSignInAt:l,disabled:p}),N.createElement(_n,{authProviders:r}),N.createElement(Gn,{user:e,riskEvaluation:n}),N.createElement(qn,{user:e,disabled:p}))}function or(o){let{children:e}=o,t=N.useCallback((n,r,c)=>{er.error(`An error occured whilst retrieving the user's account info:

`,n,`

The error is located at:
`,r)},[]);return N.createElement(to,{fallback:()=>N.createElement(nr,null),onError:t},e)}function nr(o){let[,e]=d(b);return N.createElement(a,{style:[i.directionRow,s.Margin.mediumBottom]},N.createElement(a,{style:[i.flex1]},N.createElement(a,{style:s.Margin.xsmallBottom},N.createElement(m,{style:[e.Body,e.text,e.Medium,e.Selectable],selectable:!0},"Account Information")),N.createElement(m,{style:[e.Caption,e.textMid,e.Selectable],selectable:!0},"We couldn't retrieve the user's account info right now. This error has been logged. Please try again later.")))}u();var Nt=h(R());function Kn(o){let{user:e}=o,[t]=v([ao(e.uid)]),n={type:"user",user:e},r=(c,l,p)=>Nt.createElement(We,{key:c.key,space:c,owner:l.type,permissions:t,query:p});return Nt.createElement(z,{id:"content",title:"Content",style:[s.Margin.largeBottom]},Nt.createElement(ot,{owner:n,renderSpaceSummary:r}))}u();var Ut=h(R());function Yn(o){let{user:e}=o,[t]=v([bt(e.uid)]),n=t.reduce((p,f)=>{let k=f.organization;return p[k]=f.role,p},{}),r=Object.keys(n).map(p=>de(p)),l=v(r).map(p=>{let f=n[p.key];return[p,f]}).filter(([p])=>!!p);return Ut.createElement(z,{id:"organizations",title:"Organizations",style:[s.Margin.largeBottom]},l.length>0?l.map(([p,f])=>Ut.createElement(Ao,{user:e,key:p.key,org:p,role:f})):Ut.createElement(we,{icon:y.Users},"This user is not a member of any organizations."))}u();var ue=h(R());P();function jn(o){let{user:e}=o,[,t]=d(b);return ue.createElement(z,{id:"profile",title:"User",style:[s.Margin.largeBottom]},ue.createElement(a,{style:[i.directionRow,i.alignStart]},ue.createElement(a,{style:[s.Margin.mediumRight]},ue.createElement(Pe,{user:e,size:O.L,squared:!0})),ue.createElement(a,{style:[i.directionColumn]},ue.createElement(m,{style:[t.Heading3,t.text,t.Selectable],selectable:!0},e.displayName),ue.createElement(m,{style:[t.Body,t.text,t.Selectable],selectable:!0},e.email),ue.createElement(a,{style:[i.directionRow,i.alignCenter]},ue.createElement(m,{style:[t.text,t.Selectable],selectable:!0},e.uid),ue.createElement(a,{style:[s.Margin.smallLeft]},ue.createElement(se,{title:"Copy User ID",content:e.uid,size:"medium"}))))))}function Qn(o){let{user:e}=o;return ze.createElement(ze.Fragment,null,ze.createElement(jn,{user:e}),ze.createElement(Wn,{user:e}),ze.createElement(Yn,{user:e}),ze.createElement(Kn,{user:e}))}function Xn(o){let{tab:e}=o,t=pt(e.user),[n]=v([t]);return n?_t.createElement(Qn,{user:n}):_t.createElement(ce,{title:"Not Found",action:_t.createElement(ge,{kind:"secondary",size:"medium",to:{screen:{type:"back_office"}}},"Back")},"The user you are trying to access doesn't exist or may have been deleted.")}function Jn(o){let{screen:e}=o,[t]=d();return yo(n=>{n.setTitle("Back Office")}),ne.createElement(Fe,{component:lt,backgroundColor:t.colors.background.muted,style:[i.flex1],contentContainerStyle:[i.directionRow,i.justifyContentCenter,s.Padding.xlargeVertical,s.Padding.largeHorizontal]},ne.createElement(a,{style:[i.flex1,ir.body]},ne.createElement(ne.Suspense,{fallback:ne.createElement(Q,{size:"large"})},e.tab.type==="home"?ne.createElement(a,null,ne.createElement(m,null,"Back office Home")):null,e.tab.type==="user"?ne.createElement(Xn,{tab:e.tab}):null,e.tab.type==="org"?ne.createElement(An,{tab:e.tab}):null,e.tab.type==="space"?ne.createElement(Vn,{tab:e.tab}):null,e.tab.type==="collection"?ne.createElement(vn,{tab:e.tab}):null,e.tab.type==="custom_domain"?ne.createElement(zn,{tab:e.tab}):null)))}var ir=ct.create({body:{maxWidth:900}});function rr(o){let{screen:e}=o,[t]=d();Mo();let{currentUser:n}=ut.auth();return oo(n)?rt.createElement(ko,{sidebar:rt.createElement(Yo,{screen:e}),sidebarCollapsable:!1,screen:e},rt.createElement(Jn,{screen:e})):rt.createElement(Fe,{style:[i.flex1,i.directionColumn],backgroundColor:t.colors.background.main},rt.createElement(ce,{title:"Access restricted"},"You don't have permissions to access this page."))}export{rr as default};
//# sourceMappingURL=https://app.gitbook.com/public/app/chunks/BackOfficeApp.lazycomponent-QIANZ75W.min.js.map
